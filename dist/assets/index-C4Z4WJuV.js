var ex=Object.defineProperty;var wA=u=>{throw TypeError(u)};var tx=(u,e,t)=>e in u?ex(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t;var Re=(u,e,t)=>tx(u,typeof e!="symbol"?e+"":e,t),Tm=(u,e,t)=>e.has(u)||wA("Cannot "+t);var c=(u,e,t)=>(Tm(u,e,"read from private field"),t?t.call(u):e.get(u)),x=(u,e,t)=>e.has(u)?wA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(u):e.set(u,t),S=(u,e,t,i)=>(Tm(u,e,"write to private field"),i?i.call(u,t):e.set(u,t),t),b=(u,e,t)=>(Tm(u,e,"access private method"),t);var Mn=(u,e,t,i)=>({set _(r){S(u,e,r,t)},get _(){return c(u,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function __(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var km={exports:{}},Bu={},Rm={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA;function nx(){if(AA)return Le;AA=1;var u=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function T(D,U,ae){this.props=D,this.context=U,this.refs=C,this.updater=ae||_}T.prototype.isReactComponent={},T.prototype.setState=function(D,U){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,U,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=T.prototype;function L(D,U,ae){this.props=D,this.context=U,this.refs=C,this.updater=ae||_}var I=L.prototype=new k;I.constructor=L,A(I,T.prototype),I.isPureReactComponent=!0;var O=Array.isArray,z=Object.prototype.hasOwnProperty,B={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function q(D,U,ae){var we,xe={},Ae=null,me=null;if(U!=null)for(we in U.ref!==void 0&&(me=U.ref),U.key!==void 0&&(Ae=""+U.key),U)z.call(U,we)&&!V.hasOwnProperty(we)&&(xe[we]=U[we]);var ke=arguments.length-2;if(ke===1)xe.children=ae;else if(1<ke){for(var Oe=Array(ke),Fe=0;Fe<ke;Fe++)Oe[Fe]=arguments[Fe+2];xe.children=Oe}if(D&&D.defaultProps)for(we in ke=D.defaultProps,ke)xe[we]===void 0&&(xe[we]=ke[we]);return{$$typeof:u,type:D,key:Ae,ref:me,props:xe,_owner:B.current}}function Q(D,U){return{$$typeof:u,type:D.type,key:U,ref:D.ref,props:D.props,_owner:D._owner}}function se(D){return typeof D=="object"&&D!==null&&D.$$typeof===u}function Z(D){var U={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return U[ae]})}var Te=/\/+/g;function ge(D,U){return typeof D=="object"&&D!==null&&D.key!=null?Z(""+D.key):U.toString(36)}function fe(D,U,ae,we,xe){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var me=!1;if(D===null)me=!0;else switch(Ae){case"string":case"number":me=!0;break;case"object":switch(D.$$typeof){case u:case e:me=!0}}if(me)return me=D,xe=xe(me),D=we===""?"."+ge(me,0):we,O(xe)?(ae="",D!=null&&(ae=D.replace(Te,"$&/")+"/"),fe(xe,U,ae,"",function(Fe){return Fe})):xe!=null&&(se(xe)&&(xe=Q(xe,ae+(!xe.key||me&&me.key===xe.key?"":(""+xe.key).replace(Te,"$&/")+"/")+D)),U.push(xe)),1;if(me=0,we=we===""?".":we+":",O(D))for(var ke=0;ke<D.length;ke++){Ae=D[ke];var Oe=we+ge(Ae,ke);me+=fe(Ae,U,ae,Oe,xe)}else if(Oe=w(D),typeof Oe=="function")for(D=Oe.call(D),ke=0;!(Ae=D.next()).done;)Ae=Ae.value,Oe=we+ge(Ae,ke++),me+=fe(Ae,U,ae,Oe,xe);else if(Ae==="object")throw U=String(D),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return me}function be(D,U,ae){if(D==null)return D;var we=[],xe=0;return fe(D,we,"","",function(Ae){return U.call(ae,Ae,xe++)}),we}function _e(D){if(D._status===-1){var U=D._result;U=U(),U.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=U)}if(D._status===1)return D._result.default;throw D._result}var Y={current:null},$={transition:null},oe={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:$,ReactCurrentOwner:B};function J(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:be,forEach:function(D,U,ae){be(D,function(){U.apply(this,arguments)},ae)},count:function(D){var U=0;return be(D,function(){U++}),U},toArray:function(D){return be(D,function(U){return U})||[]},only:function(D){if(!se(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Le.Component=T,Le.Fragment=t,Le.Profiler=r,Le.PureComponent=L,Le.StrictMode=i,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Le.act=J,Le.cloneElement=function(D,U,ae){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var we=A({},D.props),xe=D.key,Ae=D.ref,me=D._owner;if(U!=null){if(U.ref!==void 0&&(Ae=U.ref,me=B.current),U.key!==void 0&&(xe=""+U.key),D.type&&D.type.defaultProps)var ke=D.type.defaultProps;for(Oe in U)z.call(U,Oe)&&!V.hasOwnProperty(Oe)&&(we[Oe]=U[Oe]===void 0&&ke!==void 0?ke[Oe]:U[Oe])}var Oe=arguments.length-2;if(Oe===1)we.children=ae;else if(1<Oe){ke=Array(Oe);for(var Fe=0;Fe<Oe;Fe++)ke[Fe]=arguments[Fe+2];we.children=ke}return{$$typeof:u,type:D.type,key:xe,ref:Ae,props:we,_owner:me}},Le.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:o,_context:D},D.Consumer=D},Le.createElement=q,Le.createFactory=function(D){var U=q.bind(null,D);return U.type=D,U},Le.createRef=function(){return{current:null}},Le.forwardRef=function(D){return{$$typeof:h,render:D}},Le.isValidElement=se,Le.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:_e}},Le.memo=function(D,U){return{$$typeof:p,type:D,compare:U===void 0?null:U}},Le.startTransition=function(D){var U=$.transition;$.transition={};try{D()}finally{$.transition=U}},Le.unstable_act=J,Le.useCallback=function(D,U){return Y.current.useCallback(D,U)},Le.useContext=function(D){return Y.current.useContext(D)},Le.useDebugValue=function(){},Le.useDeferredValue=function(D){return Y.current.useDeferredValue(D)},Le.useEffect=function(D,U){return Y.current.useEffect(D,U)},Le.useId=function(){return Y.current.useId()},Le.useImperativeHandle=function(D,U,ae){return Y.current.useImperativeHandle(D,U,ae)},Le.useInsertionEffect=function(D,U){return Y.current.useInsertionEffect(D,U)},Le.useLayoutEffect=function(D,U){return Y.current.useLayoutEffect(D,U)},Le.useMemo=function(D,U){return Y.current.useMemo(D,U)},Le.useReducer=function(D,U,ae){return Y.current.useReducer(D,U,ae)},Le.useRef=function(D){return Y.current.useRef(D)},Le.useState=function(D){return Y.current.useState(D)},Le.useSyncExternalStore=function(D,U,ae){return Y.current.useSyncExternalStore(D,U,ae)},Le.useTransition=function(){return Y.current.useTransition()},Le.version="18.3.1",Le}var _A;function pv(){return _A||(_A=1,Rm.exports=nx()),Rm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA;function ix(){if(EA)return Bu;EA=1;var u=pv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var g,v={},w=null,_=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(_=f.ref);for(g in f)i.call(f,g)&&!o.hasOwnProperty(g)&&(v[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:h,key:w,ref:_,props:v,_owner:r.current}}return Bu.Fragment=t,Bu.jsx=l,Bu.jsxs=l,Bu}var SA;function sx(){return SA||(SA=1,km.exports=ix()),km.exports}var ze=sx(),lf={},Pm={exports:{}},wn={},Lm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA;function rx(){return bA||(bA=1,function(u){function e($,oe){var J=$.length;$.push(oe);e:for(;0<J;){var D=J-1>>>1,U=$[D];if(0<r(U,oe))$[D]=oe,$[J]=U,J=D;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var oe=$[0],J=$.pop();if(J!==oe){$[0]=J;e:for(var D=0,U=$.length,ae=U>>>1;D<ae;){var we=2*(D+1)-1,xe=$[we],Ae=we+1,me=$[Ae];if(0>r(xe,J))Ae<U&&0>r(me,xe)?($[D]=me,$[Ae]=J,D=Ae):($[D]=xe,$[we]=J,D=we);else if(Ae<U&&0>r(me,J))$[D]=me,$[Ae]=J,D=Ae;else break e}}return oe}function r($,oe){var J=$.sortIndex-oe.sortIndex;return J!==0?J:$.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();u.unstable_now=function(){return l.now()-h}}var f=[],p=[],g=1,v=null,w=3,_=!1,A=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I($){for(var oe=t(p);oe!==null;){if(oe.callback===null)i(p);else if(oe.startTime<=$)i(p),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(p)}}function O($){if(C=!1,I($),!A)if(t(f)!==null)A=!0,_e(z);else{var oe=t(p);oe!==null&&Y(O,oe.startTime-$)}}function z($,oe){A=!1,C&&(C=!1,k(q),q=-1),_=!0;var J=w;try{for(I(oe),v=t(f);v!==null&&(!(v.expirationTime>oe)||$&&!Z());){var D=v.callback;if(typeof D=="function"){v.callback=null,w=v.priorityLevel;var U=D(v.expirationTime<=oe);oe=u.unstable_now(),typeof U=="function"?v.callback=U:v===t(f)&&i(f),I(oe)}else i(f);v=t(f)}if(v!==null)var ae=!0;else{var we=t(p);we!==null&&Y(O,we.startTime-oe),ae=!1}return ae}finally{v=null,w=J,_=!1}}var B=!1,V=null,q=-1,Q=5,se=-1;function Z(){return!(u.unstable_now()-se<Q)}function Te(){if(V!==null){var $=u.unstable_now();se=$;var oe=!0;try{oe=V(!0,$)}finally{oe?ge():(B=!1,V=null)}}else B=!1}var ge;if(typeof L=="function")ge=function(){L(Te)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,be=fe.port2;fe.port1.onmessage=Te,ge=function(){be.postMessage(null)}}else ge=function(){T(Te,0)};function _e($){V=$,B||(B=!0,ge())}function Y($,oe){q=T(function(){$(u.unstable_now())},oe)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function($){$.callback=null},u.unstable_continueExecution=function(){A||_||(A=!0,_e(z))},u.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<$?Math.floor(1e3/$):5},u.unstable_getCurrentPriorityLevel=function(){return w},u.unstable_getFirstCallbackNode=function(){return t(f)},u.unstable_next=function($){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var J=w;w=oe;try{return $()}finally{w=J}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=w;w=$;try{return oe()}finally{w=J}},u.unstable_scheduleCallback=function($,oe,J){var D=u.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?D+J:D):J=D,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=J+U,$={id:g++,callback:oe,priorityLevel:$,startTime:J,expirationTime:U,sortIndex:-1},J>D?($.sortIndex=J,e(p,$),t(f)===null&&$===t(p)&&(C?(k(q),q=-1):C=!0,Y(O,J-D))):($.sortIndex=U,e(f,$),A||_||(A=!0,_e(z))),$},u.unstable_shouldYield=Z,u.unstable_wrapCallback=function($){var oe=w;return function(){var J=w;w=oe;try{return $.apply(this,arguments)}finally{w=J}}}}(Mm)),Mm}var xA;function ox(){return xA||(xA=1,Lm.exports=rx()),Lm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA;function ax(){if(CA)return wn;CA=1;var u=pv(),e=ox();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function o(n,s){l(n,s),l(n+"Capture",s)}function l(n,s){for(r[n]=s,n=0;n<s.length;n++)i.add(s[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(n){return f.call(v,n)?!0:f.call(g,n)?!1:p.test(n)?v[n]=!0:(g[n]=!0,!1)}function _(n,s,a,d){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function A(n,s,a,d){if(s===null||typeof s>"u"||_(n,s,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(n,s,a,d,m,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){T[n]=new C(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];T[s]=new C(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){T[n]=new C(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){T[n]=new C(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){T[n]=new C(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){T[n]=new C(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){T[n]=new C(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){T[n]=new C(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){T[n]=new C(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function L(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(k,L);T[s]=new C(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(k,L);T[s]=new C(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(k,L);T[s]=new C(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){T[n]=new C(n,1,!1,n.toLowerCase(),null,!1,!1)}),T.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){T[n]=new C(n,1,!1,n.toLowerCase(),null,!0,!0)});function I(n,s,a,d){var m=T.hasOwnProperty(s)?T[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,a,m,d)&&(a=null),d||m===null?w(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):m.mustUseProperty?n[m.propertyName]=a===null?m.type===3?!1:"":a:(s=m.attributeName,d=m.attributeNamespace,a===null?n.removeAttribute(s):(m=m.type,a=m===3||m===4&&a===!0?"":""+a,d?n.setAttributeNS(d,s,a):n.setAttribute(s,a))))}var O=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),B=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),Z=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),$=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=$&&n[$]||n["@@iterator"],typeof n=="function"?n:null)}var J=Object.assign,D;function U(n){if(D===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+n}var ae=!1;function we(n,s){if(!n||ae)return"";ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var d=H}Reflect.construct(n,[],s)}else{try{s.call()}catch(H){d=H}n.call(s.prototype)}else{try{throw Error()}catch(H){d=H}n()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),y=d.stack.split(`
`),E=m.length-1,R=y.length-1;1<=E&&0<=R&&m[E]!==y[R];)R--;for(;1<=E&&0<=R;E--,R--)if(m[E]!==y[R]){if(E!==1||R!==1)do if(E--,R--,0>R||m[E]!==y[R]){var P=`
`+m[E].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=E&&0<=R);break}}}finally{ae=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?U(n):""}function xe(n){switch(n.tag){case 5:return U(n.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return n=we(n.type,!1),n;case 11:return n=we(n.type.render,!1),n;case 1:return n=we(n.type,!0),n;default:return""}}function Ae(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case B:return"Portal";case Q:return"Profiler";case q:return"StrictMode";case ge:return"Suspense";case fe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Z:return(n.displayName||"Context")+".Consumer";case se:return(n._context.displayName||"Context")+".Provider";case Te:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case be:return s=n.displayName||null,s!==null?s:Ae(n.type)||"Memo";case _e:s=n._payload,n=n._init;try{return Ae(n(s))}catch{}}return null}function me(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(s);case 8:return s===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ke(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Oe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fe(n){var s=Oe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,y=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ri(n){n._valueTracker||(n._valueTracker=Fe(n))}function Qs(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),d="";return n&&(d=Oe(n)?n.checked?"true":"false":n.value),n=d,n!==a?(s.setValue(n),!0):!1}function Ve(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function rt(n,s){var a=s.checked;return J({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Et(n,s){var a=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;a=ke(s.value!=null?s.value:a),n._wrapperState={initialChecked:d,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ft(n,s){s=s.checked,s!=null&&I(n,"checked",s,!1)}function Pi(n,s){ft(n,s);var a=ke(s.value),d=s.type;if(a!=null)d==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?tu(n,s.type,a):s.hasOwnProperty("defaultValue")&&tu(n,s.type,ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Js(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function tu(n,s,a){(s!=="number"||Ve(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var qr=Array.isArray;function ri(n,s,a,d){if(n=n.options,s){s={};for(var m=0;m<a.length;m++)s["$"+a[m]]=!0;for(a=0;a<n.length;a++)m=s.hasOwnProperty("$"+n[a].value),n[a].selected!==m&&(n[a].selected=m),m&&d&&(n[a].defaultSelected=!0)}else{for(a=""+ke(a),s=null,m=0;m<n.length;m++){if(n[m].value===a){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function nu(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Yh(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(qr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:ke(a)}}function Qh(n,s){var a=ke(s.value),d=ke(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),d!=null&&(n.defaultValue=""+d)}function Jh(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Zh(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Li(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Zh(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ss,Xr=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,d,m){MSApp.execUnsafeLocalFunction(function(){return n(s,a,d,m)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ss.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function rs(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s1=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(n){s1.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),iu[s]=iu[n]})});function Iv(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||iu.hasOwnProperty(n)&&iu[n]?(""+s).trim():s+"px"}function Fv(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var d=a.indexOf("--")===0,m=Iv(a,s[a],d);a==="float"&&(a="cssFloat"),d?n.setProperty(a,m):n[a]=m}}var r1=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zp(n,s){if(s){if(r1[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Bp(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jp=null;function Up(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $p=null,Ea=null,Sa=null;function Ov(n){if(n=xu(n)){if(typeof $p!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Ed(s),$p(n.stateNode,n.type,s))}}function Nv(n){Ea?Sa?Sa.push(n):Sa=[n]:Ea=n}function Hv(){if(Ea){var n=Ea,s=Sa;if(Sa=Ea=null,Ov(n),s)for(n=0;n<s.length;n++)Ov(s[n])}}function zv(n,s){return n(s)}function Bv(){}var Vp=!1;function jv(n,s,a){if(Vp)return n(s,a);Vp=!0;try{return zv(n,s,a)}finally{Vp=!1,(Ea!==null||Sa!==null)&&(Bv(),Hv())}}function su(n,s){var a=n.stateNode;if(a===null)return null;var d=Ed(a);if(d===null)return null;a=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Wp=!1;if(h)try{var ru={};Object.defineProperty(ru,"passive",{get:function(){Wp=!0}}),window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Wp=!1}function o1(n,s,a,d,m,y,E,R,P){var H=Array.prototype.slice.call(arguments,3);try{s.apply(a,H)}catch(G){this.onError(G)}}var ou=!1,ed=null,td=!1,Gp=null,a1={onError:function(n){ou=!0,ed=n}};function l1(n,s,a,d,m,y,E,R,P){ou=!1,ed=null,o1.apply(a1,arguments)}function u1(n,s,a,d,m,y,E,R,P){if(l1.apply(this,arguments),ou){if(ou){var H=ed;ou=!1,ed=null}else throw Error(t(198));td||(td=!0,Gp=H)}}function Kr(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,s.flags&4098&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Uv(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function $v(n){if(Kr(n)!==n)throw Error(t(188))}function c1(n){var s=n.alternate;if(!s){if(s=Kr(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,d=s;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){a=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return $v(m),n;if(y===d)return $v(m),s;y=y.sibling}throw Error(t(188))}if(a.return!==d.return)a=m,d=y;else{for(var E=!1,R=m.child;R;){if(R===a){E=!0,a=m,d=y;break}if(R===d){E=!0,d=m,a=y;break}R=R.sibling}if(!E){for(R=y.child;R;){if(R===a){E=!0,a=y,d=m;break}if(R===d){E=!0,d=y,a=m;break}R=R.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function Vv(n){return n=c1(n),n!==null?Wv(n):null}function Wv(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Wv(n);if(s!==null)return s;n=n.sibling}return null}var Gv=e.unstable_scheduleCallback,qv=e.unstable_cancelCallback,h1=e.unstable_shouldYield,d1=e.unstable_requestPaint,pt=e.unstable_now,f1=e.unstable_getCurrentPriorityLevel,qp=e.unstable_ImmediatePriority,Xv=e.unstable_UserBlockingPriority,nd=e.unstable_NormalPriority,p1=e.unstable_LowPriority,Kv=e.unstable_IdlePriority,id=null,Mi=null;function g1(n){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot(id,n,void 0,(n.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:v1,m1=Math.log,y1=Math.LN2;function v1(n){return n>>>=0,n===0?32:31-(m1(n)/y1|0)|0}var sd=64,rd=4194304;function au(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function od(n,s){var a=n.pendingLanes;if(a===0)return 0;var d=0,m=n.suspendedLanes,y=n.pingedLanes,E=a&268435455;if(E!==0){var R=E&~m;R!==0?d=au(R):(y&=E,y!==0&&(d=au(y)))}else E=a&~m,E!==0?d=au(E):y!==0&&(d=au(y));if(d===0)return 0;if(s!==0&&s!==d&&!(s&m)&&(m=d&-d,y=s&-s,m>=y||m===16&&(y&4194240)!==0))return s;if(d&4&&(d|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)a=31-oi(s),m=1<<a,d|=n[a],s&=~m;return d}function w1(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A1(n,s){for(var a=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes;0<y;){var E=31-oi(y),R=1<<E,P=m[E];P===-1?(!(R&a)||R&d)&&(m[E]=w1(R,s)):P<=s&&(n.expiredLanes|=R),y&=~R}}function Xp(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yv(){var n=sd;return sd<<=1,!(sd&4194240)&&(sd=64),n}function Kp(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function lu(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-oi(s),n[s]=a}function _1(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<a;){var m=31-oi(a),y=1<<m;s[m]=0,d[m]=-1,n[m]=-1,a&=~y}}function Yp(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var d=31-oi(a),m=1<<d;m&s|n[d]&s&&(n[d]|=s),a&=~m}}var Ge=0;function Qv(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Jv,Qp,Zv,e0,t0,Jp=!1,ad=[],Zs=null,er=null,tr=null,uu=new Map,cu=new Map,nr=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n0(n,s){switch(n){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(s.pointerId)}}function hu(n,s,a,d,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:a,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},s!==null&&(s=xu(s),s!==null&&Qp(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function S1(n,s,a,d,m){switch(s){case"focusin":return Zs=hu(Zs,n,s,a,d,m),!0;case"dragenter":return er=hu(er,n,s,a,d,m),!0;case"mouseover":return tr=hu(tr,n,s,a,d,m),!0;case"pointerover":var y=m.pointerId;return uu.set(y,hu(uu.get(y)||null,n,s,a,d,m)),!0;case"gotpointercapture":return y=m.pointerId,cu.set(y,hu(cu.get(y)||null,n,s,a,d,m)),!0}return!1}function i0(n){var s=Yr(n.target);if(s!==null){var a=Kr(s);if(a!==null){if(s=a.tag,s===13){if(s=Uv(a),s!==null){n.blockedOn=s,t0(n.priority,function(){Zv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ld(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=eg(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var d=new a.constructor(a.type,a);jp=d,a.target.dispatchEvent(d),jp=null}else return s=xu(a),s!==null&&Qp(s),n.blockedOn=a,!1;s.shift()}return!0}function s0(n,s,a){ld(n)&&a.delete(s)}function b1(){Jp=!1,Zs!==null&&ld(Zs)&&(Zs=null),er!==null&&ld(er)&&(er=null),tr!==null&&ld(tr)&&(tr=null),uu.forEach(s0),cu.forEach(s0)}function du(n,s){n.blockedOn===s&&(n.blockedOn=null,Jp||(Jp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,b1)))}function fu(n){function s(m){return du(m,n)}if(0<ad.length){du(ad[0],n);for(var a=1;a<ad.length;a++){var d=ad[a];d.blockedOn===n&&(d.blockedOn=null)}}for(Zs!==null&&du(Zs,n),er!==null&&du(er,n),tr!==null&&du(tr,n),uu.forEach(s),cu.forEach(s),a=0;a<nr.length;a++)d=nr[a],d.blockedOn===n&&(d.blockedOn=null);for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)i0(a),a.blockedOn===null&&nr.shift()}var ba=O.ReactCurrentBatchConfig,ud=!0;function x1(n,s,a,d){var m=Ge,y=ba.transition;ba.transition=null;try{Ge=1,Zp(n,s,a,d)}finally{Ge=m,ba.transition=y}}function C1(n,s,a,d){var m=Ge,y=ba.transition;ba.transition=null;try{Ge=4,Zp(n,s,a,d)}finally{Ge=m,ba.transition=y}}function Zp(n,s,a,d){if(ud){var m=eg(n,s,a,d);if(m===null)yg(n,s,d,cd,a),n0(n,d);else if(S1(m,n,s,a,d))d.stopPropagation();else if(n0(n,d),s&4&&-1<E1.indexOf(n)){for(;m!==null;){var y=xu(m);if(y!==null&&Jv(y),y=eg(n,s,a,d),y===null&&yg(n,s,d,cd,a),y===m)break;m=y}m!==null&&d.stopPropagation()}else yg(n,s,d,null,a)}}var cd=null;function eg(n,s,a,d){if(cd=null,n=Up(d),n=Yr(n),n!==null)if(s=Kr(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Uv(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return cd=n,null}function r0(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f1()){case qp:return 1;case Xv:return 4;case nd:case p1:return 16;case Kv:return 536870912;default:return 16}default:return 16}}var ir=null,tg=null,hd=null;function o0(){if(hd)return hd;var n,s=tg,a=s.length,d,m="value"in ir?ir.value:ir.textContent,y=m.length;for(n=0;n<a&&s[n]===m[n];n++);var E=a-n;for(d=1;d<=E&&s[a-d]===m[y-d];d++);return hd=m.slice(n,1<d?1-d:void 0)}function dd(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function fd(){return!0}function a0(){return!1}function kn(n){function s(a,d,m,y,E){this._reactName=a,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?fd:a0,this.isPropagationStopped=a0,this}return J(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fd)},persist:function(){},isPersistent:fd}),s}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ng=kn(xa),pu=J({},xa,{view:0,detail:0}),T1=kn(pu),ig,sg,gu,pd=J({},pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:og,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gu&&(gu&&n.type==="mousemove"?(ig=n.screenX-gu.screenX,sg=n.screenY-gu.screenY):sg=ig=0,gu=n),ig)},movementY:function(n){return"movementY"in n?n.movementY:sg}}),l0=kn(pd),k1=J({},pd,{dataTransfer:0}),R1=kn(k1),P1=J({},pu,{relatedTarget:0}),rg=kn(P1),L1=J({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),M1=kn(L1),D1=J({},xa,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),I1=kn(D1),F1=J({},xa,{data:0}),u0=kn(F1),O1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z1(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=H1[n])?!!s[n]:!1}function og(){return z1}var B1=J({},pu,{key:function(n){if(n.key){var s=O1[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=dd(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?N1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:og,charCode:function(n){return n.type==="keypress"?dd(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?dd(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),j1=kn(B1),U1=J({},pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c0=kn(U1),$1=J({},pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:og}),V1=kn($1),W1=J({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),G1=kn(W1),q1=J({},pd,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),X1=kn(q1),K1=[9,13,27,32],ag=h&&"CompositionEvent"in window,mu=null;h&&"documentMode"in document&&(mu=document.documentMode);var Y1=h&&"TextEvent"in window&&!mu,h0=h&&(!ag||mu&&8<mu&&11>=mu),d0=" ",f0=!1;function p0(n,s){switch(n){case"keyup":return K1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ca=!1;function Q1(n,s){switch(n){case"compositionend":return g0(s);case"keypress":return s.which!==32?null:(f0=!0,d0);case"textInput":return n=s.data,n===d0&&f0?null:n;default:return null}}function J1(n,s){if(Ca)return n==="compositionend"||!ag&&p0(n,s)?(n=o0(),hd=tg=ir=null,Ca=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return h0&&s.locale!=="ko"?null:s.data;default:return null}}var Z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m0(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Z1[n.type]:s==="textarea"}function y0(n,s,a,d){Nv(d),s=wd(s,"onChange"),0<s.length&&(a=new ng("onChange","change",null,a,d),n.push({event:a,listeners:s}))}var yu=null,vu=null;function eb(n){F0(n,0)}function gd(n){var s=La(n);if(Qs(s))return n}function tb(n,s){if(n==="change")return s}var v0=!1;if(h){var lg;if(h){var ug="oninput"in document;if(!ug){var w0=document.createElement("div");w0.setAttribute("oninput","return;"),ug=typeof w0.oninput=="function"}lg=ug}else lg=!1;v0=lg&&(!document.documentMode||9<document.documentMode)}function A0(){yu&&(yu.detachEvent("onpropertychange",_0),vu=yu=null)}function _0(n){if(n.propertyName==="value"&&gd(vu)){var s=[];y0(s,vu,n,Up(n)),jv(eb,s)}}function nb(n,s,a){n==="focusin"?(A0(),yu=s,vu=a,yu.attachEvent("onpropertychange",_0)):n==="focusout"&&A0()}function ib(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gd(vu)}function sb(n,s){if(n==="click")return gd(s)}function rb(n,s){if(n==="input"||n==="change")return gd(s)}function ob(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ai=typeof Object.is=="function"?Object.is:ob;function wu(n,s){if(ai(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),d=Object.keys(s);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var m=a[d];if(!f.call(s,m)||!ai(n[m],s[m]))return!1}return!0}function E0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function S0(n,s){var a=E0(n);n=0;for(var d;a;){if(a.nodeType===3){if(d=n+a.textContent.length,n<=s&&d>=s)return{node:a,offset:s-n};n=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=E0(a)}}function b0(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?b0(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function x0(){for(var n=window,s=Ve();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ve(n.document)}return s}function cg(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function ab(n){var s=x0(),a=n.focusedElem,d=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&b0(a.ownerDocument.documentElement,a)){if(d!==null&&cg(a)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var m=a.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!n.extend&&y>d&&(m=d,d=y,y=m),m=S0(a,y);var E=S0(a,d);m&&E&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),n.removeAllRanges(),y>d?(n.addRange(s),n.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var lb=h&&"documentMode"in document&&11>=document.documentMode,Ta=null,hg=null,Au=null,dg=!1;function C0(n,s,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dg||Ta==null||Ta!==Ve(d)||(d=Ta,"selectionStart"in d&&cg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Au&&wu(Au,d)||(Au=d,d=wd(hg,"onSelect"),0<d.length&&(s=new ng("onSelect","select",null,s,a),n.push({event:s,listeners:d}),s.target=Ta)))}function md(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var ka={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},fg={},T0={};h&&(T0=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function yd(n){if(fg[n])return fg[n];if(!ka[n])return n;var s=ka[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in T0)return fg[n]=s[a];return n}var k0=yd("animationend"),R0=yd("animationiteration"),P0=yd("animationstart"),L0=yd("transitionend"),M0=new Map,D0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(n,s){M0.set(n,s),o(s,[n])}for(var pg=0;pg<D0.length;pg++){var gg=D0[pg],ub=gg.toLowerCase(),cb=gg[0].toUpperCase()+gg.slice(1);sr(ub,"on"+cb)}sr(k0,"onAnimationEnd"),sr(R0,"onAnimationIteration"),sr(P0,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(L0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("cancel close invalid load scroll toggle".split(" ").concat(_u));function I0(n,s,a){var d=n.type||"unknown-event";n.currentTarget=a,u1(d,s,void 0,n),n.currentTarget=null}function F0(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var d=n[a],m=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var E=d.length-1;0<=E;E--){var R=d[E],P=R.instance,H=R.currentTarget;if(R=R.listener,P!==y&&m.isPropagationStopped())break e;I0(m,R,H),y=P}else for(E=0;E<d.length;E++){if(R=d[E],P=R.instance,H=R.currentTarget,R=R.listener,P!==y&&m.isPropagationStopped())break e;I0(m,R,H),y=P}}}if(td)throw n=Gp,td=!1,Gp=null,n}function it(n,s){var a=s[Sg];a===void 0&&(a=s[Sg]=new Set);var d=n+"__bubble";a.has(d)||(O0(s,n,2,!1),a.add(d))}function mg(n,s,a){var d=0;s&&(d|=4),O0(a,n,d,s)}var vd="_reactListening"+Math.random().toString(36).slice(2);function Eu(n){if(!n[vd]){n[vd]=!0,i.forEach(function(a){a!=="selectionchange"&&(hb.has(a)||mg(a,!1,n),mg(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[vd]||(s[vd]=!0,mg("selectionchange",!1,s))}}function O0(n,s,a,d){switch(r0(s)){case 1:var m=x1;break;case 4:m=C1;break;default:m=Zp}a=m.bind(null,s,a,n),m=void 0,!Wp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(s,a,{capture:!0,passive:m}):n.addEventListener(s,a,!0):m!==void 0?n.addEventListener(s,a,{passive:m}):n.addEventListener(s,a,!1)}function yg(n,s,a,d,m){var y=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var R=d.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(E===4)for(E=d.return;E!==null;){var P=E.tag;if((P===3||P===4)&&(P=E.stateNode.containerInfo,P===m||P.nodeType===8&&P.parentNode===m))return;E=E.return}for(;R!==null;){if(E=Yr(R),E===null)return;if(P=E.tag,P===5||P===6){d=y=E;continue e}R=R.parentNode}}d=d.return}jv(function(){var H=y,G=Up(a),X=[];e:{var W=M0.get(n);if(W!==void 0){var ne=ng,re=n;switch(n){case"keypress":if(dd(a)===0)break e;case"keydown":case"keyup":ne=j1;break;case"focusin":re="focus",ne=rg;break;case"focusout":re="blur",ne=rg;break;case"beforeblur":case"afterblur":ne=rg;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=l0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=R1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=V1;break;case k0:case R0:case P0:ne=M1;break;case L0:ne=G1;break;case"scroll":ne=T1;break;case"wheel":ne=X1;break;case"copy":case"cut":case"paste":ne=I1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=c0}var ue=(s&4)!==0,gt=!ue&&n==="scroll",F=ue?W!==null?W+"Capture":null:W;ue=[];for(var M=H,N;M!==null;){N=M;var K=N.stateNode;if(N.tag===5&&K!==null&&(N=K,F!==null&&(K=su(M,F),K!=null&&ue.push(Su(M,K,N)))),gt)break;M=M.return}0<ue.length&&(W=new ne(W,re,null,a,G),X.push({event:W,listeners:ue}))}}if(!(s&7)){e:{if(W=n==="mouseover"||n==="pointerover",ne=n==="mouseout"||n==="pointerout",W&&a!==jp&&(re=a.relatedTarget||a.fromElement)&&(Yr(re)||re[os]))break e;if((ne||W)&&(W=G.window===G?G:(W=G.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(re=a.relatedTarget||a.toElement,ne=H,re=re?Yr(re):null,re!==null&&(gt=Kr(re),re!==gt||re.tag!==5&&re.tag!==6)&&(re=null)):(ne=null,re=H),ne!==re)){if(ue=l0,K="onMouseLeave",F="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ue=c0,K="onPointerLeave",F="onPointerEnter",M="pointer"),gt=ne==null?W:La(ne),N=re==null?W:La(re),W=new ue(K,M+"leave",ne,a,G),W.target=gt,W.relatedTarget=N,K=null,Yr(G)===H&&(ue=new ue(F,M+"enter",re,a,G),ue.target=N,ue.relatedTarget=gt,K=ue),gt=K,ne&&re)t:{for(ue=ne,F=re,M=0,N=ue;N;N=Ra(N))M++;for(N=0,K=F;K;K=Ra(K))N++;for(;0<M-N;)ue=Ra(ue),M--;for(;0<N-M;)F=Ra(F),N--;for(;M--;){if(ue===F||F!==null&&ue===F.alternate)break t;ue=Ra(ue),F=Ra(F)}ue=null}else ue=null;ne!==null&&N0(X,W,ne,ue,!1),re!==null&&gt!==null&&N0(X,gt,re,ue,!0)}}e:{if(W=H?La(H):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var he=tb;else if(m0(W))if(v0)he=rb;else{he=ib;var ye=nb}else(ne=W.nodeName)&&ne.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(he=sb);if(he&&(he=he(n,H))){y0(X,he,a,G);break e}ye&&ye(n,W,H),n==="focusout"&&(ye=W._wrapperState)&&ye.controlled&&W.type==="number"&&tu(W,"number",W.value)}switch(ye=H?La(H):window,n){case"focusin":(m0(ye)||ye.contentEditable==="true")&&(Ta=ye,hg=H,Au=null);break;case"focusout":Au=hg=Ta=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,C0(X,a,G);break;case"selectionchange":if(lb)break;case"keydown":case"keyup":C0(X,a,G)}var ve;if(ag)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ca?p0(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(h0&&a.locale!=="ko"&&(Ca||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ca&&(ve=o0()):(ir=G,tg="value"in ir?ir.value:ir.textContent,Ca=!0)),ye=wd(H,Ee),0<ye.length&&(Ee=new u0(Ee,n,null,a,G),X.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=g0(a),ve!==null&&(Ee.data=ve)))),(ve=Y1?Q1(n,a):J1(n,a))&&(H=wd(H,"onBeforeInput"),0<H.length&&(G=new u0("onBeforeInput","beforeinput",null,a,G),X.push({event:G,listeners:H}),G.data=ve))}F0(X,s)})}function Su(n,s,a){return{instance:n,listener:s,currentTarget:a}}function wd(n,s){for(var a=s+"Capture",d=[];n!==null;){var m=n,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=su(n,a),y!=null&&d.unshift(Su(n,y,m)),y=su(n,s),y!=null&&d.push(Su(n,y,m))),n=n.return}return d}function Ra(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function N0(n,s,a,d,m){for(var y=s._reactName,E=[];a!==null&&a!==d;){var R=a,P=R.alternate,H=R.stateNode;if(P!==null&&P===d)break;R.tag===5&&H!==null&&(R=H,m?(P=su(a,y),P!=null&&E.unshift(Su(a,P,R))):m||(P=su(a,y),P!=null&&E.push(Su(a,P,R)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var db=/\r\n?/g,fb=/\u0000|\uFFFD/g;function H0(n){return(typeof n=="string"?n:""+n).replace(db,`
`).replace(fb,"")}function Ad(n,s,a){if(s=H0(s),H0(n)!==s&&a)throw Error(t(425))}function _d(){}var vg=null,wg=null;function Ag(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(n){return z0.resolve(null).then(n).catch(mb)}:_g;function mb(n){setTimeout(function(){throw n})}function Eg(n,s){var a=s,d=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(d===0){n.removeChild(m),fu(s);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=m}while(a);fu(s)}function rr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function B0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),Di="__reactFiber$"+Pa,bu="__reactProps$"+Pa,os="__reactContainer$"+Pa,Sg="__reactEvents$"+Pa,yb="__reactListeners$"+Pa,vb="__reactHandles$"+Pa;function Yr(n){var s=n[Di];if(s)return s;for(var a=n.parentNode;a;){if(s=a[os]||a[Di]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=B0(n);n!==null;){if(a=n[Di])return a;n=B0(n)}return s}n=a,a=n.parentNode}return null}function xu(n){return n=n[Di]||n[os],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function La(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ed(n){return n[bu]||null}var bg=[],Ma=-1;function or(n){return{current:n}}function st(n){0>Ma||(n.current=bg[Ma],bg[Ma]=null,Ma--)}function tt(n,s){Ma++,bg[Ma]=n.current,n.current=s}var ar={},Xt=or(ar),pn=or(!1),Qr=ar;function Da(n,s){var a=n.type.contextTypes;if(!a)return ar;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in a)m[y]=s[y];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=m),m}function gn(n){return n=n.childContextTypes,n!=null}function Sd(){st(pn),st(Xt)}function j0(n,s,a){if(Xt.current!==ar)throw Error(t(168));tt(Xt,s),tt(pn,a)}function U0(n,s,a){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(t(108,me(n)||"Unknown",m));return J({},a,d)}function bd(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ar,Qr=Xt.current,tt(Xt,n),tt(pn,pn.current),!0}function $0(n,s,a){var d=n.stateNode;if(!d)throw Error(t(169));a?(n=U0(n,s,Qr),d.__reactInternalMemoizedMergedChildContext=n,st(pn),st(Xt),tt(Xt,n)):st(pn),tt(pn,a)}var as=null,xd=!1,xg=!1;function V0(n){as===null?as=[n]:as.push(n)}function wb(n){xd=!0,V0(n)}function lr(){if(!xg&&as!==null){xg=!0;var n=0,s=Ge;try{var a=as;for(Ge=1;n<a.length;n++){var d=a[n];do d=d(!0);while(d!==null)}as=null,xd=!1}catch(m){throw as!==null&&(as=as.slice(n+1)),Gv(qp,lr),m}finally{Ge=s,xg=!1}}return null}var Ia=[],Fa=0,Cd=null,Td=0,Wn=[],Gn=0,Jr=null,ls=1,us="";function Zr(n,s){Ia[Fa++]=Td,Ia[Fa++]=Cd,Cd=n,Td=s}function W0(n,s,a){Wn[Gn++]=ls,Wn[Gn++]=us,Wn[Gn++]=Jr,Jr=n;var d=ls;n=us;var m=32-oi(d)-1;d&=~(1<<m),a+=1;var y=32-oi(s)+m;if(30<y){var E=m-m%5;y=(d&(1<<E)-1).toString(32),d>>=E,m-=E,ls=1<<32-oi(s)+m|a<<m|d,us=y+n}else ls=1<<y|a<<m|d,us=n}function Cg(n){n.return!==null&&(Zr(n,1),W0(n,1,0))}function Tg(n){for(;n===Cd;)Cd=Ia[--Fa],Ia[Fa]=null,Td=Ia[--Fa],Ia[Fa]=null;for(;n===Jr;)Jr=Wn[--Gn],Wn[Gn]=null,us=Wn[--Gn],Wn[Gn]=null,ls=Wn[--Gn],Wn[Gn]=null}var Rn=null,Pn=null,ot=!1,li=null;function G0(n,s){var a=Yn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function q0(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Rn=n,Pn=rr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Rn=n,Pn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Jr!==null?{id:ls,overflow:us}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Yn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,Rn=n,Pn=null,!0):!1;default:return!1}}function kg(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Rg(n){if(ot){var s=Pn;if(s){var a=s;if(!q0(n,s)){if(kg(n))throw Error(t(418));s=rr(a.nextSibling);var d=Rn;s&&q0(n,s)?G0(d,a):(n.flags=n.flags&-4097|2,ot=!1,Rn=n)}}else{if(kg(n))throw Error(t(418));n.flags=n.flags&-4097|2,ot=!1,Rn=n}}}function X0(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Rn=n}function kd(n){if(n!==Rn)return!1;if(!ot)return X0(n),ot=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Ag(n.type,n.memoizedProps)),s&&(s=Pn)){if(kg(n))throw K0(),Error(t(418));for(;s;)G0(n,s),s=rr(s.nextSibling)}if(X0(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){Pn=rr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}Pn=null}}else Pn=Rn?rr(n.stateNode.nextSibling):null;return!0}function K0(){for(var n=Pn;n;)n=rr(n.nextSibling)}function Oa(){Pn=Rn=null,ot=!1}function Pg(n){li===null?li=[n]:li.push(n)}var Ab=O.ReactCurrentBatchConfig;function Cu(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,n));var m=d,y=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var R=m.refs;E===null?delete R[y]:R[y]=E},s._stringRef=y,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Rd(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Y0(n){var s=n._init;return s(n._payload)}function Q0(n){function s(F,M){if(n){var N=F.deletions;N===null?(F.deletions=[M],F.flags|=16):N.push(M)}}function a(F,M){if(!n)return null;for(;M!==null;)s(F,M),M=M.sibling;return null}function d(F,M){for(F=new Map;M!==null;)M.key!==null?F.set(M.key,M):F.set(M.index,M),M=M.sibling;return F}function m(F,M){return F=mr(F,M),F.index=0,F.sibling=null,F}function y(F,M,N){return F.index=N,n?(N=F.alternate,N!==null?(N=N.index,N<M?(F.flags|=2,M):N):(F.flags|=2,M)):(F.flags|=1048576,M)}function E(F){return n&&F.alternate===null&&(F.flags|=2),F}function R(F,M,N,K){return M===null||M.tag!==6?(M=_m(N,F.mode,K),M.return=F,M):(M=m(M,N),M.return=F,M)}function P(F,M,N,K){var he=N.type;return he===V?G(F,M,N.props.children,K,N.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===_e&&Y0(he)===M.type)?(K=m(M,N.props),K.ref=Cu(F,M,N),K.return=F,K):(K=Zd(N.type,N.key,N.props,null,F.mode,K),K.ref=Cu(F,M,N),K.return=F,K)}function H(F,M,N,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==N.containerInfo||M.stateNode.implementation!==N.implementation?(M=Em(N,F.mode,K),M.return=F,M):(M=m(M,N.children||[]),M.return=F,M)}function G(F,M,N,K,he){return M===null||M.tag!==7?(M=ao(N,F.mode,K,he),M.return=F,M):(M=m(M,N),M.return=F,M)}function X(F,M,N){if(typeof M=="string"&&M!==""||typeof M=="number")return M=_m(""+M,F.mode,N),M.return=F,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z:return N=Zd(M.type,M.key,M.props,null,F.mode,N),N.ref=Cu(F,null,M),N.return=F,N;case B:return M=Em(M,F.mode,N),M.return=F,M;case _e:var K=M._init;return X(F,K(M._payload),N)}if(qr(M)||oe(M))return M=ao(M,F.mode,N,null),M.return=F,M;Rd(F,M)}return null}function W(F,M,N,K){var he=M!==null?M.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return he!==null?null:R(F,M,""+N,K);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case z:return N.key===he?P(F,M,N,K):null;case B:return N.key===he?H(F,M,N,K):null;case _e:return he=N._init,W(F,M,he(N._payload),K)}if(qr(N)||oe(N))return he!==null?null:G(F,M,N,K,null);Rd(F,N)}return null}function ne(F,M,N,K,he){if(typeof K=="string"&&K!==""||typeof K=="number")return F=F.get(N)||null,R(M,F,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return F=F.get(K.key===null?N:K.key)||null,P(M,F,K,he);case B:return F=F.get(K.key===null?N:K.key)||null,H(M,F,K,he);case _e:var ye=K._init;return ne(F,M,N,ye(K._payload),he)}if(qr(K)||oe(K))return F=F.get(N)||null,G(M,F,K,he,null);Rd(M,K)}return null}function re(F,M,N,K){for(var he=null,ye=null,ve=M,Ee=M=0,It=null;ve!==null&&Ee<N.length;Ee++){ve.index>Ee?(It=ve,ve=null):It=ve.sibling;var Ue=W(F,ve,N[Ee],K);if(Ue===null){ve===null&&(ve=It);break}n&&ve&&Ue.alternate===null&&s(F,ve),M=y(Ue,M,Ee),ye===null?he=Ue:ye.sibling=Ue,ye=Ue,ve=It}if(Ee===N.length)return a(F,ve),ot&&Zr(F,Ee),he;if(ve===null){for(;Ee<N.length;Ee++)ve=X(F,N[Ee],K),ve!==null&&(M=y(ve,M,Ee),ye===null?he=ve:ye.sibling=ve,ye=ve);return ot&&Zr(F,Ee),he}for(ve=d(F,ve);Ee<N.length;Ee++)It=ne(ve,F,Ee,N[Ee],K),It!==null&&(n&&It.alternate!==null&&ve.delete(It.key===null?Ee:It.key),M=y(It,M,Ee),ye===null?he=It:ye.sibling=It,ye=It);return n&&ve.forEach(function(yr){return s(F,yr)}),ot&&Zr(F,Ee),he}function ue(F,M,N,K){var he=oe(N);if(typeof he!="function")throw Error(t(150));if(N=he.call(N),N==null)throw Error(t(151));for(var ye=he=null,ve=M,Ee=M=0,It=null,Ue=N.next();ve!==null&&!Ue.done;Ee++,Ue=N.next()){ve.index>Ee?(It=ve,ve=null):It=ve.sibling;var yr=W(F,ve,Ue.value,K);if(yr===null){ve===null&&(ve=It);break}n&&ve&&yr.alternate===null&&s(F,ve),M=y(yr,M,Ee),ye===null?he=yr:ye.sibling=yr,ye=yr,ve=It}if(Ue.done)return a(F,ve),ot&&Zr(F,Ee),he;if(ve===null){for(;!Ue.done;Ee++,Ue=N.next())Ue=X(F,Ue.value,K),Ue!==null&&(M=y(Ue,M,Ee),ye===null?he=Ue:ye.sibling=Ue,ye=Ue);return ot&&Zr(F,Ee),he}for(ve=d(F,ve);!Ue.done;Ee++,Ue=N.next())Ue=ne(ve,F,Ee,Ue.value,K),Ue!==null&&(n&&Ue.alternate!==null&&ve.delete(Ue.key===null?Ee:Ue.key),M=y(Ue,M,Ee),ye===null?he=Ue:ye.sibling=Ue,ye=Ue);return n&&ve.forEach(function(Zb){return s(F,Zb)}),ot&&Zr(F,Ee),he}function gt(F,M,N,K){if(typeof N=="object"&&N!==null&&N.type===V&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case z:e:{for(var he=N.key,ye=M;ye!==null;){if(ye.key===he){if(he=N.type,he===V){if(ye.tag===7){a(F,ye.sibling),M=m(ye,N.props.children),M.return=F,F=M;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===_e&&Y0(he)===ye.type){a(F,ye.sibling),M=m(ye,N.props),M.ref=Cu(F,ye,N),M.return=F,F=M;break e}a(F,ye);break}else s(F,ye);ye=ye.sibling}N.type===V?(M=ao(N.props.children,F.mode,K,N.key),M.return=F,F=M):(K=Zd(N.type,N.key,N.props,null,F.mode,K),K.ref=Cu(F,M,N),K.return=F,F=K)}return E(F);case B:e:{for(ye=N.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===N.containerInfo&&M.stateNode.implementation===N.implementation){a(F,M.sibling),M=m(M,N.children||[]),M.return=F,F=M;break e}else{a(F,M);break}else s(F,M);M=M.sibling}M=Em(N,F.mode,K),M.return=F,F=M}return E(F);case _e:return ye=N._init,gt(F,M,ye(N._payload),K)}if(qr(N))return re(F,M,N,K);if(oe(N))return ue(F,M,N,K);Rd(F,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,M!==null&&M.tag===6?(a(F,M.sibling),M=m(M,N),M.return=F,F=M):(a(F,M),M=_m(N,F.mode,K),M.return=F,F=M),E(F)):a(F,M)}return gt}var Na=Q0(!0),J0=Q0(!1),Pd=or(null),Ld=null,Ha=null,Lg=null;function Mg(){Lg=Ha=Ld=null}function Dg(n){var s=Pd.current;st(Pd),n._currentValue=s}function Ig(n,s,a){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===a)break;n=n.return}}function za(n,s){Ld=n,Lg=Ha=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&s&&(mn=!0),n.firstContext=null)}function qn(n){var s=n._currentValue;if(Lg!==n)if(n={context:n,memoizedValue:s,next:null},Ha===null){if(Ld===null)throw Error(t(308));Ha=n,Ld.dependencies={lanes:0,firstContext:n}}else Ha=Ha.next=n;return s}var eo=null;function Fg(n){eo===null?eo=[n]:eo.push(n)}function Z0(n,s,a,d){var m=s.interleaved;return m===null?(a.next=a,Fg(s)):(a.next=m.next,m.next=a),s.interleaved=a,cs(n,d)}function cs(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ur=!1;function Og(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ew(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function hs(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function cr(n,s,a){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,Be&2){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,cs(n,a)}return m=d.interleaved,m===null?(s.next=s,Fg(d)):(s.next=m.next,m.next=s),d.interleaved=s,cs(n,a)}function Md(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,a|=d,s.lanes=a,Yp(n,a)}}function tw(n,s){var a=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?m=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?m=y=s:y=y.next=s}else m=y=s;a={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function Dd(n,s,a,d){var m=n.updateQueue;ur=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var P=R,H=P.next;P.next=null,E===null?y=H:E.next=H,E=P;var G=n.alternate;G!==null&&(G=G.updateQueue,R=G.lastBaseUpdate,R!==E&&(R===null?G.firstBaseUpdate=H:R.next=H,G.lastBaseUpdate=P))}if(y!==null){var X=m.baseState;E=0,G=H=P=null,R=y;do{var W=R.lane,ne=R.eventTime;if((d&W)===W){G!==null&&(G=G.next={eventTime:ne,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var re=n,ue=R;switch(W=s,ne=a,ue.tag){case 1:if(re=ue.payload,typeof re=="function"){X=re.call(ne,X,W);break e}X=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ue.payload,W=typeof re=="function"?re.call(ne,X,W):re,W==null)break e;X=J({},X,W);break e;case 2:ur=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,W=m.effects,W===null?m.effects=[R]:W.push(R))}else ne={eventTime:ne,lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},G===null?(H=G=ne,P=X):G=G.next=ne,E|=W;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;W=R,R=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);if(G===null&&(P=X),m.baseState=P,m.firstBaseUpdate=H,m.lastBaseUpdate=G,s=m.shared.interleaved,s!==null){m=s;do E|=m.lane,m=m.next;while(m!==s)}else y===null&&(m.shared.lanes=0);io|=E,n.lanes=E,n.memoizedState=X}}function nw(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],m=d.callback;if(m!==null){if(d.callback=null,d=a,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Tu={},Ii=or(Tu),ku=or(Tu),Ru=or(Tu);function to(n){if(n===Tu)throw Error(t(174));return n}function Ng(n,s){switch(tt(Ru,s),tt(ku,n),tt(Ii,Tu),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Li(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Li(s,n)}st(Ii),tt(Ii,s)}function Ba(){st(Ii),st(ku),st(Ru)}function iw(n){to(Ru.current);var s=to(Ii.current),a=Li(s,n.type);s!==a&&(tt(ku,n),tt(Ii,a))}function Hg(n){ku.current===n&&(st(Ii),st(ku))}var at=or(0);function Id(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var zg=[];function Bg(){for(var n=0;n<zg.length;n++)zg[n]._workInProgressVersionPrimary=null;zg.length=0}var Fd=O.ReactCurrentDispatcher,jg=O.ReactCurrentBatchConfig,no=0,lt=null,St=null,Mt=null,Od=!1,Pu=!1,Lu=0,_b=0;function Kt(){throw Error(t(321))}function Ug(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!ai(n[a],s[a]))return!1;return!0}function $g(n,s,a,d,m,y){if(no=y,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fd.current=n===null||n.memoizedState===null?xb:Cb,n=a(d,m),Pu){y=0;do{if(Pu=!1,Lu=0,25<=y)throw Error(t(301));y+=1,Mt=St=null,s.updateQueue=null,Fd.current=Tb,n=a(d,m)}while(Pu)}if(Fd.current=zd,s=St!==null&&St.next!==null,no=0,Mt=St=lt=null,Od=!1,s)throw Error(t(300));return n}function Vg(){var n=Lu!==0;return Lu=0,n}function Fi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?lt.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function Xn(){if(St===null){var n=lt.alternate;n=n!==null?n.memoizedState:null}else n=St.next;var s=Mt===null?lt.memoizedState:Mt.next;if(s!==null)Mt=s,St=n;else{if(n===null)throw Error(t(310));St=n,n={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Mt===null?lt.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function Mu(n,s){return typeof s=="function"?s(n):s}function Wg(n){var s=Xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var d=St,m=d.baseQueue,y=a.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}d.baseQueue=m=y,a.pending=null}if(m!==null){y=m.next,d=d.baseState;var R=E=null,P=null,H=y;do{var G=H.lane;if((no&G)===G)P!==null&&(P=P.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:n(d,H.action);else{var X={lane:G,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};P===null?(R=P=X,E=d):P=P.next=X,lt.lanes|=G,io|=G}H=H.next}while(H!==null&&H!==y);P===null?E=d:P.next=R,ai(d,s.memoizedState)||(mn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=P,a.lastRenderedState=d}if(n=a.interleaved,n!==null){m=n;do y=m.lane,lt.lanes|=y,io|=y,m=m.next;while(m!==n)}else m===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Gg(n){var s=Xn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var d=a.dispatch,m=a.pending,y=s.memoizedState;if(m!==null){a.pending=null;var E=m=m.next;do y=n(y,E.action),E=E.next;while(E!==m);ai(y,s.memoizedState)||(mn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,d]}function sw(){}function rw(n,s){var a=lt,d=Xn(),m=s(),y=!ai(d.memoizedState,m);if(y&&(d.memoizedState=m,mn=!0),d=d.queue,qg(lw.bind(null,a,d,n),[n]),d.getSnapshot!==s||y||Mt!==null&&Mt.memoizedState.tag&1){if(a.flags|=2048,Du(9,aw.bind(null,a,d,m,s),void 0,null),Dt===null)throw Error(t(349));no&30||ow(a,s,m)}return m}function ow(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function aw(n,s,a,d){s.value=a,s.getSnapshot=d,uw(s)&&cw(n)}function lw(n,s,a){return a(function(){uw(s)&&cw(n)})}function uw(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!ai(n,a)}catch{return!0}}function cw(n){var s=cs(n,1);s!==null&&di(s,n,1,-1)}function hw(n){var s=Fi();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:n},s.queue=n,n=n.dispatch=bb.bind(null,lt,n),[s.memoizedState,n]}function Du(n,s,a,d){return n={tag:n,create:s,destroy:a,deps:d,next:null},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(d=a.next,a.next=n,n.next=d,s.lastEffect=n)),n}function dw(){return Xn().memoizedState}function Nd(n,s,a,d){var m=Fi();lt.flags|=n,m.memoizedState=Du(1|s,a,void 0,d===void 0?null:d)}function Hd(n,s,a,d){var m=Xn();d=d===void 0?null:d;var y=void 0;if(St!==null){var E=St.memoizedState;if(y=E.destroy,d!==null&&Ug(d,E.deps)){m.memoizedState=Du(s,a,y,d);return}}lt.flags|=n,m.memoizedState=Du(1|s,a,y,d)}function fw(n,s){return Nd(8390656,8,n,s)}function qg(n,s){return Hd(2048,8,n,s)}function pw(n,s){return Hd(4,2,n,s)}function gw(n,s){return Hd(4,4,n,s)}function mw(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function yw(n,s,a){return a=a!=null?a.concat([n]):null,Hd(4,4,mw.bind(null,s,n),a)}function Xg(){}function vw(n,s){var a=Xn();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&Ug(s,d[1])?d[0]:(a.memoizedState=[n,s],n)}function ww(n,s){var a=Xn();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&Ug(s,d[1])?d[0]:(n=n(),a.memoizedState=[n,s],n)}function Aw(n,s,a){return no&21?(ai(a,s)||(a=Yv(),lt.lanes|=a,io|=a,n.baseState=!0),s):(n.baseState&&(n.baseState=!1,mn=!0),n.memoizedState=a)}function Eb(n,s){var a=Ge;Ge=a!==0&&4>a?a:4,n(!0);var d=jg.transition;jg.transition={};try{n(!1),s()}finally{Ge=a,jg.transition=d}}function _w(){return Xn().memoizedState}function Sb(n,s,a){var d=pr(n);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Ew(n))Sw(s,a);else if(a=Z0(n,s,a,d),a!==null){var m=an();di(a,n,d,m),bw(a,s,d)}}function bb(n,s,a){var d=pr(n),m={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ew(n))Sw(s,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,R=y(E,a);if(m.hasEagerState=!0,m.eagerState=R,ai(R,E)){var P=s.interleaved;P===null?(m.next=m,Fg(s)):(m.next=P.next,P.next=m),s.interleaved=m;return}}catch{}finally{}a=Z0(n,s,m,d),a!==null&&(m=an(),di(a,n,d,m),bw(a,s,d))}}function Ew(n){var s=n.alternate;return n===lt||s!==null&&s===lt}function Sw(n,s){Pu=Od=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function bw(n,s,a){if(a&4194240){var d=s.lanes;d&=n.pendingLanes,a|=d,s.lanes=a,Yp(n,a)}}var zd={readContext:qn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},xb={readContext:qn,useCallback:function(n,s){return Fi().memoizedState=[n,s===void 0?null:s],n},useContext:qn,useEffect:fw,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,Nd(4194308,4,mw.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Nd(4194308,4,n,s)},useInsertionEffect:function(n,s){return Nd(4,2,n,s)},useMemo:function(n,s){var a=Fi();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var d=Fi();return s=a!==void 0?a(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=Sb.bind(null,lt,n),[d.memoizedState,n]},useRef:function(n){var s=Fi();return n={current:n},s.memoizedState=n},useState:hw,useDebugValue:Xg,useDeferredValue:function(n){return Fi().memoizedState=n},useTransition:function(){var n=hw(!1),s=n[0];return n=Eb.bind(null,n[1]),Fi().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var d=lt,m=Fi();if(ot){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Dt===null)throw Error(t(349));no&30||ow(d,s,a)}m.memoizedState=a;var y={value:a,getSnapshot:s};return m.queue=y,fw(lw.bind(null,d,y,n),[n]),d.flags|=2048,Du(9,aw.bind(null,d,y,a,s),void 0,null),a},useId:function(){var n=Fi(),s=Dt.identifierPrefix;if(ot){var a=us,d=ls;a=(d&~(1<<32-oi(d)-1)).toString(32)+a,s=":"+s+"R"+a,a=Lu++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=_b++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Cb={readContext:qn,useCallback:vw,useContext:qn,useEffect:qg,useImperativeHandle:yw,useInsertionEffect:pw,useLayoutEffect:gw,useMemo:ww,useReducer:Wg,useRef:dw,useState:function(){return Wg(Mu)},useDebugValue:Xg,useDeferredValue:function(n){var s=Xn();return Aw(s,St.memoizedState,n)},useTransition:function(){var n=Wg(Mu)[0],s=Xn().memoizedState;return[n,s]},useMutableSource:sw,useSyncExternalStore:rw,useId:_w,unstable_isNewReconciler:!1},Tb={readContext:qn,useCallback:vw,useContext:qn,useEffect:qg,useImperativeHandle:yw,useInsertionEffect:pw,useLayoutEffect:gw,useMemo:ww,useReducer:Gg,useRef:dw,useState:function(){return Gg(Mu)},useDebugValue:Xg,useDeferredValue:function(n){var s=Xn();return St===null?s.memoizedState=n:Aw(s,St.memoizedState,n)},useTransition:function(){var n=Gg(Mu)[0],s=Xn().memoizedState;return[n,s]},useMutableSource:sw,useSyncExternalStore:rw,useId:_w,unstable_isNewReconciler:!1};function ui(n,s){if(n&&n.defaultProps){s=J({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Kg(n,s,a,d){s=n.memoizedState,a=a(d,s),a=a==null?s:J({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Bd={isMounted:function(n){return(n=n._reactInternals)?Kr(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var d=an(),m=pr(n),y=hs(d,m);y.payload=s,a!=null&&(y.callback=a),s=cr(n,y,m),s!==null&&(di(s,n,m,d),Md(s,n,m))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var d=an(),m=pr(n),y=hs(d,m);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=cr(n,y,m),s!==null&&(di(s,n,m,d),Md(s,n,m))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=an(),d=pr(n),m=hs(a,d);m.tag=2,s!=null&&(m.callback=s),s=cr(n,m,d),s!==null&&(di(s,n,d,a),Md(s,n,d))}};function xw(n,s,a,d,m,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,y,E):s.prototype&&s.prototype.isPureReactComponent?!wu(a,d)||!wu(m,y):!0}function Cw(n,s,a){var d=!1,m=ar,y=s.contextType;return typeof y=="object"&&y!==null?y=qn(y):(m=gn(s)?Qr:Xt.current,d=s.contextTypes,y=(d=d!=null)?Da(n,m):ar),s=new s(a,y),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Bd,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=y),s}function Tw(n,s,a,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,d),s.state!==n&&Bd.enqueueReplaceState(s,s.state,null)}function Yg(n,s,a,d){var m=n.stateNode;m.props=a,m.state=n.memoizedState,m.refs={},Og(n);var y=s.contextType;typeof y=="object"&&y!==null?m.context=qn(y):(y=gn(s)?Qr:Xt.current,m.context=Da(n,y)),m.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Kg(n,s,y,a),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Bd.enqueueReplaceState(m,m.state,null),Dd(n,a,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function ja(n,s){try{var a="",d=s;do a+=xe(d),d=d.return;while(d);var m=a}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:s,stack:m,digest:null}}function Qg(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Jg(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var kb=typeof WeakMap=="function"?WeakMap:Map;function kw(n,s,a){a=hs(-1,a),a.tag=3,a.payload={element:null};var d=s.value;return a.callback=function(){qd||(qd=!0,fm=d),Jg(n,s)},a}function Rw(n,s,a){a=hs(-1,a),a.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;a.payload=function(){return d(m)},a.callback=function(){Jg(n,s)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Jg(n,s),typeof d!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Pw(n,s,a){var d=n.pingCache;if(d===null){d=n.pingCache=new kb;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(a)||(m.add(a),n=Ub.bind(null,n,s,a),s.then(n,n))}function Lw(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Mw(n,s,a,d,m){return n.mode&1?(n.flags|=65536,n.lanes=m,n):(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=hs(-1,1),s.tag=2,cr(a,s,1))),a.lanes|=1),n)}var Rb=O.ReactCurrentOwner,mn=!1;function on(n,s,a,d){s.child=n===null?J0(s,null,a,d):Na(s,n.child,a,d)}function Dw(n,s,a,d,m){a=a.render;var y=s.ref;return za(s,m),d=$g(n,s,a,d,y,m),a=Vg(),n!==null&&!mn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~m,ds(n,s,m)):(ot&&a&&Cg(s),s.flags|=1,on(n,s,d,m),s.child)}function Iw(n,s,a,d,m){if(n===null){var y=a.type;return typeof y=="function"&&!Am(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,Fw(n,s,y,d,m)):(n=Zd(a.type,null,d,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!(n.lanes&m)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:wu,a(E,d)&&n.ref===s.ref)return ds(n,s,m)}return s.flags|=1,n=mr(y,d),n.ref=s.ref,n.return=s,s.child=n}function Fw(n,s,a,d,m){if(n!==null){var y=n.memoizedProps;if(wu(y,d)&&n.ref===s.ref)if(mn=!1,s.pendingProps=d=y,(n.lanes&m)!==0)n.flags&131072&&(mn=!0);else return s.lanes=n.lanes,ds(n,s,m)}return Zg(n,s,a,d,m)}function Ow(n,s,a){var d=s.pendingProps,m=d.children,y=n!==null?n.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt($a,Ln),Ln|=a;else{if(!(a&1073741824))return n=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,tt($a,Ln),Ln|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:a,tt($a,Ln),Ln|=d}else y!==null?(d=y.baseLanes|a,s.memoizedState=null):d=a,tt($a,Ln),Ln|=d;return on(n,s,m,a),s.child}function Nw(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Zg(n,s,a,d,m){var y=gn(a)?Qr:Xt.current;return y=Da(s,y),za(s,m),a=$g(n,s,a,d,y,m),d=Vg(),n!==null&&!mn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~m,ds(n,s,m)):(ot&&d&&Cg(s),s.flags|=1,on(n,s,a,m),s.child)}function Hw(n,s,a,d,m){if(gn(a)){var y=!0;bd(s)}else y=!1;if(za(s,m),s.stateNode===null)Ud(n,s),Cw(s,a,d),Yg(s,a,d,m),d=!0;else if(n===null){var E=s.stateNode,R=s.memoizedProps;E.props=R;var P=E.context,H=a.contextType;typeof H=="object"&&H!==null?H=qn(H):(H=gn(a)?Qr:Xt.current,H=Da(s,H));var G=a.getDerivedStateFromProps,X=typeof G=="function"||typeof E.getSnapshotBeforeUpdate=="function";X||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==d||P!==H)&&Tw(s,E,d,H),ur=!1;var W=s.memoizedState;E.state=W,Dd(s,d,E,m),P=s.memoizedState,R!==d||W!==P||pn.current||ur?(typeof G=="function"&&(Kg(s,a,G,d),P=s.memoizedState),(R=ur||xw(s,a,R,d,W,P,H))?(X||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=P),E.props=d,E.state=P,E.context=H,d=R):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,ew(n,s),R=s.memoizedProps,H=s.type===s.elementType?R:ui(s.type,R),E.props=H,X=s.pendingProps,W=E.context,P=a.contextType,typeof P=="object"&&P!==null?P=qn(P):(P=gn(a)?Qr:Xt.current,P=Da(s,P));var ne=a.getDerivedStateFromProps;(G=typeof ne=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==X||W!==P)&&Tw(s,E,d,P),ur=!1,W=s.memoizedState,E.state=W,Dd(s,d,E,m);var re=s.memoizedState;R!==X||W!==re||pn.current||ur?(typeof ne=="function"&&(Kg(s,a,ne,d),re=s.memoizedState),(H=ur||xw(s,a,H,d,W,re,P)||!1)?(G||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,re,P),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,re,P)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===n.memoizedProps&&W===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&W===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=re),E.props=d,E.state=re,E.context=P,d=H):(typeof E.componentDidUpdate!="function"||R===n.memoizedProps&&W===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&W===n.memoizedState||(s.flags|=1024),d=!1)}return em(n,s,a,d,y,m)}function em(n,s,a,d,m,y){Nw(n,s);var E=(s.flags&128)!==0;if(!d&&!E)return m&&$0(s,a,!1),ds(n,s,y);d=s.stateNode,Rb.current=s;var R=E&&typeof a.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&E?(s.child=Na(s,n.child,null,y),s.child=Na(s,null,R,y)):on(n,s,R,y),s.memoizedState=d.state,m&&$0(s,a,!0),s.child}function zw(n){var s=n.stateNode;s.pendingContext?j0(n,s.pendingContext,s.pendingContext!==s.context):s.context&&j0(n,s.context,!1),Ng(n,s.containerInfo)}function Bw(n,s,a,d,m){return Oa(),Pg(m),s.flags|=256,on(n,s,a,d),s.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function nm(n){return{baseLanes:n,cachePool:null,transitions:null}}function jw(n,s,a){var d=s.pendingProps,m=at.current,y=!1,E=(s.flags&128)!==0,R;if((R=E)||(R=n!==null&&n.memoizedState===null?!1:(m&2)!==0),R?(y=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),tt(at,m&1),n===null)return Rg(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(s.mode&1?n.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=d.children,n=d.fallback,y?(d=s.mode,y=s.child,E={mode:"hidden",children:E},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=ef(E,d,0,null),n=ao(n,d,a,null),y.return=s,n.return=s,y.sibling=n,s.child=y,s.child.memoizedState=nm(a),s.memoizedState=tm,n):im(s,E));if(m=n.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return Pb(n,s,E,d,R,m,a);if(y){y=d.fallback,E=s.mode,m=n.child,R=m.sibling;var P={mode:"hidden",children:d.children};return!(E&1)&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=P,s.deletions=null):(d=mr(m,P),d.subtreeFlags=m.subtreeFlags&14680064),R!==null?y=mr(R,y):(y=ao(y,E,a,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,E=n.child.memoizedState,E=E===null?nm(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=n.childLanes&~a,s.memoizedState=tm,d}return y=n.child,n=y.sibling,d=mr(y,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=a),d.return=s,d.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=d,s.memoizedState=null,d}function im(n,s){return s=ef({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function jd(n,s,a,d){return d!==null&&Pg(d),Na(s,n.child,null,a),n=im(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Pb(n,s,a,d,m,y,E){if(a)return s.flags&256?(s.flags&=-257,d=Qg(Error(t(422))),jd(n,s,E,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(y=d.fallback,m=s.mode,d=ef({mode:"visible",children:d.children},m,0,null),y=ao(y,m,E,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,s.mode&1&&Na(s,n.child,null,E),s.child.memoizedState=nm(E),s.memoizedState=tm,y);if(!(s.mode&1))return jd(n,s,E,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var R=d.dgst;return d=R,y=Error(t(419)),d=Qg(y,d,void 0),jd(n,s,E,d)}if(R=(E&n.childLanes)!==0,mn||R){if(d=Dt,d!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|E)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,cs(n,m),di(d,n,m,-1))}return wm(),d=Qg(Error(t(421))),jd(n,s,E,d)}return m.data==="$?"?(s.flags|=128,s.child=n.child,s=$b.bind(null,n),m._reactRetry=s,null):(n=y.treeContext,Pn=rr(m.nextSibling),Rn=s,ot=!0,li=null,n!==null&&(Wn[Gn++]=ls,Wn[Gn++]=us,Wn[Gn++]=Jr,ls=n.id,us=n.overflow,Jr=s),s=im(s,d.children),s.flags|=4096,s)}function Uw(n,s,a){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),Ig(n.return,s,a)}function sm(n,s,a,d,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=a,y.tailMode=m)}function $w(n,s,a){var d=s.pendingProps,m=d.revealOrder,y=d.tail;if(on(n,s,d.children,a),d=at.current,d&2)d=d&1|2,s.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Uw(n,a,s);else if(n.tag===19)Uw(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(tt(at,d),!(s.mode&1))s.memoizedState=null;else switch(m){case"forwards":for(a=s.child,m=null;a!==null;)n=a.alternate,n!==null&&Id(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=s.child,s.child=null):(m=a.sibling,a.sibling=null),sm(s,!1,m,a,y);break;case"backwards":for(a=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&Id(n)===null){s.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}sm(s,!0,a,null,y);break;case"together":sm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ud(n,s){!(s.mode&1)&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function ds(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),io|=s.lanes,!(a&s.childLanes))return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=mr(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=mr(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Lb(n,s,a){switch(s.tag){case 3:zw(s),Oa();break;case 5:iw(s);break;case 1:gn(s.type)&&bd(s);break;case 4:Ng(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;tt(Pd,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(tt(at,at.current&1),s.flags|=128,null):a&s.child.childLanes?jw(n,s,a):(tt(at,at.current&1),n=ds(n,s,a),n!==null?n.sibling:null);tt(at,at.current&1);break;case 19:if(d=(a&s.childLanes)!==0,n.flags&128){if(d)return $w(n,s,a);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(at,at.current),d)break;return null;case 22:case 23:return s.lanes=0,Ow(n,s,a)}return ds(n,s,a)}var Vw,rm,Ww,Gw;Vw=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},rm=function(){},Ww=function(n,s,a,d){var m=n.memoizedProps;if(m!==d){n=s.stateNode,to(Ii.current);var y=null;switch(a){case"input":m=rt(n,m),d=rt(n,d),y=[];break;case"select":m=J({},m,{value:void 0}),d=J({},d,{value:void 0}),y=[];break;case"textarea":m=nu(n,m),d=nu(n,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=_d)}zp(a,d);var E;a=null;for(H in m)if(!d.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var R=m[H];for(E in R)R.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(r.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in d){var P=d[H];if(R=m!=null?m[H]:void 0,d.hasOwnProperty(H)&&P!==R&&(P!=null||R!=null))if(H==="style")if(R){for(E in R)!R.hasOwnProperty(E)||P&&P.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in P)P.hasOwnProperty(E)&&R[E]!==P[E]&&(a||(a={}),a[E]=P[E])}else a||(y||(y=[]),y.push(H,a)),a=P;else H==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,R=R?R.__html:void 0,P!=null&&R!==P&&(y=y||[]).push(H,P)):H==="children"?typeof P!="string"&&typeof P!="number"||(y=y||[]).push(H,""+P):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(r.hasOwnProperty(H)?(P!=null&&H==="onScroll"&&it("scroll",n),y||R===P||(y=[])):(y=y||[]).push(H,P))}a&&(y=y||[]).push("style",a);var H=y;(s.updateQueue=H)&&(s.flags|=4)}},Gw=function(n,s,a,d){a!==d&&(s.flags|=4)};function Iu(n,s){if(!ot)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Yt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,d=0;if(s)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=a,s}function Mb(n,s,a){var d=s.pendingProps;switch(Tg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(s),null;case 1:return gn(s.type)&&Sd(),Yt(s),null;case 3:return d=s.stateNode,Ba(),st(pn),st(Xt),Bg(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(kd(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,li!==null&&(mm(li),li=null))),rm(n,s),Yt(s),null;case 5:Hg(s);var m=to(Ru.current);if(a=s.type,n!==null&&s.stateNode!=null)Ww(n,s,a,d,m),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Yt(s),null}if(n=to(Ii.current),kd(s)){d=s.stateNode,a=s.type;var y=s.memoizedProps;switch(d[Di]=s,d[bu]=y,n=(s.mode&1)!==0,a){case"dialog":it("cancel",d),it("close",d);break;case"iframe":case"object":case"embed":it("load",d);break;case"video":case"audio":for(m=0;m<_u.length;m++)it(_u[m],d);break;case"source":it("error",d);break;case"img":case"image":case"link":it("error",d),it("load",d);break;case"details":it("toggle",d);break;case"input":Et(d,y),it("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},it("invalid",d);break;case"textarea":Yh(d,y),it("invalid",d)}zp(a,y),m=null;for(var E in y)if(y.hasOwnProperty(E)){var R=y[E];E==="children"?typeof R=="string"?d.textContent!==R&&(y.suppressHydrationWarning!==!0&&Ad(d.textContent,R,n),m=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&Ad(d.textContent,R,n),m=["children",""+R]):r.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&it("scroll",d)}switch(a){case"input":Ri(d),Js(d,y,!0);break;case"textarea":Ri(d),Jh(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=_d)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Zh(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=E.createElement(a,{is:d.is}):(n=E.createElement(a),a==="select"&&(E=n,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):n=E.createElementNS(n,a),n[Di]=s,n[bu]=d,Vw(n,s,!1,!1),s.stateNode=n;e:{switch(E=Bp(a,d),a){case"dialog":it("cancel",n),it("close",n),m=d;break;case"iframe":case"object":case"embed":it("load",n),m=d;break;case"video":case"audio":for(m=0;m<_u.length;m++)it(_u[m],n);m=d;break;case"source":it("error",n),m=d;break;case"img":case"image":case"link":it("error",n),it("load",n),m=d;break;case"details":it("toggle",n),m=d;break;case"input":Et(n,d),m=rt(n,d),it("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=J({},d,{value:void 0}),it("invalid",n);break;case"textarea":Yh(n,d),m=nu(n,d),it("invalid",n);break;default:m=d}zp(a,m),R=m;for(y in R)if(R.hasOwnProperty(y)){var P=R[y];y==="style"?Fv(n,P):y==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Xr(n,P)):y==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&rs(n,P):typeof P=="number"&&rs(n,""+P):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(r.hasOwnProperty(y)?P!=null&&y==="onScroll"&&it("scroll",n):P!=null&&I(n,y,P,E))}switch(a){case"input":Ri(n),Js(n,d,!1);break;case"textarea":Ri(n),Jh(n);break;case"option":d.value!=null&&n.setAttribute("value",""+ke(d.value));break;case"select":n.multiple=!!d.multiple,y=d.value,y!=null?ri(n,!!d.multiple,y,!1):d.defaultValue!=null&&ri(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=_d)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Yt(s),null;case 6:if(n&&s.stateNode!=null)Gw(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(a=to(Ru.current),to(Ii.current),kd(s)){if(d=s.stateNode,a=s.memoizedProps,d[Di]=s,(y=d.nodeValue!==a)&&(n=Rn,n!==null))switch(n.tag){case 3:Ad(d.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ad(d.nodeValue,a,(n.mode&1)!==0)}y&&(s.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Di]=s,s.stateNode=d}return Yt(s),null;case 13:if(st(at),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ot&&Pn!==null&&s.mode&1&&!(s.flags&128))K0(),Oa(),s.flags|=98560,y=!1;else if(y=kd(s),d!==null&&d.dehydrated!==null){if(n===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Di]=s}else Oa(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Yt(s),y=!1}else li!==null&&(mm(li),li=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(n===null||at.current&1?bt===0&&(bt=3):wm())),s.updateQueue!==null&&(s.flags|=4),Yt(s),null);case 4:return Ba(),rm(n,s),n===null&&Eu(s.stateNode.containerInfo),Yt(s),null;case 10:return Dg(s.type._context),Yt(s),null;case 17:return gn(s.type)&&Sd(),Yt(s),null;case 19:if(st(at),y=s.memoizedState,y===null)return Yt(s),null;if(d=(s.flags&128)!==0,E=y.rendering,E===null)if(d)Iu(y,!1);else{if(bt!==0||n!==null&&n.flags&128)for(n=s.child;n!==null;){if(E=Id(n),E!==null){for(s.flags|=128,Iu(y,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=a,a=s.child;a!==null;)y=a,n=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=n,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,n=E.dependencies,y.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return tt(at,at.current&1|2),s.child}n=n.sibling}y.tail!==null&&pt()>Va&&(s.flags|=128,d=!0,Iu(y,!1),s.lanes=4194304)}else{if(!d)if(n=Id(E),n!==null){if(s.flags|=128,d=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Iu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!ot)return Yt(s),null}else 2*pt()-y.renderingStartTime>Va&&a!==1073741824&&(s.flags|=128,d=!0,Iu(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(a=y.last,a!==null?a.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=pt(),s.sibling=null,a=at.current,tt(at,d?a&1|2:a&1),s):(Yt(s),null);case 22:case 23:return vm(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Ln&1073741824&&(Yt(s),s.subtreeFlags&6&&(s.flags|=8192)):Yt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Db(n,s){switch(Tg(s),s.tag){case 1:return gn(s.type)&&Sd(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ba(),st(pn),st(Xt),Bg(),n=s.flags,n&65536&&!(n&128)?(s.flags=n&-65537|128,s):null;case 5:return Hg(s),null;case 13:if(st(at),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Oa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return st(at),null;case 4:return Ba(),null;case 10:return Dg(s.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var $d=!1,Qt=!1,Ib=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ua(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){ht(n,s,d)}else a.current=null}function om(n,s,a){try{a()}catch(d){ht(n,s,d)}}var qw=!1;function Fb(n,s){if(vg=ud,n=x0(),cg(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,R=-1,P=-1,H=0,G=0,X=n,W=null;t:for(;;){for(var ne;X!==a||m!==0&&X.nodeType!==3||(R=E+m),X!==y||d!==0&&X.nodeType!==3||(P=E+d),X.nodeType===3&&(E+=X.nodeValue.length),(ne=X.firstChild)!==null;)W=X,X=ne;for(;;){if(X===n)break t;if(W===a&&++H===m&&(R=E),W===y&&++G===d&&(P=E),(ne=X.nextSibling)!==null)break;X=W,W=X.parentNode}X=ne}a=R===-1||P===-1?null:{start:R,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(wg={focusedElem:n,selectionRange:a},ud=!1,ie=s;ie!==null;)if(s=ie,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ie=n;else for(;ie!==null;){s=ie;try{var re=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ue=re.memoizedProps,gt=re.memoizedState,F=s.stateNode,M=F.getSnapshotBeforeUpdate(s.elementType===s.type?ue:ui(s.type,ue),gt);F.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var N=s.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(K){ht(s,s.return,K)}if(n=s.sibling,n!==null){n.return=s.return,ie=n;break}ie=s.return}return re=qw,qw=!1,re}function Fu(n,s,a){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var y=m.destroy;m.destroy=void 0,y!==void 0&&om(s,a,y)}m=m.next}while(m!==d)}}function Vd(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var d=a.create;a.destroy=d()}a=a.next}while(a!==s)}}function am(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function Xw(n){var s=n.alternate;s!==null&&(n.alternate=null,Xw(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Di],delete s[bu],delete s[Sg],delete s[yb],delete s[vb])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Kw(n){return n.tag===5||n.tag===3||n.tag===4}function Yw(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Kw(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lm(n,s,a){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=_d));else if(d!==4&&(n=n.child,n!==null))for(lm(n,s,a),n=n.sibling;n!==null;)lm(n,s,a),n=n.sibling}function um(n,s,a){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(um(n,s,a),n=n.sibling;n!==null;)um(n,s,a),n=n.sibling}var Ht=null,ci=!1;function hr(n,s,a){for(a=a.child;a!==null;)Qw(n,s,a),a=a.sibling}function Qw(n,s,a){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(id,a)}catch{}switch(a.tag){case 5:Qt||Ua(a,s);case 6:var d=Ht,m=ci;Ht=null,hr(n,s,a),Ht=d,ci=m,Ht!==null&&(ci?(n=Ht,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Ht.removeChild(a.stateNode));break;case 18:Ht!==null&&(ci?(n=Ht,a=a.stateNode,n.nodeType===8?Eg(n.parentNode,a):n.nodeType===1&&Eg(n,a),fu(n)):Eg(Ht,a.stateNode));break;case 4:d=Ht,m=ci,Ht=a.stateNode.containerInfo,ci=!0,hr(n,s,a),Ht=d,ci=m;break;case 0:case 11:case 14:case 15:if(!Qt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&om(a,s,E),m=m.next}while(m!==d)}hr(n,s,a);break;case 1:if(!Qt&&(Ua(a,s),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(R){ht(a,s,R)}hr(n,s,a);break;case 21:hr(n,s,a);break;case 22:a.mode&1?(Qt=(d=Qt)||a.memoizedState!==null,hr(n,s,a),Qt=d):hr(n,s,a);break;default:hr(n,s,a)}}function Jw(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Ib),s.forEach(function(d){var m=Vb.bind(null,n,d);a.has(d)||(a.add(d),d.then(m,m))})}}function hi(n,s){var a=s.deletions;if(a!==null)for(var d=0;d<a.length;d++){var m=a[d];try{var y=n,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 5:Ht=R.stateNode,ci=!1;break e;case 3:Ht=R.stateNode.containerInfo,ci=!0;break e;case 4:Ht=R.stateNode.containerInfo,ci=!0;break e}R=R.return}if(Ht===null)throw Error(t(160));Qw(y,E,m),Ht=null,ci=!1;var P=m.alternate;P!==null&&(P.return=null),m.return=null}catch(H){ht(m,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Zw(s,n),s=s.sibling}function Zw(n,s){var a=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(hi(s,n),Oi(n),d&4){try{Fu(3,n,n.return),Vd(3,n)}catch(ue){ht(n,n.return,ue)}try{Fu(5,n,n.return)}catch(ue){ht(n,n.return,ue)}}break;case 1:hi(s,n),Oi(n),d&512&&a!==null&&Ua(a,a.return);break;case 5:if(hi(s,n),Oi(n),d&512&&a!==null&&Ua(a,a.return),n.flags&32){var m=n.stateNode;try{rs(m,"")}catch(ue){ht(n,n.return,ue)}}if(d&4&&(m=n.stateNode,m!=null)){var y=n.memoizedProps,E=a!==null?a.memoizedProps:y,R=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&ft(m,y),Bp(R,E);var H=Bp(R,y);for(E=0;E<P.length;E+=2){var G=P[E],X=P[E+1];G==="style"?Fv(m,X):G==="dangerouslySetInnerHTML"?Xr(m,X):G==="children"?rs(m,X):I(m,G,X,H)}switch(R){case"input":Pi(m,y);break;case"textarea":Qh(m,y);break;case"select":var W=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ne=y.value;ne!=null?ri(m,!!y.multiple,ne,!1):W!==!!y.multiple&&(y.defaultValue!=null?ri(m,!!y.multiple,y.defaultValue,!0):ri(m,!!y.multiple,y.multiple?[]:"",!1))}m[bu]=y}catch(ue){ht(n,n.return,ue)}}break;case 6:if(hi(s,n),Oi(n),d&4){if(n.stateNode===null)throw Error(t(162));m=n.stateNode,y=n.memoizedProps;try{m.nodeValue=y}catch(ue){ht(n,n.return,ue)}}break;case 3:if(hi(s,n),Oi(n),d&4&&a!==null&&a.memoizedState.isDehydrated)try{fu(s.containerInfo)}catch(ue){ht(n,n.return,ue)}break;case 4:hi(s,n),Oi(n);break;case 13:hi(s,n),Oi(n),m=n.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(dm=pt())),d&4&&Jw(n);break;case 22:if(G=a!==null&&a.memoizedState!==null,n.mode&1?(Qt=(H=Qt)||G,hi(s,n),Qt=H):hi(s,n),Oi(n),d&8192){if(H=n.memoizedState!==null,(n.stateNode.isHidden=H)&&!G&&n.mode&1)for(ie=n,G=n.child;G!==null;){for(X=ie=G;ie!==null;){switch(W=ie,ne=W.child,W.tag){case 0:case 11:case 14:case 15:Fu(4,W,W.return);break;case 1:Ua(W,W.return);var re=W.stateNode;if(typeof re.componentWillUnmount=="function"){d=W,a=W.return;try{s=d,re.props=s.memoizedProps,re.state=s.memoizedState,re.componentWillUnmount()}catch(ue){ht(d,a,ue)}}break;case 5:Ua(W,W.return);break;case 22:if(W.memoizedState!==null){nA(X);continue}}ne!==null?(ne.return=W,ie=ne):nA(X)}G=G.sibling}e:for(G=null,X=n;;){if(X.tag===5){if(G===null){G=X;try{m=X.stateNode,H?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=X.stateNode,P=X.memoizedProps.style,E=P!=null&&P.hasOwnProperty("display")?P.display:null,R.style.display=Iv("display",E))}catch(ue){ht(n,n.return,ue)}}}else if(X.tag===6){if(G===null)try{X.stateNode.nodeValue=H?"":X.memoizedProps}catch(ue){ht(n,n.return,ue)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;G===X&&(G=null),X=X.return}G===X&&(G=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:hi(s,n),Oi(n),d&4&&Jw(n);break;case 21:break;default:hi(s,n),Oi(n)}}function Oi(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(Kw(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(rs(m,""),d.flags&=-33);var y=Yw(n);um(n,y,m);break;case 3:case 4:var E=d.stateNode.containerInfo,R=Yw(n);lm(n,R,E);break;default:throw Error(t(161))}}catch(P){ht(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Ob(n,s,a){ie=n,eA(n)}function eA(n,s,a){for(var d=(n.mode&1)!==0;ie!==null;){var m=ie,y=m.child;if(m.tag===22&&d){var E=m.memoizedState!==null||$d;if(!E){var R=m.alternate,P=R!==null&&R.memoizedState!==null||Qt;R=$d;var H=Qt;if($d=E,(Qt=P)&&!H)for(ie=m;ie!==null;)E=ie,P=E.child,E.tag===22&&E.memoizedState!==null?iA(m):P!==null?(P.return=E,ie=P):iA(m);for(;y!==null;)ie=y,eA(y),y=y.sibling;ie=m,$d=R,Qt=H}tA(n)}else m.subtreeFlags&8772&&y!==null?(y.return=m,ie=y):tA(n)}}function tA(n){for(;ie!==null;){var s=ie;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Qt||Vd(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Qt)if(a===null)d.componentDidMount();else{var m=s.elementType===s.type?a.memoizedProps:ui(s.type,a.memoizedProps);d.componentDidUpdate(m,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&nw(s,y,d);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}nw(s,E,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var G=H.memoizedState;if(G!==null){var X=G.dehydrated;X!==null&&fu(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qt||s.flags&512&&am(s)}catch(W){ht(s,s.return,W)}}if(s===n){ie=null;break}if(a=s.sibling,a!==null){a.return=s.return,ie=a;break}ie=s.return}}function nA(n){for(;ie!==null;){var s=ie;if(s===n){ie=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ie=a;break}ie=s.return}}function iA(n){for(;ie!==null;){var s=ie;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Vd(4,s)}catch(P){ht(s,a,P)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(P){ht(s,m,P)}}var y=s.return;try{am(s)}catch(P){ht(s,y,P)}break;case 5:var E=s.return;try{am(s)}catch(P){ht(s,E,P)}}}catch(P){ht(s,s.return,P)}if(s===n){ie=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ie=R;break}ie=s.return}}var Nb=Math.ceil,Wd=O.ReactCurrentDispatcher,cm=O.ReactCurrentOwner,Kn=O.ReactCurrentBatchConfig,Be=0,Dt=null,wt=null,zt=0,Ln=0,$a=or(0),bt=0,Ou=null,io=0,Gd=0,hm=0,Nu=null,yn=null,dm=0,Va=1/0,fs=null,qd=!1,fm=null,dr=null,Xd=!1,fr=null,Kd=0,Hu=0,pm=null,Yd=-1,Qd=0;function an(){return Be&6?pt():Yd!==-1?Yd:Yd=pt()}function pr(n){return n.mode&1?Be&2&&zt!==0?zt&-zt:Ab.transition!==null?(Qd===0&&(Qd=Yv()),Qd):(n=Ge,n!==0||(n=window.event,n=n===void 0?16:r0(n.type)),n):1}function di(n,s,a,d){if(50<Hu)throw Hu=0,pm=null,Error(t(185));lu(n,a,d),(!(Be&2)||n!==Dt)&&(n===Dt&&(!(Be&2)&&(Gd|=a),bt===4&&gr(n,zt)),vn(n,d),a===1&&Be===0&&!(s.mode&1)&&(Va=pt()+500,xd&&lr()))}function vn(n,s){var a=n.callbackNode;A1(n,s);var d=od(n,n===Dt?zt:0);if(d===0)a!==null&&qv(a),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(a!=null&&qv(a),s===1)n.tag===0?wb(rA.bind(null,n)):V0(rA.bind(null,n)),gb(function(){!(Be&6)&&lr()}),a=null;else{switch(Qv(d)){case 1:a=qp;break;case 4:a=Xv;break;case 16:a=nd;break;case 536870912:a=Kv;break;default:a=nd}a=fA(a,sA.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function sA(n,s){if(Yd=-1,Qd=0,Be&6)throw Error(t(327));var a=n.callbackNode;if(Wa()&&n.callbackNode!==a)return null;var d=od(n,n===Dt?zt:0);if(d===0)return null;if(d&30||d&n.expiredLanes||s)s=Jd(n,d);else{s=d;var m=Be;Be|=2;var y=aA();(Dt!==n||zt!==s)&&(fs=null,Va=pt()+500,ro(n,s));do try{Bb();break}catch(R){oA(n,R)}while(!0);Mg(),Wd.current=y,Be=m,wt!==null?s=0:(Dt=null,zt=0,s=bt)}if(s!==0){if(s===2&&(m=Xp(n),m!==0&&(d=m,s=gm(n,m))),s===1)throw a=Ou,ro(n,0),gr(n,d),vn(n,pt()),a;if(s===6)gr(n,d);else{if(m=n.current.alternate,!(d&30)&&!Hb(m)&&(s=Jd(n,d),s===2&&(y=Xp(n),y!==0&&(d=y,s=gm(n,y))),s===1))throw a=Ou,ro(n,0),gr(n,d),vn(n,pt()),a;switch(n.finishedWork=m,n.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:oo(n,yn,fs);break;case 3:if(gr(n,d),(d&130023424)===d&&(s=dm+500-pt(),10<s)){if(od(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){an(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=_g(oo.bind(null,n,yn,fs),s);break}oo(n,yn,fs);break;case 4:if(gr(n,d),(d&4194240)===d)break;for(s=n.eventTimes,m=-1;0<d;){var E=31-oi(d);y=1<<E,E=s[E],E>m&&(m=E),d&=~y}if(d=m,d=pt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Nb(d/1960))-d,10<d){n.timeoutHandle=_g(oo.bind(null,n,yn,fs),d);break}oo(n,yn,fs);break;case 5:oo(n,yn,fs);break;default:throw Error(t(329))}}}return vn(n,pt()),n.callbackNode===a?sA.bind(null,n):null}function gm(n,s){var a=Nu;return n.current.memoizedState.isDehydrated&&(ro(n,s).flags|=256),n=Jd(n,s),n!==2&&(s=yn,yn=a,s!==null&&mm(s)),n}function mm(n){yn===null?yn=n:yn.push.apply(yn,n)}function Hb(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var m=a[d],y=m.getSnapshot;m=m.value;try{if(!ai(y(),m))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gr(n,s){for(s&=~hm,s&=~Gd,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-oi(s),d=1<<a;n[a]=-1,s&=~d}}function rA(n){if(Be&6)throw Error(t(327));Wa();var s=od(n,0);if(!(s&1))return vn(n,pt()),null;var a=Jd(n,s);if(n.tag!==0&&a===2){var d=Xp(n);d!==0&&(s=d,a=gm(n,d))}if(a===1)throw a=Ou,ro(n,0),gr(n,s),vn(n,pt()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,oo(n,yn,fs),vn(n,pt()),null}function ym(n,s){var a=Be;Be|=1;try{return n(s)}finally{Be=a,Be===0&&(Va=pt()+500,xd&&lr())}}function so(n){fr!==null&&fr.tag===0&&!(Be&6)&&Wa();var s=Be;Be|=1;var a=Kn.transition,d=Ge;try{if(Kn.transition=null,Ge=1,n)return n()}finally{Ge=d,Kn.transition=a,Be=s,!(Be&6)&&lr()}}function vm(){Ln=$a.current,st($a)}function ro(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,pb(a)),wt!==null)for(a=wt.return;a!==null;){var d=a;switch(Tg(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Sd();break;case 3:Ba(),st(pn),st(Xt),Bg();break;case 5:Hg(d);break;case 4:Ba();break;case 13:st(at);break;case 19:st(at);break;case 10:Dg(d.type._context);break;case 22:case 23:vm()}a=a.return}if(Dt=n,wt=n=mr(n.current,null),zt=Ln=s,bt=0,Ou=null,hm=Gd=io=0,yn=Nu=null,eo!==null){for(s=0;s<eo.length;s++)if(a=eo[s],d=a.interleaved,d!==null){a.interleaved=null;var m=d.next,y=a.pending;if(y!==null){var E=y.next;y.next=m,d.next=E}a.pending=d}eo=null}return n}function oA(n,s){do{var a=wt;try{if(Mg(),Fd.current=zd,Od){for(var d=lt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Od=!1}if(no=0,Mt=St=lt=null,Pu=!1,Lu=0,cm.current=null,a===null||a.return===null){bt=1,Ou=s,wt=null;break}e:{var y=n,E=a.return,R=a,P=s;if(s=zt,R.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var H=P,G=R,X=G.tag;if(!(G.mode&1)&&(X===0||X===11||X===15)){var W=G.alternate;W?(G.updateQueue=W.updateQueue,G.memoizedState=W.memoizedState,G.lanes=W.lanes):(G.updateQueue=null,G.memoizedState=null)}var ne=Lw(E);if(ne!==null){ne.flags&=-257,Mw(ne,E,R,y,s),ne.mode&1&&Pw(y,H,s),s=ne,P=H;var re=s.updateQueue;if(re===null){var ue=new Set;ue.add(P),s.updateQueue=ue}else re.add(P);break e}else{if(!(s&1)){Pw(y,H,s),wm();break e}P=Error(t(426))}}else if(ot&&R.mode&1){var gt=Lw(E);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Mw(gt,E,R,y,s),Pg(ja(P,R));break e}}y=P=ja(P,R),bt!==4&&(bt=2),Nu===null?Nu=[y]:Nu.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var F=kw(y,P,s);tw(y,F);break e;case 1:R=P;var M=y.type,N=y.stateNode;if(!(y.flags&128)&&(typeof M.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(dr===null||!dr.has(N)))){y.flags|=65536,s&=-s,y.lanes|=s;var K=Rw(y,R,s);tw(y,K);break e}}y=y.return}while(y!==null)}uA(a)}catch(he){s=he,wt===a&&a!==null&&(wt=a=a.return);continue}break}while(!0)}function aA(){var n=Wd.current;return Wd.current=zd,n===null?zd:n}function wm(){(bt===0||bt===3||bt===2)&&(bt=4),Dt===null||!(io&268435455)&&!(Gd&268435455)||gr(Dt,zt)}function Jd(n,s){var a=Be;Be|=2;var d=aA();(Dt!==n||zt!==s)&&(fs=null,ro(n,s));do try{zb();break}catch(m){oA(n,m)}while(!0);if(Mg(),Be=a,Wd.current=d,wt!==null)throw Error(t(261));return Dt=null,zt=0,bt}function zb(){for(;wt!==null;)lA(wt)}function Bb(){for(;wt!==null&&!h1();)lA(wt)}function lA(n){var s=dA(n.alternate,n,Ln);n.memoizedProps=n.pendingProps,s===null?uA(n):wt=s,cm.current=null}function uA(n){var s=n;do{var a=s.alternate;if(n=s.return,s.flags&32768){if(a=Db(a,s),a!==null){a.flags&=32767,wt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{bt=6,wt=null;return}}else if(a=Mb(a,s,Ln),a!==null){wt=a;return}if(s=s.sibling,s!==null){wt=s;return}wt=s=n}while(s!==null);bt===0&&(bt=5)}function oo(n,s,a){var d=Ge,m=Kn.transition;try{Kn.transition=null,Ge=1,jb(n,s,a,d)}finally{Kn.transition=m,Ge=d}return null}function jb(n,s,a,d){do Wa();while(fr!==null);if(Be&6)throw Error(t(327));a=n.finishedWork;var m=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var y=a.lanes|a.childLanes;if(_1(n,y),n===Dt&&(wt=Dt=null,zt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Xd||(Xd=!0,fA(nd,function(){return Wa(),null})),y=(a.flags&15990)!==0,a.subtreeFlags&15990||y){y=Kn.transition,Kn.transition=null;var E=Ge;Ge=1;var R=Be;Be|=4,cm.current=null,Fb(n,a),Zw(a,n),ab(wg),ud=!!vg,wg=vg=null,n.current=a,Ob(a),d1(),Be=R,Ge=E,Kn.transition=y}else n.current=a;if(Xd&&(Xd=!1,fr=n,Kd=m),y=n.pendingLanes,y===0&&(dr=null),g1(a.stateNode),vn(n,pt()),s!==null)for(d=n.onRecoverableError,a=0;a<s.length;a++)m=s[a],d(m.value,{componentStack:m.stack,digest:m.digest});if(qd)throw qd=!1,n=fm,fm=null,n;return Kd&1&&n.tag!==0&&Wa(),y=n.pendingLanes,y&1?n===pm?Hu++:(Hu=0,pm=n):Hu=0,lr(),null}function Wa(){if(fr!==null){var n=Qv(Kd),s=Kn.transition,a=Ge;try{if(Kn.transition=null,Ge=16>n?16:n,fr===null)var d=!1;else{if(n=fr,fr=null,Kd=0,Be&6)throw Error(t(331));var m=Be;for(Be|=4,ie=n.current;ie!==null;){var y=ie,E=y.child;if(ie.flags&16){var R=y.deletions;if(R!==null){for(var P=0;P<R.length;P++){var H=R[P];for(ie=H;ie!==null;){var G=ie;switch(G.tag){case 0:case 11:case 15:Fu(8,G,y)}var X=G.child;if(X!==null)X.return=G,ie=X;else for(;ie!==null;){G=ie;var W=G.sibling,ne=G.return;if(Xw(G),G===H){ie=null;break}if(W!==null){W.return=ne,ie=W;break}ie=ne}}}var re=y.alternate;if(re!==null){var ue=re.child;if(ue!==null){re.child=null;do{var gt=ue.sibling;ue.sibling=null,ue=gt}while(ue!==null)}}ie=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,ie=E;else e:for(;ie!==null;){if(y=ie,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Fu(9,y,y.return)}var F=y.sibling;if(F!==null){F.return=y.return,ie=F;break e}ie=y.return}}var M=n.current;for(ie=M;ie!==null;){E=ie;var N=E.child;if(E.subtreeFlags&2064&&N!==null)N.return=E,ie=N;else e:for(E=M;ie!==null;){if(R=ie,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Vd(9,R)}}catch(he){ht(R,R.return,he)}if(R===E){ie=null;break e}var K=R.sibling;if(K!==null){K.return=R.return,ie=K;break e}ie=R.return}}if(Be=m,lr(),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(id,n)}catch{}d=!0}return d}finally{Ge=a,Kn.transition=s}}return!1}function cA(n,s,a){s=ja(a,s),s=kw(n,s,1),n=cr(n,s,1),s=an(),n!==null&&(lu(n,1,s),vn(n,s))}function ht(n,s,a){if(n.tag===3)cA(n,n,a);else for(;s!==null;){if(s.tag===3){cA(s,n,a);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(dr===null||!dr.has(d))){n=ja(a,n),n=Rw(s,n,1),s=cr(s,n,1),n=an(),s!==null&&(lu(s,1,n),vn(s,n));break}}s=s.return}}function Ub(n,s,a){var d=n.pingCache;d!==null&&d.delete(s),s=an(),n.pingedLanes|=n.suspendedLanes&a,Dt===n&&(zt&a)===a&&(bt===4||bt===3&&(zt&130023424)===zt&&500>pt()-dm?ro(n,0):hm|=a),vn(n,s)}function hA(n,s){s===0&&(n.mode&1?(s=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):s=1);var a=an();n=cs(n,s),n!==null&&(lu(n,s,a),vn(n,a))}function $b(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),hA(n,a)}function Vb(n,s){var a=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),hA(n,a)}var dA;dA=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||pn.current)mn=!0;else{if(!(n.lanes&a)&&!(s.flags&128))return mn=!1,Lb(n,s,a);mn=!!(n.flags&131072)}else mn=!1,ot&&s.flags&1048576&&W0(s,Td,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Ud(n,s),n=s.pendingProps;var m=Da(s,Xt.current);za(s,a),m=$g(null,s,d,n,m,a);var y=Vg();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,gn(d)?(y=!0,bd(s)):y=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Og(s),m.updater=Bd,s.stateNode=m,m._reactInternals=s,Yg(s,d,n,a),s=em(null,s,d,!0,y,a)):(s.tag=0,ot&&y&&Cg(s),on(null,s,m,a),s=s.child),s;case 16:d=s.elementType;e:{switch(Ud(n,s),n=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=Gb(d),n=ui(d,n),m){case 0:s=Zg(null,s,d,n,a);break e;case 1:s=Hw(null,s,d,n,a);break e;case 11:s=Dw(null,s,d,n,a);break e;case 14:s=Iw(null,s,d,ui(d.type,n),a);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:ui(d,m),Zg(n,s,d,m,a);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:ui(d,m),Hw(n,s,d,m,a);case 3:e:{if(zw(s),n===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,m=y.element,ew(n,s),Dd(s,d,null,a);var E=s.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){m=ja(Error(t(423)),s),s=Bw(n,s,d,a,m);break e}else if(d!==m){m=ja(Error(t(424)),s),s=Bw(n,s,d,a,m);break e}else for(Pn=rr(s.stateNode.containerInfo.firstChild),Rn=s,ot=!0,li=null,a=J0(s,null,d,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Oa(),d===m){s=ds(n,s,a);break e}on(n,s,d,a)}s=s.child}return s;case 5:return iw(s),n===null&&Rg(s),d=s.type,m=s.pendingProps,y=n!==null?n.memoizedProps:null,E=m.children,Ag(d,m)?E=null:y!==null&&Ag(d,y)&&(s.flags|=32),Nw(n,s),on(n,s,E,a),s.child;case 6:return n===null&&Rg(s),null;case 13:return jw(n,s,a);case 4:return Ng(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=Na(s,null,d,a):on(n,s,d,a),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:ui(d,m),Dw(n,s,d,m,a);case 7:return on(n,s,s.pendingProps,a),s.child;case 8:return on(n,s,s.pendingProps.children,a),s.child;case 12:return on(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,y=s.memoizedProps,E=m.value,tt(Pd,d._currentValue),d._currentValue=E,y!==null)if(ai(y.value,E)){if(y.children===m.children&&!pn.current){s=ds(n,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var R=y.dependencies;if(R!==null){E=y.child;for(var P=R.firstContext;P!==null;){if(P.context===d){if(y.tag===1){P=hs(-1,a&-a),P.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var G=H.pending;G===null?P.next=P:(P.next=G.next,G.next=P),H.pending=P}}y.lanes|=a,P=y.alternate,P!==null&&(P.lanes|=a),Ig(y.return,a,s),R.lanes|=a;break}P=P.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=a,R=E.alternate,R!==null&&(R.lanes|=a),Ig(E,a,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}on(n,s,m.children,a),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,za(s,a),m=qn(m),d=d(m),s.flags|=1,on(n,s,d,a),s.child;case 14:return d=s.type,m=ui(d,s.pendingProps),m=ui(d.type,m),Iw(n,s,d,m,a);case 15:return Fw(n,s,s.type,s.pendingProps,a);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:ui(d,m),Ud(n,s),s.tag=1,gn(d)?(n=!0,bd(s)):n=!1,za(s,a),Cw(s,d,m),Yg(s,d,m,a),em(null,s,d,!0,n,a);case 19:return $w(n,s,a);case 22:return Ow(n,s,a)}throw Error(t(156,s.tag))};function fA(n,s){return Gv(n,s)}function Wb(n,s,a,d){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(n,s,a,d){return new Wb(n,s,a,d)}function Am(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gb(n){if(typeof n=="function")return Am(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Te)return 11;if(n===be)return 14}return 2}function mr(n,s){var a=n.alternate;return a===null?(a=Yn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Zd(n,s,a,d,m,y){var E=2;if(d=n,typeof n=="function")Am(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case V:return ao(a.children,m,y,s);case q:E=8,m|=8;break;case Q:return n=Yn(12,a,s,m|2),n.elementType=Q,n.lanes=y,n;case ge:return n=Yn(13,a,s,m),n.elementType=ge,n.lanes=y,n;case fe:return n=Yn(19,a,s,m),n.elementType=fe,n.lanes=y,n;case Y:return ef(a,m,y,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case se:E=10;break e;case Z:E=9;break e;case Te:E=11;break e;case be:E=14;break e;case _e:E=16,d=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Yn(E,a,s,m),s.elementType=n,s.type=d,s.lanes=y,s}function ao(n,s,a,d){return n=Yn(7,n,d,s),n.lanes=a,n}function ef(n,s,a,d){return n=Yn(22,n,d,s),n.elementType=Y,n.lanes=a,n.stateNode={isHidden:!1},n}function _m(n,s,a){return n=Yn(6,n,null,s),n.lanes=a,n}function Em(n,s,a){return s=Yn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function qb(n,s,a,d,m){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kp(0),this.expirationTimes=Kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kp(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Sm(n,s,a,d,m,y,E,R,P){return n=new qb(n,s,a,R,P),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Yn(3,null,null,s),n.current=y,y.stateNode=n,y.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Og(y),n}function Xb(n,s,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:d==null?null:""+d,children:n,containerInfo:s,implementation:a}}function pA(n){if(!n)return ar;n=n._reactInternals;e:{if(Kr(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(gn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(gn(a))return U0(n,a,s)}return s}function gA(n,s,a,d,m,y,E,R,P){return n=Sm(a,d,!0,n,m,y,E,R,P),n.context=pA(null),a=n.current,d=an(),m=pr(a),y=hs(d,m),y.callback=s??null,cr(a,y,m),n.current.lanes=m,lu(n,m,d),vn(n,d),n}function tf(n,s,a,d){var m=s.current,y=an(),E=pr(m);return a=pA(a),s.context===null?s.context=a:s.pendingContext=a,s=hs(y,E),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=cr(m,s,E),n!==null&&(di(n,m,E,y),Md(n,m,E)),E}function nf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function mA(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function bm(n,s){mA(n,s),(n=n.alternate)&&mA(n,s)}function Kb(){return null}var yA=typeof reportError=="function"?reportError:function(n){console.error(n)};function xm(n){this._internalRoot=n}sf.prototype.render=xm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));tf(n,s,null,null)},sf.prototype.unmount=xm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;so(function(){tf(null,n,null,null)}),s[os]=null}};function sf(n){this._internalRoot=n}sf.prototype.unstable_scheduleHydration=function(n){if(n){var s=e0();n={blockedOn:null,target:n,priority:s};for(var a=0;a<nr.length&&s!==0&&s<nr[a].priority;a++);nr.splice(a,0,n),a===0&&i0(n)}};function Cm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function rf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function vA(){}function Yb(n,s,a,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var H=nf(E);y.call(H)}}var E=gA(s,d,n,0,null,!1,!1,"",vA);return n._reactRootContainer=E,n[os]=E.current,Eu(n.nodeType===8?n.parentNode:n),so(),E}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var R=d;d=function(){var H=nf(P);R.call(H)}}var P=Sm(n,0,!1,null,null,!1,!1,"",vA);return n._reactRootContainer=P,n[os]=P.current,Eu(n.nodeType===8?n.parentNode:n),so(function(){tf(s,P,a,d)}),P}function of(n,s,a,d,m){var y=a._reactRootContainer;if(y){var E=y;if(typeof m=="function"){var R=m;m=function(){var P=nf(E);R.call(P)}}tf(s,E,n,m)}else E=Yb(a,s,n,m,d);return nf(E)}Jv=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=au(s.pendingLanes);a!==0&&(Yp(s,a|1),vn(s,pt()),!(Be&6)&&(Va=pt()+500,lr()))}break;case 13:so(function(){var d=cs(n,1);if(d!==null){var m=an();di(d,n,1,m)}}),bm(n,1)}},Qp=function(n){if(n.tag===13){var s=cs(n,134217728);if(s!==null){var a=an();di(s,n,134217728,a)}bm(n,134217728)}},Zv=function(n){if(n.tag===13){var s=pr(n),a=cs(n,s);if(a!==null){var d=an();di(a,n,s,d)}bm(n,s)}},e0=function(){return Ge},t0=function(n,s){var a=Ge;try{return Ge=n,s()}finally{Ge=a}},$p=function(n,s,a){switch(s){case"input":if(Pi(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var d=a[s];if(d!==n&&d.form===n.form){var m=Ed(d);if(!m)throw Error(t(90));Qs(d),Pi(d,m)}}}break;case"textarea":Qh(n,a);break;case"select":s=a.value,s!=null&&ri(n,!!a.multiple,s,!1)}},zv=ym,Bv=so;var Qb={usingClientEntryPoint:!1,Events:[xu,La,Ed,Nv,Hv,ym]},zu={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jb={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Vv(n),n===null?null:n.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance||Kb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{id=af.inject(Jb),Mi=af}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qb,wn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cm(s))throw Error(t(200));return Xb(n,s,null,a)},wn.createRoot=function(n,s){if(!Cm(n))throw Error(t(299));var a=!1,d="",m=yA;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Sm(n,1,!1,null,null,a,!1,d,m),n[os]=s.current,Eu(n.nodeType===8?n.parentNode:n),new xm(s)},wn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Vv(s),n=n===null?null:n.stateNode,n},wn.flushSync=function(n){return so(n)},wn.hydrate=function(n,s,a){if(!rf(s))throw Error(t(200));return of(null,n,s,!0,a)},wn.hydrateRoot=function(n,s,a){if(!Cm(n))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,m=!1,y="",E=yA;if(a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=gA(s,null,n,1,a??null,m,!1,y,E),n[os]=s.current,Eu(n),d)for(n=0;n<d.length;n++)a=d[n],m=a._getVersion,m=m(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,m]:s.mutableSourceEagerHydrationData.push(a,m);return new sf(s)},wn.render=function(n,s,a){if(!rf(s))throw Error(t(200));return of(null,n,s,!1,a)},wn.unmountComponentAtNode=function(n){if(!rf(n))throw Error(t(40));return n._reactRootContainer?(so(function(){of(null,null,n,!1,function(){n._reactRootContainer=null,n[os]=null})}),!0):!1},wn.unstable_batchedUpdates=ym,wn.unstable_renderSubtreeIntoContainer=function(n,s,a,d){if(!rf(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return of(n,s,a,!1,d)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var TA;function lx(){if(TA)return Pm.exports;TA=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(e){console.error(e)}}return u(),Pm.exports=ax(),Pm.exports}var kA;function ux(){if(kA)return lf;kA=1;var u=lx();return lf.createRoot=u.createRoot,lf.hydrateRoot=u.hydrateRoot,lf}var cx=ux();const hx=__(cx);var ce=pv();function E_(u,e){return function(){return u.apply(e,arguments)}}const{toString:dx}=Object.prototype,{getPrototypeOf:gv}=Object,wp=(u=>e=>{const t=dx.call(e);return u[t]||(u[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ki=u=>(u=u.toLowerCase(),e=>wp(e)===u),Ap=u=>e=>typeof e===u,{isArray:Zl}=Array,uc=Ap("undefined");function fx(u){return u!==null&&!uc(u)&&u.constructor!==null&&!uc(u.constructor)&&Vn(u.constructor.isBuffer)&&u.constructor.isBuffer(u)}const S_=ki("ArrayBuffer");function px(u){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(u):e=u&&u.buffer&&S_(u.buffer),e}const gx=Ap("string"),Vn=Ap("function"),b_=Ap("number"),_p=u=>u!==null&&typeof u=="object",mx=u=>u===!0||u===!1,gf=u=>{if(wp(u)!=="object")return!1;const e=gv(u);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},yx=ki("Date"),vx=ki("File"),wx=ki("Blob"),Ax=ki("FileList"),_x=u=>_p(u)&&Vn(u.pipe),Ex=u=>{let e;return u&&(typeof FormData=="function"&&u instanceof FormData||Vn(u.append)&&((e=wp(u))==="formdata"||e==="object"&&Vn(u.toString)&&u.toString()==="[object FormData]"))},Sx=ki("URLSearchParams"),[bx,xx,Cx,Tx]=["ReadableStream","Request","Response","Headers"].map(ki),kx=u=>u.trim?u.trim():u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $h(u,e,{allOwnKeys:t=!1}={}){if(u===null||typeof u>"u")return;let i,r;if(typeof u!="object"&&(u=[u]),Zl(u))for(i=0,r=u.length;i<r;i++)e.call(null,u[i],i,u);else{const o=t?Object.getOwnPropertyNames(u):Object.keys(u),l=o.length;let h;for(i=0;i<l;i++)h=o[i],e.call(null,u[h],h,u)}}function x_(u,e){e=e.toLowerCase();const t=Object.keys(u);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,C_=u=>!uc(u)&&u!==go;function Vm(){const{caseless:u}=C_(this)&&this||{},e={},t=(i,r)=>{const o=u&&x_(e,r)||r;gf(e[o])&&gf(i)?e[o]=Vm(e[o],i):gf(i)?e[o]=Vm({},i):Zl(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&$h(arguments[i],t);return e}const Rx=(u,e,t,{allOwnKeys:i}={})=>($h(e,(r,o)=>{t&&Vn(r)?u[o]=E_(r,t):u[o]=r},{allOwnKeys:i}),u),Px=u=>(u.charCodeAt(0)===65279&&(u=u.slice(1)),u),Lx=(u,e,t,i)=>{u.prototype=Object.create(e.prototype,i),u.prototype.constructor=u,Object.defineProperty(u,"super",{value:e.prototype}),t&&Object.assign(u.prototype,t)},Mx=(u,e,t,i)=>{let r,o,l;const h={};if(e=e||{},u==null)return e;do{for(r=Object.getOwnPropertyNames(u),o=r.length;o-- >0;)l=r[o],(!i||i(l,u,e))&&!h[l]&&(e[l]=u[l],h[l]=!0);u=t!==!1&&gv(u)}while(u&&(!t||t(u,e))&&u!==Object.prototype);return e},Dx=(u,e,t)=>{u=String(u),(t===void 0||t>u.length)&&(t=u.length),t-=e.length;const i=u.indexOf(e,t);return i!==-1&&i===t},Ix=u=>{if(!u)return null;if(Zl(u))return u;let e=u.length;if(!b_(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=u[e];return t},Fx=(u=>e=>u&&e instanceof u)(typeof Uint8Array<"u"&&gv(Uint8Array)),Ox=(u,e)=>{const i=(u&&u[Symbol.iterator]).call(u);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(u,o[0],o[1])}},Nx=(u,e)=>{let t;const i=[];for(;(t=u.exec(e))!==null;)i.push(t);return i},Hx=ki("HTMLFormElement"),zx=u=>u.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),RA=(({hasOwnProperty:u})=>(e,t)=>u.call(e,t))(Object.prototype),Bx=ki("RegExp"),T_=(u,e)=>{const t=Object.getOwnPropertyDescriptors(u),i={};$h(t,(r,o)=>{let l;(l=e(r,o,u))!==!1&&(i[o]=l||r)}),Object.defineProperties(u,i)},jx=u=>{T_(u,(e,t)=>{if(Vn(u)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=u[t];if(Vn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ux=(u,e)=>{const t={},i=r=>{r.forEach(o=>{t[o]=!0})};return Zl(u)?i(u):i(String(u).split(e)),t},$x=()=>{},Vx=(u,e)=>u!=null&&Number.isFinite(u=+u)?u:e,Dm="abcdefghijklmnopqrstuvwxyz",PA="0123456789",k_={DIGIT:PA,ALPHA:Dm,ALPHA_DIGIT:Dm+Dm.toUpperCase()+PA},Wx=(u=16,e=k_.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;u--;)t+=e[Math.random()*i|0];return t};function Gx(u){return!!(u&&Vn(u.append)&&u[Symbol.toStringTag]==="FormData"&&u[Symbol.iterator])}const qx=u=>{const e=new Array(10),t=(i,r)=>{if(_p(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=Zl(i)?[]:{};return $h(i,(l,h)=>{const f=t(l,r+1);!uc(f)&&(o[h]=f)}),e[r]=void 0,o}}return i};return t(u,0)},Xx=ki("AsyncFunction"),Kx=u=>u&&(_p(u)||Vn(u))&&Vn(u.then)&&Vn(u.catch),R_=((u,e)=>u?setImmediate:e?((t,i)=>(go.addEventListener("message",({source:r,data:o})=>{r===go&&o===t&&i.length&&i.shift()()},!1),r=>{i.push(r),go.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Vn(go.postMessage)),Yx=typeof queueMicrotask<"u"?queueMicrotask.bind(go):typeof process<"u"&&process.nextTick||R_,j={isArray:Zl,isArrayBuffer:S_,isBuffer:fx,isFormData:Ex,isArrayBufferView:px,isString:gx,isNumber:b_,isBoolean:mx,isObject:_p,isPlainObject:gf,isReadableStream:bx,isRequest:xx,isResponse:Cx,isHeaders:Tx,isUndefined:uc,isDate:yx,isFile:vx,isBlob:wx,isRegExp:Bx,isFunction:Vn,isStream:_x,isURLSearchParams:Sx,isTypedArray:Fx,isFileList:Ax,forEach:$h,merge:Vm,extend:Rx,trim:kx,stripBOM:Px,inherits:Lx,toFlatObject:Mx,kindOf:wp,kindOfTest:ki,endsWith:Dx,toArray:Ix,forEachEntry:Ox,matchAll:Nx,isHTMLForm:Hx,hasOwnProperty:RA,hasOwnProp:RA,reduceDescriptors:T_,freezeMethods:jx,toObjectSet:Ux,toCamelCase:zx,noop:$x,toFiniteNumber:Vx,findKey:x_,global:go,isContextDefined:C_,ALPHABET:k_,generateString:Wx,isSpecCompliantForm:Gx,toJSONObject:qx,isAsyncFn:Xx,isThenable:Kx,setImmediate:R_,asap:Yx};function Pe(u,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=u,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}j.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const P_=Pe.prototype,L_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(u=>{L_[u]={value:u}});Object.defineProperties(Pe,L_);Object.defineProperty(P_,"isAxiosError",{value:!0});Pe.from=(u,e,t,i,r,o)=>{const l=Object.create(P_);return j.toFlatObject(u,l,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Pe.call(l,u.message,e,t,i,r),l.cause=u,l.name=u.name,o&&Object.assign(l,o),l};const Qx=null;function Wm(u){return j.isPlainObject(u)||j.isArray(u)}function M_(u){return j.endsWith(u,"[]")?u.slice(0,-2):u}function LA(u,e,t){return u?u.concat(e).map(function(r,o){return r=M_(r),!t&&o?"["+r+"]":r}).join(t?".":""):e}function Jx(u){return j.isArray(u)&&!u.some(Wm)}const Zx=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function Ep(u,e,t){if(!j.isObject(u))throw new TypeError("target must be an object");e=e||new FormData,t=j.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,T){return!j.isUndefined(T[C])});const i=t.metaTokens,r=t.visitor||g,o=t.dots,l=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(r))throw new TypeError("visitor must be a function");function p(A){if(A===null)return"";if(j.isDate(A))return A.toISOString();if(!f&&j.isBlob(A))throw new Pe("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(A)||j.isTypedArray(A)?f&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function g(A,C,T){let k=A;if(A&&!T&&typeof A=="object"){if(j.endsWith(C,"{}"))C=i?C:C.slice(0,-2),A=JSON.stringify(A);else if(j.isArray(A)&&Jx(A)||(j.isFileList(A)||j.endsWith(C,"[]"))&&(k=j.toArray(A)))return C=M_(C),k.forEach(function(I,O){!(j.isUndefined(I)||I===null)&&e.append(l===!0?LA([C],O,o):l===null?C:C+"[]",p(I))}),!1}return Wm(A)?!0:(e.append(LA(T,C,o),p(A)),!1)}const v=[],w=Object.assign(Zx,{defaultVisitor:g,convertValue:p,isVisitable:Wm});function _(A,C){if(!j.isUndefined(A)){if(v.indexOf(A)!==-1)throw Error("Circular reference detected in "+C.join("."));v.push(A),j.forEach(A,function(k,L){(!(j.isUndefined(k)||k===null)&&r.call(e,k,j.isString(L)?L.trim():L,C,w))===!0&&_(k,C?C.concat(L):[L])}),v.pop()}}if(!j.isObject(u))throw new TypeError("data must be an object");return _(u),e}function MA(u){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(u).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function mv(u,e){this._pairs=[],u&&Ep(u,this,e)}const D_=mv.prototype;D_.append=function(e,t){this._pairs.push([e,t])};D_.toString=function(e){const t=e?function(i){return e.call(this,i,MA)}:MA;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function eC(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function I_(u,e,t){if(!e)return u;const i=t&&t.encode||eC;j.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let o;if(r?o=r(e,t):o=j.isURLSearchParams(e)?e.toString():new mv(e,t).toString(i),o){const l=u.indexOf("#");l!==-1&&(u=u.slice(0,l)),u+=(u.indexOf("?")===-1?"?":"&")+o}return u}class DA{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(i){i!==null&&e(i)})}}const F_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tC=typeof URLSearchParams<"u"?URLSearchParams:mv,nC=typeof FormData<"u"?FormData:null,iC=typeof Blob<"u"?Blob:null,sC={isBrowser:!0,classes:{URLSearchParams:tC,FormData:nC,Blob:iC},protocols:["http","https","file","blob","url","data"]},yv=typeof window<"u"&&typeof document<"u",Gm=typeof navigator=="object"&&navigator||void 0,rC=yv&&(!Gm||["ReactNative","NativeScript","NS"].indexOf(Gm.product)<0),oC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aC=yv&&window.location.href||"http://localhost",lC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yv,hasStandardBrowserEnv:rC,hasStandardBrowserWebWorkerEnv:oC,navigator:Gm,origin:aC},Symbol.toStringTag,{value:"Module"})),nn={...lC,...sC};function uC(u,e){return Ep(u,new nn.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,o){return nn.isNode&&j.isBuffer(t)?(this.append(i,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function cC(u){return j.matchAll(/\w+|\[(\w*)]/g,u).map(e=>e[0]==="[]"?"":e[1]||e[0])}function hC(u){const e={},t=Object.keys(u);let i;const r=t.length;let o;for(i=0;i<r;i++)o=t[i],e[o]=u[o];return e}function O_(u){function e(t,i,r,o){let l=t[o++];if(l==="__proto__")return!0;const h=Number.isFinite(+l),f=o>=t.length;return l=!l&&j.isArray(r)?r.length:l,f?(j.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!h):((!r[l]||!j.isObject(r[l]))&&(r[l]=[]),e(t,i,r[l],o)&&j.isArray(r[l])&&(r[l]=hC(r[l])),!h)}if(j.isFormData(u)&&j.isFunction(u.entries)){const t={};return j.forEachEntry(u,(i,r)=>{e(cC(i),r,t,0)}),t}return null}function dC(u,e,t){if(j.isString(u))try{return(e||JSON.parse)(u),j.trim(u)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(u)}const Vh={transitional:F_,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,o=j.isObject(e);if(o&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return r?JSON.stringify(O_(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return uC(e,this.formSerializer).toString();if((h=j.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Ep(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),dC(e)):e}],transformResponse:[function(e){const t=this.transitional||Vh.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(i&&!this.responseType||r)){const l=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(h){if(l)throw h.name==="SyntaxError"?Pe.from(h,Pe.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],u=>{Vh.headers[u]={}});const fC=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pC=u=>{const e={};let t,i,r;return u&&u.split(`
`).forEach(function(l){r=l.indexOf(":"),t=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!t||e[t]&&fC[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},IA=Symbol("internals");function ju(u){return u&&String(u).trim().toLowerCase()}function mf(u){return u===!1||u==null?u:j.isArray(u)?u.map(mf):String(u)}function gC(u){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(u);)e[i[1]]=i[2];return e}const mC=u=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(u.trim());function Im(u,e,t,i,r){if(j.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!j.isString(e)){if(j.isString(i))return e.indexOf(i)!==-1;if(j.isRegExp(i))return i.test(e)}}function yC(u){return u.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function vC(u,e){const t=j.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(u,i+t,{value:function(r,o,l){return this[i].call(this,e,r,o,l)},configurable:!0})})}class Cn{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function o(h,f,p){const g=ju(f);if(!g)throw new Error("header name must be a non-empty string");const v=j.findKey(r,g);(!v||r[v]===void 0||p===!0||p===void 0&&r[v]!==!1)&&(r[v||f]=mf(h))}const l=(h,f)=>j.forEach(h,(p,g)=>o(p,g,f));if(j.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(j.isString(e)&&(e=e.trim())&&!mC(e))l(pC(e),t);else if(j.isHeaders(e))for(const[h,f]of e.entries())o(f,h,i);else e!=null&&o(t,e,i);return this}get(e,t){if(e=ju(e),e){const i=j.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return gC(r);if(j.isFunction(t))return t.call(this,r,i);if(j.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ju(e),e){const i=j.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Im(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function o(l){if(l=ju(l),l){const h=j.findKey(i,l);h&&(!t||Im(i,i[h],h,t))&&(delete i[h],r=!0)}}return j.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const o=t[i];(!e||Im(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,i={};return j.forEach(this,(r,o)=>{const l=j.findKey(i,o);if(l){t[l]=mf(r),delete t[o];return}const h=e?yC(o):String(o).trim();h!==o&&delete t[o],t[h]=mf(r),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return j.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&j.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[IA]=this[IA]={accessors:{}}).accessors,r=this.prototype;function o(l){const h=ju(l);i[h]||(vC(r,l),i[h]=!0)}return j.isArray(e)?e.forEach(o):o(e),this}}Cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(Cn.prototype,({value:u},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>u,set(i){this[t]=i}}});j.freezeMethods(Cn);function Fm(u,e){const t=this||Vh,i=e||t,r=Cn.from(i.headers);let o=i.data;return j.forEach(u,function(h){o=h.call(t,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function N_(u){return!!(u&&u.__CANCEL__)}function eu(u,e,t){Pe.call(this,u??"canceled",Pe.ERR_CANCELED,e,t),this.name="CanceledError"}j.inherits(eu,Pe,{__CANCEL__:!0});function H_(u,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?u(t):e(new Pe("Request failed with status code "+t.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function wC(u){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return e&&e[1]||""}function AC(u,e){u=u||10;const t=new Array(u),i=new Array(u);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(f){const p=Date.now(),g=i[o];l||(l=p),t[r]=f,i[r]=p;let v=o,w=0;for(;v!==r;)w+=t[v++],v=v%u;if(r=(r+1)%u,r===o&&(o=(o+1)%u),p-l<e)return;const _=g&&p-g;return _?Math.round(w*1e3/_):void 0}}function _C(u,e){let t=0,i=1e3/e,r,o;const l=(p,g=Date.now())=>{t=g,r=null,o&&(clearTimeout(o),o=null),u.apply(null,p)};return[(...p)=>{const g=Date.now(),v=g-t;v>=i?l(p,g):(r=p,o||(o=setTimeout(()=>{o=null,l(r)},i-v)))},()=>r&&l(r)]}const Vf=(u,e,t=3)=>{let i=0;const r=AC(50,250);return _C(o=>{const l=o.loaded,h=o.lengthComputable?o.total:void 0,f=l-i,p=r(f),g=l<=h;i=l;const v={loaded:l,total:h,progress:h?l/h:void 0,bytes:f,rate:p||void 0,estimated:p&&h&&g?(h-l)/p:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};u(v)},t)},FA=(u,e)=>{const t=u!=null;return[i=>e[0]({lengthComputable:t,total:u,loaded:i}),e[1]]},OA=u=>(...e)=>j.asap(()=>u(...e)),EC=nn.hasStandardBrowserEnv?((u,e)=>t=>(t=new URL(t,nn.origin),u.protocol===t.protocol&&u.host===t.host&&(e||u.port===t.port)))(new URL(nn.origin),nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent)):()=>!0,SC=nn.hasStandardBrowserEnv?{write(u,e,t,i,r,o){const l=[u+"="+encodeURIComponent(e)];j.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),j.isString(i)&&l.push("path="+i),j.isString(r)&&l.push("domain="+r),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(u){const e=document.cookie.match(new RegExp("(^|;\\s*)("+u+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(u){this.write(u,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bC(u){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)}function xC(u,e){return e?u.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):u}function z_(u,e){return u&&!bC(e)?xC(u,e):e}const NA=u=>u instanceof Cn?{...u}:u;function da(u,e){e=e||{};const t={};function i(p,g,v,w){return j.isPlainObject(p)&&j.isPlainObject(g)?j.merge.call({caseless:w},p,g):j.isPlainObject(g)?j.merge({},g):j.isArray(g)?g.slice():g}function r(p,g,v,w){if(j.isUndefined(g)){if(!j.isUndefined(p))return i(void 0,p,v,w)}else return i(p,g,v,w)}function o(p,g){if(!j.isUndefined(g))return i(void 0,g)}function l(p,g){if(j.isUndefined(g)){if(!j.isUndefined(p))return i(void 0,p)}else return i(void 0,g)}function h(p,g,v){if(v in e)return i(p,g);if(v in u)return i(void 0,p)}const f={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h,headers:(p,g,v)=>r(NA(p),NA(g),v,!0)};return j.forEach(Object.keys(Object.assign({},u,e)),function(g){const v=f[g]||r,w=v(u[g],e[g],g);j.isUndefined(w)&&v!==h||(t[g]=w)}),t}const B_=u=>{const e=da({},u);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:h}=e;e.headers=l=Cn.from(l),e.url=I_(z_(e.baseURL,e.url),u.params,u.paramsSerializer),h&&l.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(j.isFormData(t)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((f=l.getContentType())!==!1){const[p,...g]=f?f.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...g].join("; "))}}if(nn.hasStandardBrowserEnv&&(i&&j.isFunction(i)&&(i=i(e)),i||i!==!1&&EC(e.url))){const p=r&&o&&SC.read(o);p&&l.set(r,p)}return e},CC=typeof XMLHttpRequest<"u",TC=CC&&function(u){return new Promise(function(t,i){const r=B_(u);let o=r.data;const l=Cn.from(r.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:p}=r,g,v,w,_,A;function C(){_&&_(),A&&A(),r.cancelToken&&r.cancelToken.unsubscribe(g),r.signal&&r.signal.removeEventListener("abort",g)}let T=new XMLHttpRequest;T.open(r.method.toUpperCase(),r.url,!0),T.timeout=r.timeout;function k(){if(!T)return;const I=Cn.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),z={data:!h||h==="text"||h==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:I,config:u,request:T};H_(function(V){t(V),C()},function(V){i(V),C()},z),T=null}"onloadend"in T?T.onloadend=k:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(k)},T.onabort=function(){T&&(i(new Pe("Request aborted",Pe.ECONNABORTED,u,T)),T=null)},T.onerror=function(){i(new Pe("Network Error",Pe.ERR_NETWORK,u,T)),T=null},T.ontimeout=function(){let O=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const z=r.transitional||F_;r.timeoutErrorMessage&&(O=r.timeoutErrorMessage),i(new Pe(O,z.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,u,T)),T=null},o===void 0&&l.setContentType(null),"setRequestHeader"in T&&j.forEach(l.toJSON(),function(O,z){T.setRequestHeader(z,O)}),j.isUndefined(r.withCredentials)||(T.withCredentials=!!r.withCredentials),h&&h!=="json"&&(T.responseType=r.responseType),p&&([w,A]=Vf(p,!0),T.addEventListener("progress",w)),f&&T.upload&&([v,_]=Vf(f),T.upload.addEventListener("progress",v),T.upload.addEventListener("loadend",_)),(r.cancelToken||r.signal)&&(g=I=>{T&&(i(!I||I.type?new eu(null,u,T):I),T.abort(),T=null)},r.cancelToken&&r.cancelToken.subscribe(g),r.signal&&(r.signal.aborted?g():r.signal.addEventListener("abort",g)));const L=wC(r.url);if(L&&nn.protocols.indexOf(L)===-1){i(new Pe("Unsupported protocol "+L+":",Pe.ERR_BAD_REQUEST,u));return}T.send(o||null)})},kC=(u,e)=>{const{length:t}=u=u?u.filter(Boolean):[];if(e||t){let i=new AbortController,r;const o=function(p){if(!r){r=!0,h();const g=p instanceof Error?p:this.reason;i.abort(g instanceof Pe?g:new eu(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,o(new Pe(`timeout ${e} of ms exceeded`,Pe.ETIMEDOUT))},e);const h=()=>{u&&(l&&clearTimeout(l),l=null,u.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),u=null)};u.forEach(p=>p.addEventListener("abort",o));const{signal:f}=i;return f.unsubscribe=()=>j.asap(h),f}},RC=function*(u,e){let t=u.byteLength;if(t<e){yield u;return}let i=0,r;for(;i<t;)r=i+e,yield u.slice(i,r),i=r},PC=async function*(u,e){for await(const t of LC(u))yield*RC(t,e)},LC=async function*(u){if(u[Symbol.asyncIterator]){yield*u;return}const e=u.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},HA=(u,e,t,i)=>{const r=PC(u,e);let o=0,l,h=f=>{l||(l=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:p,value:g}=await r.next();if(p){h(),f.close();return}let v=g.byteLength;if(t){let w=o+=v;t(w)}f.enqueue(new Uint8Array(g))}catch(p){throw h(p),p}},cancel(f){return h(f),r.return()}},{highWaterMark:2})},Sp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",j_=Sp&&typeof ReadableStream=="function",MC=Sp&&(typeof TextEncoder=="function"?(u=>e=>u.encode(e))(new TextEncoder):async u=>new Uint8Array(await new Response(u).arrayBuffer())),U_=(u,...e)=>{try{return!!u(...e)}catch{return!1}},DC=j_&&U_(()=>{let u=!1;const e=new Request(nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return u=!0,"half"}}).headers.has("Content-Type");return u&&!e}),zA=64*1024,qm=j_&&U_(()=>j.isReadableStream(new Response("").body)),Wf={stream:qm&&(u=>u.body)};Sp&&(u=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Wf[e]&&(Wf[e]=j.isFunction(u[e])?t=>t[e]():(t,i)=>{throw new Pe(`Response type '${e}' is not supported`,Pe.ERR_NOT_SUPPORT,i)})})})(new Response);const IC=async u=>{if(u==null)return 0;if(j.isBlob(u))return u.size;if(j.isSpecCompliantForm(u))return(await new Request(nn.origin,{method:"POST",body:u}).arrayBuffer()).byteLength;if(j.isArrayBufferView(u)||j.isArrayBuffer(u))return u.byteLength;if(j.isURLSearchParams(u)&&(u=u+""),j.isString(u))return(await MC(u)).byteLength},FC=async(u,e)=>{const t=j.toFiniteNumber(u.getContentLength());return t??IC(e)},OC=Sp&&(async u=>{let{url:e,method:t,data:i,signal:r,cancelToken:o,timeout:l,onDownloadProgress:h,onUploadProgress:f,responseType:p,headers:g,withCredentials:v="same-origin",fetchOptions:w}=B_(u);p=p?(p+"").toLowerCase():"text";let _=kC([r,o&&o.toAbortSignal()],l),A;const C=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let T;try{if(f&&DC&&t!=="get"&&t!=="head"&&(T=await FC(g,i))!==0){let z=new Request(e,{method:"POST",body:i,duplex:"half"}),B;if(j.isFormData(i)&&(B=z.headers.get("content-type"))&&g.setContentType(B),z.body){const[V,q]=FA(T,Vf(OA(f)));i=HA(z.body,zA,V,q)}}j.isString(v)||(v=v?"include":"omit");const k="credentials"in Request.prototype;A=new Request(e,{...w,signal:_,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",credentials:k?v:void 0});let L=await fetch(A);const I=qm&&(p==="stream"||p==="response");if(qm&&(h||I&&C)){const z={};["status","statusText","headers"].forEach(Q=>{z[Q]=L[Q]});const B=j.toFiniteNumber(L.headers.get("content-length")),[V,q]=h&&FA(B,Vf(OA(h),!0))||[];L=new Response(HA(L.body,zA,V,()=>{q&&q(),C&&C()}),z)}p=p||"text";let O=await Wf[j.findKey(Wf,p)||"text"](L,u);return!I&&C&&C(),await new Promise((z,B)=>{H_(z,B,{data:O,headers:Cn.from(L.headers),status:L.status,statusText:L.statusText,config:u,request:A})})}catch(k){throw C&&C(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,u,A),{cause:k.cause||k}):Pe.from(k,k&&k.code,u,A)}}),Xm={http:Qx,xhr:TC,fetch:OC};j.forEach(Xm,(u,e)=>{if(u){try{Object.defineProperty(u,"name",{value:e})}catch{}Object.defineProperty(u,"adapterName",{value:e})}});const BA=u=>`- ${u}`,NC=u=>j.isFunction(u)||u===null||u===!1,$_={getAdapter:u=>{u=j.isArray(u)?u:[u];const{length:e}=u;let t,i;const r={};for(let o=0;o<e;o++){t=u[o];let l;if(i=t,!NC(t)&&(i=Xm[(l=String(t)).toLowerCase()],i===void 0))throw new Pe(`Unknown adapter '${l}'`);if(i)break;r[l||"#"+o]=i}if(!i){const o=Object.entries(r).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(BA).join(`
`):" "+BA(o[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Xm};function Om(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new eu(null,u)}function jA(u){return Om(u),u.headers=Cn.from(u.headers),u.data=Fm.call(u,u.transformRequest),["post","put","patch"].indexOf(u.method)!==-1&&u.headers.setContentType("application/x-www-form-urlencoded",!1),$_.getAdapter(u.adapter||Vh.adapter)(u).then(function(i){return Om(u),i.data=Fm.call(u,u.transformResponse,i),i.headers=Cn.from(i.headers),i},function(i){return N_(i)||(Om(u),i&&i.response&&(i.response.data=Fm.call(u,u.transformResponse,i.response),i.response.headers=Cn.from(i.response.headers))),Promise.reject(i)})}const V_="1.7.9",bp={};["object","boolean","number","function","string","symbol"].forEach((u,e)=>{bp[u]=function(i){return typeof i===u||"a"+(e<1?"n ":" ")+u}});const UA={};bp.transitional=function(e,t,i){function r(o,l){return"[Axios v"+V_+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,h)=>{if(e===!1)throw new Pe(r(l," has been removed"+(t?" in "+t:"")),Pe.ERR_DEPRECATED);return t&&!UA[l]&&(UA[l]=!0,console.warn(r(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,h):!0}};bp.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function HC(u,e,t){if(typeof u!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const i=Object.keys(u);let r=i.length;for(;r-- >0;){const o=i[r],l=e[o];if(l){const h=u[o],f=h===void 0||l(h,o,u);if(f!==!0)throw new Pe("option "+o+" must be "+f,Pe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Pe("Unknown option "+o,Pe.ERR_BAD_OPTION)}}const yf={assertOptions:HC,validators:bp},Ni=yf.validators;class ha{constructor(e){this.defaults=e,this.interceptors={request:new DA,response:new DA}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=da(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:o}=t;i!==void 0&&yf.assertOptions(i,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1),r!=null&&(j.isFunction(r)?t.paramsSerializer={serialize:r}:yf.assertOptions(r,{encode:Ni.function,serialize:Ni.function},!0)),yf.assertOptions(t,{baseUrl:Ni.spelling("baseURL"),withXsrfToken:Ni.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&j.merge(o.common,o[t.method]);o&&j.forEach(["delete","get","head","post","put","patch","common"],A=>{delete o[A]}),t.headers=Cn.concat(l,o);const h=[];let f=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(t)===!1||(f=f&&C.synchronous,h.unshift(C.fulfilled,C.rejected))});const p=[];this.interceptors.response.forEach(function(C){p.push(C.fulfilled,C.rejected)});let g,v=0,w;if(!f){const A=[jA.bind(this),void 0];for(A.unshift.apply(A,h),A.push.apply(A,p),w=A.length,g=Promise.resolve(t);v<w;)g=g.then(A[v++],A[v++]);return g}w=h.length;let _=t;for(v=0;v<w;){const A=h[v++],C=h[v++];try{_=A(_)}catch(T){C.call(this,T);break}}try{g=jA.call(this,_)}catch(A){return Promise.reject(A)}for(v=0,w=p.length;v<w;)g=g.then(p[v++],p[v++]);return g}getUri(e){e=da(this.defaults,e);const t=z_(e.baseURL,e.url);return I_(t,e.params,e.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(e){ha.prototype[e]=function(t,i){return this.request(da(i||{},{method:e,url:t,data:(i||{}).data}))}});j.forEach(["post","put","patch"],function(e){function t(i){return function(o,l,h){return this.request(da(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}ha.prototype[e]=t(),ha.prototype[e+"Form"]=t(!0)});class vv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(h=>{i.subscribe(h),o=h}).then(r);return l.cancel=function(){i.unsubscribe(o)},l},e(function(o,l,h){i.reason||(i.reason=new eu(o,l,h),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new vv(function(r){e=r}),cancel:e}}}function zC(u){return function(t){return u.apply(null,t)}}function BC(u){return j.isObject(u)&&u.isAxiosError===!0}const Km={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Km).forEach(([u,e])=>{Km[e]=u});function W_(u){const e=new ha(u),t=E_(ha.prototype.request,e);return j.extend(t,ha.prototype,e,{allOwnKeys:!0}),j.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return W_(da(u,r))},t}const yt=W_(Vh);yt.Axios=ha;yt.CanceledError=eu;yt.CancelToken=vv;yt.isCancel=N_;yt.VERSION=V_;yt.toFormData=Ep;yt.AxiosError=Pe;yt.Cancel=yt.CanceledError;yt.all=function(e){return Promise.all(e)};yt.spread=zC;yt.isAxiosError=BC;yt.mergeConfig=da;yt.AxiosHeaders=Cn;yt.formToJSON=u=>O_(j.isHTMLForm(u)?new FormData(u):u);yt.getAdapter=$_.getAdapter;yt.HttpStatusCode=Km;yt.default=yt;const jC="modulepreload",UC=function(u){return"/"+u},$A={},uf=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.allSettled(t.map(f=>{if(f=UC(f),f in $A)return;$A[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":jC,p||(v.as="script"),v.crossOrigin="",v.href=f,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((w,_)=>{v.addEventListener("load",w),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return r.then(l=>{for(const h of l||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};var oc={};oc.d=(u,e)=>{for(var t in e)oc.o(e,t)&&!oc.o(u,t)&&Object.defineProperty(u,t,{enumerable:!0,get:e[t]})};oc.o=(u,e)=>Object.prototype.hasOwnProperty.call(u,e);var Se=globalThis.pdfjsLib={};oc.d(Se,{AbortException:()=>Aa,AnnotationEditorLayer:()=>rv,AnnotationEditorParamsType:()=>Ce,AnnotationEditorType:()=>He,AnnotationEditorUIManager:()=>pa,AnnotationLayer:()=>Bk,AnnotationMode:()=>_r,CMapCompressionType:()=>Qm,ColorPicker:()=>Jf,DOMSVGFactory:()=>_v,DrawLayer:()=>uv,FeatureTest:()=>bn,GlobalWorkerOptions:()=>Ws,ImageKind:()=>vf,InvalidPDFException:()=>q_,MissingPDFException:()=>wa,OPS:()=>pi,Outliner:()=>By,PDFDataRangeTransport:()=>UE,PDFDateString:()=>eE,PDFWorker:()=>el,PasswordResponses:()=>GC,PermissionFlag:()=>WC,PixelsPerInch:()=>$r,RenderingCancelledException:()=>Ev,TextLayer:()=>Yf,UnexpectedResponseException:()=>kp,Util:()=>de,VerbosityLevel:()=>xp,XfaLayer:()=>VE,build:()=>Ak,createValidAbsoluteUrl:()=>YC,fetchData:()=>Dp,getDocument:()=>hk,getFilenameFromUrl:()=>oT,getPdfFilenameFromUrl:()=>aT,getXfaPageViewport:()=>lT,isDataScheme:()=>Sv,isPdfFile:()=>bv,noContextMenu:()=>Tn,normalizeUnicode:()=>nT,renderTextLayer:()=>nk,setLayerDimensions:()=>fa,shadow:()=>je,updateTextLayer:()=>ik,version:()=>wk});const rn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),G_=[1,0,0,1,0,0],Ym=[.001,0,0,.001,0,0],$C=1e7,Nm=1.35,ni={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},_r={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},VC="pdfjs_internal_editor_",He={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ce={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},WC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Jt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},vf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},xt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Uu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},xp={ERRORS:0,WARNINGS:1,INFOS:5},Qm={NONE:0,BINARY:1},pi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},GC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Cp=xp.WARNINGS;function qC(u){Number.isInteger(u)&&(Cp=u)}function XC(){return Cp}function Tp(u){Cp>=xp.INFOS&&console.log(`Info: ${u}`)}function Me(u){Cp>=xp.WARNINGS&&console.log(`Warning: ${u}`)}function Ye(u){throw new Error(u)}function Lt(u,e){u||Ye(e)}function KC(u){switch(u==null?void 0:u.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function YC(u,e=null,t=null){if(!u)return null;try{if(t&&typeof u=="string"){if(t.addDefaultProtocol&&u.startsWith("www.")){const r=u.match(/\./g);(r==null?void 0:r.length)>=2&&(u=`http://${u}`)}if(t.tryConvertEncoding)try{u=tT(u)}catch{}}const i=e?new URL(u,e):new URL(u);if(KC(i))return i}catch{}return null}function je(u,e,t,i=!1){return Object.defineProperty(u,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Gr=function(){function e(t,i){this.constructor===e&&Ye("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class Jm extends Gr{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Zm extends Gr{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class q_ extends Gr{constructor(e){super(e,"InvalidPDFException")}}class wa extends Gr{constructor(e){super(e,"MissingPDFException")}}class kp extends Gr{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class QC extends Gr{constructor(e){super(e,"FormatError")}}class Aa extends Gr{constructor(e){super(e,"AbortException")}}function X_(u){(typeof u!="object"||(u==null?void 0:u.length)===void 0)&&Ye("Invalid argument for bytesToString");const e=u.length,t=8192;if(e<t)return String.fromCharCode.apply(null,u);const i=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),l=u.subarray(r,o);i.push(String.fromCharCode.apply(null,l))}return i.join("")}function Rp(u){typeof u!="string"&&Ye("Invalid argument for stringToBytes");const e=u.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=u.charCodeAt(i)&255;return t}function JC(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function wv(u){const e=Object.create(null);for(const[t,i]of u)e[t]=i;return e}function ZC(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function eT(){try{return new Function(""),!0}catch{return!1}}class bn{static get isLittleEndian(){return je(this,"isLittleEndian",ZC())}static get isEvalSupported(){return je(this,"isEvalSupported",eT())}static get isOffscreenCanvasSupported(){return je(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?je(this,"platform",{isMac:navigator.platform.includes("Mac")}):je(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return je(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Hm=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));var qs,wf,ey;class de{static makeHexColor(e,t,i){return`#${Hm[e]}${Hm[t]}${Hm[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[i,r]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[r,o]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),l=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],o[0],l[0]),Math.min(i[1],r[1],o[1],l[1]),Math.max(i[0],r[0],o[0],l[0]),Math.max(i[1],r[1],o[1],l[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],l=e[2]*t[1]+e[3]*t[3],h=(i+l)/2,f=Math.sqrt((i+l)**2-4*(i*l-o*r))/2,p=h+f||1,g=h-f||1;return[Math.sqrt(p),Math.sqrt(g)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[i,o,r,l]}static bezierBoundingBox(e,t,i,r,o,l,h,f,p){return p?(p[0]=Math.min(p[0],e,h),p[1]=Math.min(p[1],t,f),p[2]=Math.max(p[2],e,h),p[3]=Math.max(p[3],t,f)):p=[Math.min(e,h),Math.min(t,f),Math.max(e,h),Math.max(t,f)],b(this,qs,ey).call(this,e,i,o,h,t,r,l,f,3*(-e+3*(i-o)+h),6*(e-2*i+o),3*(i-e),p),b(this,qs,ey).call(this,e,i,o,h,t,r,l,f,3*(-t+3*(r-l)+f),6*(t-2*r+l),3*(r-t),p),p}}qs=new WeakSet,wf=function(e,t,i,r,o,l,h,f,p,g){if(p<=0||p>=1)return;const v=1-p,w=p*p,_=w*p,A=v*(v*(v*e+3*p*t)+3*w*i)+_*r,C=v*(v*(v*o+3*p*l)+3*w*h)+_*f;g[0]=Math.min(g[0],A),g[1]=Math.min(g[1],C),g[2]=Math.max(g[2],A),g[3]=Math.max(g[3],C)},ey=function(e,t,i,r,o,l,h,f,p,g,v,w){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&b(this,qs,wf).call(this,e,t,i,r,o,l,h,f,-v/g,w);return}const _=g**2-4*v*p;if(_<0)return;const A=Math.sqrt(_),C=2*p;b(this,qs,wf).call(this,e,t,i,r,o,l,h,f,(-g+A)/C,w),b(this,qs,wf).call(this,e,t,i,r,o,l,h,f,(-g-A)/C,w)},x(de,qs);function tT(u){return decodeURIComponent(escape(u))}let zm=null,VA=null;function nT(u){return zm||(zm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,VA=new Map([["ﬅ","ſt"]])),u.replaceAll(zm,(e,t,i)=>t?t.normalize("NFKC"):VA.get(i))}function iT(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const u=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(u);else for(let e=0;e<32;e++)u[e]=Math.floor(Math.random()*255);return X_(u)}const K_="pdfjs_internal_id_",ps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Pp{constructor(){this.constructor===Pp&&Ye("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,o){return"none"}destroy(e=!1){}}var hc;const Pv=class Pv{constructor({enableHWA:e=!1}={}){x(this,hc,!1);this.constructor===Pv&&Ye("Cannot initialize BaseCanvasFactory."),S(this,hc,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!c(this,hc)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ye("Abstract method `_createCanvas` called.")}};hc=new WeakMap;let Gf=Pv;class Lp{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Lp&&Ye("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?Qm.BINARY:Qm.NONE;return this._fetchData(t,i).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Ye("Abstract method `_fetchData` called.")}}class Mp{constructor({baseUrl:e=null}){this.constructor===Mp&&Ye("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Ye("Abstract method `_fetchData` called.")}}class Av{constructor(){this.constructor===Av&&Ye("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ye("Abstract method `_createSVG` called.")}}const ms="http://www.w3.org/2000/svg",fo=class fo{};Re(fo,"CSS",96),Re(fo,"PDF",72),Re(fo,"PDF_TO_CSS_UNITS",fo.CSS/fo.PDF);let $r=fo;var mo,zi,_s,_n,ep,yo,le,Zt,Ga,qa,Af,Y_,ty,Xa,Wu,Gu,ny,qu;class sT extends Pp{constructor({docId:t,ownerDocument:i=globalThis.document}={}){super();x(this,le);x(this,mo);x(this,zi);x(this,_s);x(this,_n);x(this,ep);x(this,yo,0);S(this,_s,t),S(this,_n,i)}addFilter(t){if(!t)return"none";let i=c(this,le,Zt).get(t);if(i)return i;const[r,o,l]=b(this,le,Af).call(this,t),h=t.length===1?r:`${r}${o}${l}`;if(i=c(this,le,Zt).get(h),i)return c(this,le,Zt).set(t,i),i;const f=`g_${c(this,_s)}_transfer_map_${Mn(this,yo)._++}`,p=`url(#${f})`;c(this,le,Zt).set(t,p),c(this,le,Zt).set(h,p);const g=b(this,le,Xa).call(this,f);return b(this,le,Gu).call(this,r,o,l,g),p}addHCMFilter(t,i){var A;const r=`${t}-${i}`,o="base";let l=c(this,le,Ga).get(o);if((l==null?void 0:l.key)===r||(l?((A=l.filter)==null||A.remove(),l.key=r,l.url="none",l.filter=null):(l={key:r,url:"none",filter:null},c(this,le,Ga).set(o,l)),!t||!i))return l.url;const h=b(this,le,qu).call(this,t);t=de.makeHexColor(...h);const f=b(this,le,qu).call(this,i);if(i=de.makeHexColor(...f),c(this,le,qa).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return l.url;const p=new Array(256);for(let C=0;C<=255;C++){const T=C/255;p[C]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}const g=p.join(","),v=`g_${c(this,_s)}_hcm_filter`,w=l.filter=b(this,le,Xa).call(this,v);b(this,le,Gu).call(this,g,g,g,w),b(this,le,ty).call(this,w);const _=(C,T)=>{const k=h[C]/255,L=f[C]/255,I=new Array(T+1);for(let O=0;O<=T;O++)I[O]=k+O/T*(L-k);return I.join(",")};return b(this,le,Gu).call(this,_(0,5),_(1,5),_(2,5),w),l.url=`url(#${v})`,l.url}addAlphaFilter(t){let i=c(this,le,Zt).get(t);if(i)return i;const[r]=b(this,le,Af).call(this,[t]),o=`alpha_${r}`;if(i=c(this,le,Zt).get(o),i)return c(this,le,Zt).set(t,i),i;const l=`g_${c(this,_s)}_alpha_map_${Mn(this,yo)._++}`,h=`url(#${l})`;c(this,le,Zt).set(t,h),c(this,le,Zt).set(o,h);const f=b(this,le,Xa).call(this,l);return b(this,le,ny).call(this,r,f),h}addLuminosityFilter(t){let i=c(this,le,Zt).get(t||"luminosity");if(i)return i;let r,o;if(t?([r]=b(this,le,Af).call(this,[t]),o=`luminosity_${r}`):o="luminosity",i=c(this,le,Zt).get(o),i)return c(this,le,Zt).set(t,i),i;const l=`g_${c(this,_s)}_luminosity_map_${Mn(this,yo)._++}`,h=`url(#${l})`;c(this,le,Zt).set(t,h),c(this,le,Zt).set(o,h);const f=b(this,le,Xa).call(this,l);return b(this,le,Y_).call(this,f),t&&b(this,le,ny).call(this,r,f),h}addHighlightHCMFilter(t,i,r,o,l){var L;const h=`${i}-${r}-${o}-${l}`;let f=c(this,le,Ga).get(t);if((f==null?void 0:f.key)===h||(f?((L=f.filter)==null||L.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},c(this,le,Ga).set(t,f)),!i||!r))return f.url;const[p,g]=[i,r].map(b(this,le,qu).bind(this));let v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),w=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[_,A]=[o,l].map(b(this,le,qu).bind(this));w<v&&([v,w,_,A]=[w,v,A,_]),c(this,le,qa).style.color="";const C=(I,O,z)=>{const B=new Array(256),V=(w-v)/z,q=I/255,Q=(O-I)/(255*z);let se=0;for(let Z=0;Z<=z;Z++){const Te=Math.round(v+Z*V),ge=q+Z*Q;for(let fe=se;fe<=Te;fe++)B[fe]=ge;se=Te+1}for(let Z=se;Z<256;Z++)B[Z]=B[se-1];return B.join(",")},T=`g_${c(this,_s)}_hcm_${t}_filter`,k=f.filter=b(this,le,Xa).call(this,T);return b(this,le,ty).call(this,k),b(this,le,Gu).call(this,C(_[0],A[0],5),C(_[1],A[1],5),C(_[2],A[2],5),k),f.url=`url(#${T})`,f.url}destroy(t=!1){t&&c(this,le,Ga).size!==0||(c(this,zi)&&(c(this,zi).parentNode.parentNode.remove(),S(this,zi,null)),c(this,mo)&&(c(this,mo).clear(),S(this,mo,null)),S(this,yo,0))}}mo=new WeakMap,zi=new WeakMap,_s=new WeakMap,_n=new WeakMap,ep=new WeakMap,yo=new WeakMap,le=new WeakSet,Zt=function(){return c(this,mo)||S(this,mo,new Map)},Ga=function(){return c(this,ep)||S(this,ep,new Map)},qa=function(){if(!c(this,zi)){const t=c(this,_n).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=c(this,_n).createElementNS(ms,"svg");r.setAttribute("width",0),r.setAttribute("height",0),S(this,zi,c(this,_n).createElementNS(ms,"defs")),t.append(r),r.append(c(this,zi)),c(this,_n).body.append(t)}return c(this,zi)},Af=function(t){if(t.length===1){const p=t[0],g=new Array(256);for(let w=0;w<256;w++)g[w]=p[w]/255;const v=g.join(",");return[v,v,v]}const[i,r,o]=t,l=new Array(256),h=new Array(256),f=new Array(256);for(let p=0;p<256;p++)l[p]=i[p]/255,h[p]=r[p]/255,f[p]=o[p]/255;return[l.join(","),h.join(","),f.join(",")]},Y_=function(t){const i=c(this,_n).createElementNS(ms,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},ty=function(t){const i=c(this,_n).createElementNS(ms,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Xa=function(t){const i=c(this,_n).createElementNS(ms,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),c(this,le,qa).append(i),i},Wu=function(t,i,r){const o=c(this,_n).createElementNS(ms,i);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},Gu=function(t,i,r,o){const l=c(this,_n).createElementNS(ms,"feComponentTransfer");o.append(l),b(this,le,Wu).call(this,l,"feFuncR",t),b(this,le,Wu).call(this,l,"feFuncG",i),b(this,le,Wu).call(this,l,"feFuncB",r)},ny=function(t,i){const r=c(this,_n).createElementNS(ms,"feComponentTransfer");i.append(r),b(this,le,Wu).call(this,r,"feFuncA",t)},qu=function(t){return c(this,le,qa).style.color=t,xv(getComputedStyle(c(this,le,qa)).getPropertyValue("color"))};class rT extends Gf{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}async function Dp(u,e="text"){if(Xu(u,document.baseURI)){const t=await fetch(u);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",u,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Q_ extends Lp{_fetchData(e,t){return Dp(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):Rp(i),compressionType:t}))}}class J_ extends Mp{_fetchData(e){return Dp(e,"arraybuffer").then(t=>new Uint8Array(t))}}class _v extends Av{_createSVG(e){return document.createElementNS(ms,e)}}class Wh{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=o;const h=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,g,v,w;switch(i%=360,i<0&&(i+=360),i){case 180:p=-1,g=0,v=0,w=1;break;case 90:p=0,g=1,v=1,w=0;break;case 270:p=0,g=-1,v=-1,w=0;break;case 0:p=1,g=0,v=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(v=-v,w=-w);let _,A,C,T;p===0?(_=Math.abs(f-e[1])*t+r,A=Math.abs(h-e[0])*t+o,C=(e[3]-e[1])*t,T=(e[2]-e[0])*t):(_=Math.abs(h-e[0])*t+r,A=Math.abs(f-e[1])*t+o,C=(e[2]-e[0])*t,T=(e[3]-e[1])*t),this.transform=[p*t,g*t,v*t,w*t,_-p*t*h-v*t*f,A-g*t*h-w*t*f],this.width=C,this.height=T}get rawDims(){const{viewBox:e}=this;return je(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Wh({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){return de.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=de.applyTransform([e[0],e[1]],this.transform),i=de.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return de.applyInverseTransform([e,t],this.transform)}}class Ev extends Gr{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Sv(u){const e=u.length;let t=0;for(;t<e&&u[t].trim()==="";)t++;return u.substring(t,t+5).toLowerCase()==="data:"}function bv(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function oT(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function aT(u,e="document.pdf"){if(typeof u!="string")return e;if(Sv(u))return Me('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(u);let o=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||e}class WA{constructor(){Re(this,"started",Object.create(null));Re(this,"times",[])}time(e){e in this.started&&Me(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Me(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:o}of this.times)e.push(`${i.padEnd(t)} ${o-r}ms
`);return e.join("")}}function Xu(u,e){try{const{protocol:t}=e?new URL(u,e):new URL(u);return t==="http:"||t==="https:"}catch{return!1}}function Tn(u){u.preventDefault()}function Z_(u){console.log("Deprecated API usage: "+u)}let GA;class eE{static toDateObject(e){if(!e||typeof e!="string")return null;GA||(GA=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=GA.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let h=parseInt(t[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(t[6],10);f=f>=0&&f<=59?f:0;const p=t[7]||"Z";let g=parseInt(t[8],10);g=g>=0&&g<=23?g:0;let v=parseInt(t[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(l+=g,h+=v):p==="+"&&(l-=g,h-=v),new Date(Date.UTC(i,r,o,l,h,f))}}function lT(u,{scale:e=1,rotation:t=0}){const{width:i,height:r}=u.attributes.style,o=[0,0,parseInt(i),parseInt(r)];return new Wh({viewBox:o,scale:e,rotation:t})}function xv(u){if(u.startsWith("#")){const e=parseInt(u.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(e=>parseInt(e)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Me(`Not a valid color format: "${u}"`),[0,0,0])}function uT(u){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of u.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;u.set(t,xv(i))}e.remove()}function ct(u){const{a:e,b:t,c:i,d:r,e:o,f:l}=u.getTransform();return[e,t,i,r,o,l]}function gs(u){const{a:e,b:t,c:i,d:r,e:o,f:l}=u.getTransform().invertSelf();return[e,t,i,r,o,l]}function fa(u,e,t=!1,i=!0){if(e instanceof Wh){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:l}=u,h=bn.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${o}px`,g=h?`round(${f}, 1px)`:`calc(${f})`,v=h?`round(${p}, 1px)`:`calc(${p})`;!t||e.rotation%180===0?(l.width=g,l.height=v):(l.width=v,l.height=g)}i&&u.setAttribute("data-main-rotation",e.rotation)}var vo,wo,Fn,Ao,tp,tE,dn,nE,iE,_f,sE,sy;const np=class np{constructor(e){x(this,dn);x(this,vo,null);x(this,wo,null);x(this,Fn);x(this,Ao,null);S(this,Fn,e)}render(){const e=S(this,vo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=c(this,Fn)._uiManager._signal;e.addEventListener("contextmenu",Tn,{signal:t}),e.addEventListener("pointerdown",b(np,tp,tE),{signal:t});const i=S(this,Ao,document.createElement("div"));i.className="buttons",e.append(i);const r=c(this,Fn).toolbarPosition;if(r){const{style:o}=e,l=c(this,Fn)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return b(this,dn,sE).call(this),e}hide(){var e;c(this,vo).classList.add("hidden"),(e=c(this,wo))==null||e.hideDropdown()}show(){c(this,vo).classList.remove("hidden")}addAltTextButton(e){b(this,dn,_f).call(this,e),c(this,Ao).prepend(e,c(this,dn,sy))}addColorPicker(e){S(this,wo,e);const t=e.renderButton();b(this,dn,_f).call(this,t),c(this,Ao).prepend(t,c(this,dn,sy))}remove(){var e;c(this,vo).remove(),(e=c(this,wo))==null||e.destroy(),S(this,wo,null)}};vo=new WeakMap,wo=new WeakMap,Fn=new WeakMap,Ao=new WeakMap,tp=new WeakSet,tE=function(e){e.stopPropagation()},dn=new WeakSet,nE=function(e){c(this,Fn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},iE=function(e){c(this,Fn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},_f=function(e){const t=c(this,Fn)._uiManager._signal;e.addEventListener("focusin",b(this,dn,nE).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",b(this,dn,iE).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Tn,{signal:t})},sE=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,Fn).editorType}-button`),b(this,dn,_f).call(this,e),e.addEventListener("click",t=>{c(this,Fn)._uiManager.delete()},{signal:c(this,Fn)._uiManager._signal}),c(this,Ao).append(e)},sy=function(){const e=document.createElement("div");return e.className="divider",e},x(np,tp);let iy=np;var dc,_o,Eo,Vr,rE,oE,aE;class cT{constructor(e){x(this,Vr);x(this,dc,null);x(this,_o,null);x(this,Eo);S(this,Eo,e)}show(e,t,i){const[r,o]=b(this,Vr,oE).call(this,t,i),{style:l}=c(this,_o)||S(this,_o,b(this,Vr,rE).call(this));e.append(c(this,_o)),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,_o).remove()}}dc=new WeakMap,_o=new WeakMap,Eo=new WeakMap,Vr=new WeakSet,rE=function(){const e=S(this,_o,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Tn,{signal:c(this,Eo)._signal});const t=S(this,dc,document.createElement("div"));return t.className="buttons",e.append(t),b(this,Vr,aE).call(this),e},oE=function(e,t){let i=0,r=0;for(const o of e){const l=o.y+o.height;if(l<i)continue;const h=o.x+(t?o.width:0);if(l>i){r=h,i=l;continue}t?h>r&&(r=h):h<r&&(r=h)}return[t?1-r:r,i]},aE=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=c(this,Eo)._signal;e.addEventListener("contextmenu",Tn,{signal:i}),e.addEventListener("click",()=>{c(this,Eo).highlightSelection("floating_button")},{signal:i}),c(this,dc).append(e)};function qf(u,e,t){for(const i of t)e.addEventListener(i,u[i].bind(u))}function hT(u){return Math.round(Math.min(255,Math.max(1,255*u))).toString(16).padStart(2,"0")}var ip;class dT{constructor(){x(this,ip,0)}get id(){return`${VC}${Mn(this,ip)._++}`}}ip=new WeakMap;var fc,sp,Jn,pc,oy;const Lv=class Lv{constructor(){x(this,pc);x(this,fc,iT());x(this,sp,0);x(this,Jn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return je(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:o}=e;return b(this,pc,oy).call(this,`${t}_${i}_${r}_${o}`,e)}async getFromUrl(e){return b(this,pc,oy).call(this,e,e)}async getFromId(e){c(this,Jn)||S(this,Jn,new Map);const t=c(this,Jn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,Jn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,Jn)||S(this,Jn,new Map);const t=c(this,Jn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,fc)}_`)}};fc=new WeakMap,sp=new WeakMap,Jn=new WeakMap,pc=new WeakSet,oy=async function(e,t){c(this,Jn)||S(this,Jn,new Map);let i=c(this,Jn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${c(this,fc)}_${Mn(this,sp)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await Dp(t,"blob")):r=i.file=t,r.type==="image/svg+xml"){const o=Lv._isSVGFittingCanvas,l=new FileReader,h=new Image,f=new Promise((p,g)=>{h.onload=()=>{i.bitmap=h,i.isSvg=!0,p()},l.onload=async()=>{const v=i.svgUrl=l.result;h.src=await o?`${v}#svgView(preserveAspectRatio(none))`:v},h.onerror=l.onerror=g});l.readAsDataURL(r),await f}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return c(this,Jn).set(e,i),i&&c(this,Jn).set(i.id,i),i};let ry=Lv;var Ot,Er,gc,Nt;class fT{constructor(e=128){x(this,Ot,[]);x(this,Er,!1);x(this,gc);x(this,Nt,-1);S(this,gc,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:h=!1}){if(r&&e(),c(this,Er))return;const f={cmd:e,undo:t,post:i,type:o};if(c(this,Nt)===-1){c(this,Ot).length>0&&(c(this,Ot).length=0),S(this,Nt,0),c(this,Ot).push(f);return}if(l&&c(this,Ot)[c(this,Nt)].type===o){h&&(f.undo=c(this,Ot)[c(this,Nt)].undo),c(this,Ot)[c(this,Nt)]=f;return}const p=c(this,Nt)+1;p===c(this,gc)?c(this,Ot).splice(0,1):(S(this,Nt,p),p<c(this,Ot).length&&c(this,Ot).splice(p)),c(this,Ot).push(f)}undo(){if(c(this,Nt)===-1)return;S(this,Er,!0);const{undo:e,post:t}=c(this,Ot)[c(this,Nt)];e(),t==null||t(),S(this,Er,!1),S(this,Nt,c(this,Nt)-1)}redo(){if(c(this,Nt)<c(this,Ot).length-1){S(this,Nt,c(this,Nt)+1),S(this,Er,!0);const{cmd:e,post:t}=c(this,Ot)[c(this,Nt)];e(),t==null||t(),S(this,Er,!1)}}hasSomethingToUndo(){return c(this,Nt)!==-1}hasSomethingToRedo(){return c(this,Nt)<c(this,Ot).length-1}destroy(){S(this,Ot,null)}}Ot=new WeakMap,Er=new WeakMap,gc=new WeakMap,Nt=new WeakMap;var rp,lE;class Gh{constructor(e){x(this,rp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=bn.platform;for(const[i,r,o={}]of e)for(const l of i){const h=l.startsWith("mac+");t&&h?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!h&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(b(this,rp,lE).call(this,t));if(!i)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:h=null}}=i;h&&!h(e,t)||(r.bind(e,...l,t)(),o||(t.stopPropagation(),t.preventDefault()))}}rp=new WeakSet,lE=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const op=class op{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return uT(e),je(this,"_colors",e)}convert(e){const t=xv(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((o,l)=>o===t[l]))return op._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?de.makeHexColor(...t):e}};Re(op,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ay=op;var il,On,Ct,jt,sl,Es,rl,gi,ol,So,Bi,mi,bo,mc,yc,ji,al,Sr,Ui,ap,br,vc,xo,wc,ll,Ut,qe,Ss,Co,Ac,_c,Ec,Sc,bc,xc,Cc,Tc,kc,Rc,Pc,Lc,Mc,xr,$i,bs,Dc,ee,Ef,uE,cE,Sf,hE,dE,fE,ly,pE,uy,cy,gE,ln,vr,mE,yE,hy,vE,Ku,dy;const Ja=class Ja{constructor(e,t,i,r,o,l,h,f,p){x(this,ee);x(this,il,new AbortController);x(this,On,null);x(this,Ct,new Map);x(this,jt,new Map);x(this,sl,null);x(this,Es,null);x(this,rl,null);x(this,gi,new fT);x(this,ol,0);x(this,So,new Set);x(this,Bi,null);x(this,mi,null);x(this,bo,new Set);x(this,mc,!1);x(this,yc,null);x(this,ji,null);x(this,al,null);x(this,Sr,!1);x(this,Ui,null);x(this,ap,new dT);x(this,br,!1);x(this,vc,!1);x(this,xo,null);x(this,wc,null);x(this,ll,null);x(this,Ut,He.NONE);x(this,qe,new Set);x(this,Ss,null);x(this,Co,null);x(this,Ac,null);x(this,_c,this.blur.bind(this));x(this,Ec,this.focus.bind(this));x(this,Sc,this.copy.bind(this));x(this,bc,this.cut.bind(this));x(this,xc,this.paste.bind(this));x(this,Cc,this.keydown.bind(this));x(this,Tc,this.keyup.bind(this));x(this,kc,this.onEditingAction.bind(this));x(this,Rc,this.onPageChanging.bind(this));x(this,Pc,this.onScaleChanging.bind(this));x(this,Lc,this.onRotationChanging.bind(this));x(this,Mc,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,xr,[0,0]);x(this,$i,null);x(this,bs,null);x(this,Dc,null);this._signal=c(this,il).signal,S(this,bs,e),S(this,Dc,t),S(this,sl,i),this._eventBus=r,this._eventBus._on("editingaction",c(this,kc)),this._eventBus._on("pagechanging",c(this,Rc)),this._eventBus._on("scalechanging",c(this,Pc)),this._eventBus._on("rotationchanging",c(this,Lc)),b(this,ee,hE).call(this),b(this,ee,gE).call(this),b(this,ee,ly).call(this),S(this,Es,o.annotationStorage),S(this,yc,o.filterFactory),S(this,Co,l),S(this,al,h||null),S(this,mc,f),S(this,ll,p||null),this.viewParameters={realScale:$r.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ja.prototype,t=l=>c(l,bs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),i=(l,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return je(this,"_keyboardManager",new Gh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:h})=>!(h instanceof HTMLButtonElement)&&c(l,bs).contains(h)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:h})=>!(h instanceof HTMLButtonElement)&&c(l,bs).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,i;(e=c(this,il))==null||e.abort(),S(this,il,null),this._signal=null,this._eventBus._off("editingaction",c(this,kc)),this._eventBus._off("pagechanging",c(this,Rc)),this._eventBus._off("scalechanging",c(this,Pc)),this._eventBus._off("rotationchanging",c(this,Lc));for(const r of c(this,jt).values())r.destroy();c(this,jt).clear(),c(this,Ct).clear(),c(this,bo).clear(),S(this,On,null),c(this,qe).clear(),c(this,gi).destroy(),(t=c(this,sl))==null||t.destroy(),(i=c(this,Ui))==null||i.hide(),S(this,Ui,null),c(this,ji)&&(clearTimeout(c(this,ji)),S(this,ji,null)),c(this,$i)&&(clearTimeout(c(this,$i)),S(this,$i,null))}async mlGuess(e){var t;return((t=c(this,ll))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,ll)}get hcmFilter(){return je(this,"hcmFilter",c(this,Co)?c(this,yc).addHCMFilter(c(this,Co).foreground,c(this,Co).background):"none")}get direction(){return je(this,"direction",getComputedStyle(c(this,bs)).direction)}get highlightColors(){return je(this,"highlightColors",c(this,al)?new Map(c(this,al).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return je(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){S(this,wc,e)}editAltText(e){var t;(t=c(this,sl))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){S(this,ol,e-1)}focusMainContainer(){c(this,bs).focus()}findParent(e,t){for(const i of c(this,jt).values()){const{x:r,y:o,width:l,height:h}=i.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=o&&t<=o+h)return i}return null}disableUserSelect(e=!1){c(this,Dc).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,bo).add(e)}removeShouldRescale(e){c(this,bo).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*$r.PDF_TO_CSS_UNITS;for(const t of c(this,bo))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:l}=t,h=t.toString(),p=b(this,ee,Ef).call(this,t).closest(".textLayer"),g=this.getSelectionBoxes(p);if(g){t.empty(),c(this,Ut)===He.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:He.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const v of c(this,jt).values())if(v.hasTextLayer(p)){v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:l,text:h});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,Es)&&!c(this,Es).has(e.id)&&c(this,Es).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Sr)&&(S(this,Sr,!1),b(this,ee,Sf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,qe))if(t.div.contains(e)){S(this,xo,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,xo))return;const[e,t]=c(this,xo);S(this,xo,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){b(this,ee,ly).call(this),b(this,ee,uy).call(this)}removeEditListeners(){b(this,ee,pE).call(this),b(this,ee,cy).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of c(this,mi))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of c(this,mi))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=c(this,On))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of c(this,qe)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of c(this,mi))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){Me(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const f of i){const p=r.deserialize(f);if(!p)return;o.push(p)}const l=()=>{for(const f of o)b(this,ee,hy).call(this,f);b(this,ee,dy).call(this,o)},h=()=>{for(const f of o)f.remove()};this.addCommands({cmd:l,undo:h,mustExec:!0})}catch(o){Me(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Ut)!==He.NONE&&!this.isEditorHandlingKeyboard&&Ja._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Sr)&&(S(this,Sr,!1),b(this,ee,Sf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(b(this,ee,dE).call(this),b(this,ee,uy).call(this),b(this,ee,ln).call(this,{isEditing:c(this,Ut)!==He.NONE,isEmpty:b(this,ee,Ku).call(this),hasSomethingToUndo:c(this,gi).hasSomethingToUndo(),hasSomethingToRedo:c(this,gi).hasSomethingToRedo(),hasSelectedEditor:!1})):(b(this,ee,fE).call(this),b(this,ee,cy).call(this),b(this,ee,ln).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,mi)){S(this,mi,e);for(const t of c(this,mi))b(this,ee,vr).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,ap).id}get currentLayer(){return c(this,jt).get(c(this,ol))}getLayer(e){return c(this,jt).get(e)}get currentPageIndex(){return c(this,ol)}addLayer(e){c(this,jt).set(e.pageIndex,e),c(this,br)?e.enable():e.disable()}removeLayer(e){c(this,jt).delete(e.pageIndex)}updateMode(e,t=null,i=!1){if(c(this,Ut)!==e){if(S(this,Ut,e),e===He.NONE){this.setEditingState(!1),b(this,ee,yE).call(this);return}this.setEditingState(!0),b(this,ee,mE).call(this),this.unselectAll();for(const r of c(this,jt).values())r.updateMode(e);if(!t&&i){this.addNewEditorFromKeyboard();return}if(t){for(const r of c(this,Ct).values())if(r.annotationElementId===t){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Ut)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(c(this,mi)){switch(e){case Ce.CREATE:this.currentLayer.addNewEditor();return;case Ce.HIGHLIGHT_DEFAULT_COLOR:(i=c(this,wc))==null||i.updateColor(t);break;case Ce.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Ac)||S(this,Ac,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of c(this,qe))r.updateParams(e,t);for(const r of c(this,mi))r.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var o;for(const l of c(this,Ct).values())l.editorType===e&&l.show(t);(((o=c(this,Ac))==null?void 0:o.get(Ce.HIGHLIGHT_SHOW_ALL))??!0)!==t&&b(this,ee,vr).call(this,[[Ce.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,vc)!==e){S(this,vc,e);for(const t of c(this,jt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of c(this,Ct).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return c(this,Ct).get(e)}addEditor(e){c(this,Ct).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,ji)&&clearTimeout(c(this,ji)),S(this,ji,setTimeout(()=>{this.focusMainContainer(),S(this,ji,null)},0))),c(this,Ct).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,So).has(e.annotationElementId))&&((t=c(this,Es))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,So).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,So).has(e)}removeDeletedAnnotationElement(e){c(this,So).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,On)!==e&&(S(this,On,e),e&&b(this,ee,vr).call(this,e.propertiesToUpdate))}updateUI(e){c(this,ee,vE)===e&&b(this,ee,vr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,qe).has(e)){c(this,qe).delete(e),e.unselect(),b(this,ee,ln).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,qe).add(e),e.select(),b(this,ee,vr).call(this,e.propertiesToUpdate),b(this,ee,ln).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,qe))t!==e&&t.unselect();c(this,qe).clear(),c(this,qe).add(e),e.select(),b(this,ee,vr).call(this,e.propertiesToUpdate),b(this,ee,ln).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,qe).has(e)}get firstSelectedEditor(){return c(this,qe).values().next().value}unselect(e){e.unselect(),c(this,qe).delete(e),b(this,ee,ln).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,qe).size!==0}get isEnterHandled(){return c(this,qe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,gi).undo(),b(this,ee,ln).call(this,{hasSomethingToUndo:c(this,gi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:b(this,ee,Ku).call(this)})}redo(){c(this,gi).redo(),b(this,ee,ln).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,gi).hasSomethingToRedo(),isEmpty:b(this,ee,Ku).call(this)})}addCommands(e){c(this,gi).add(e),b(this,ee,ln).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:b(this,ee,Ku).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,qe)],t=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)b(this,ee,hy).call(this,r)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=c(this,On))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,On)||this.hasSelection}selectAll(){for(const e of c(this,qe))e.commit();b(this,ee,dy).call(this,c(this,Ct).values())}unselectAll(){if(!(c(this,On)&&(c(this,On).commitOrRemove(),c(this,Ut)!==He.NONE))&&this.hasSelection){for(const e of c(this,qe))e.unselect();c(this,qe).clear(),b(this,ee,ln).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;c(this,xr)[0]+=e,c(this,xr)[1]+=t;const[r,o]=c(this,xr),l=[...c(this,qe)],h=1e3;c(this,$i)&&clearTimeout(c(this,$i)),S(this,$i,setTimeout(()=>{S(this,$i,null),c(this,xr)[0]=c(this,xr)[1]=0,this.addCommands({cmd:()=>{for(const f of l)c(this,Ct).has(f.id)&&f.translateInPage(r,o)},undo:()=>{for(const f of l)c(this,Ct).has(f.id)&&f.translateInPage(-r,-o)},mustExec:!1})},h));for(const f of l)f.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),S(this,Bi,new Map);for(const e of c(this,qe))c(this,Bi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Bi))return!1;this.disableUserSelect(!1);const e=c(this,Bi);S(this,Bi,null);let t=!1;for(const[{x:r,y:o,pageIndex:l},h]of e)h.newX=r,h.newY=o,h.newPageIndex=l,t||(t=r!==h.savedX||o!==h.savedY||l!==h.savedPageIndex);if(!t)return!1;const i=(r,o,l,h)=>{if(c(this,Ct).has(r.id)){const f=c(this,jt).get(h);f?r._setParentAndPosition(f,o,l):(r.pageIndex=h,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:h}]of e)i(r,o,l,h)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:h}]of e)i(r,o,l,h)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,Bi))for(const i of c(this,Bi).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,qe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,On)===e}getActive(){return c(this,On)}getMode(){return c(this,Ut)}get imageManager(){return je(this,"imageManager",new ry)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,g=t.rangeCount;p<g;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:i,y:r,width:o,height:l}=e.getBoundingClientRect();let h;switch(e.getAttribute("data-main-rotation")){case"90":h=(p,g,v,w)=>({x:(g-r)/l,y:1-(p+v-i)/o,width:w/l,height:v/o});break;case"180":h=(p,g,v,w)=>({x:1-(p+v-i)/o,y:1-(g+w-r)/l,width:v/o,height:w/l});break;case"270":h=(p,g,v,w)=>({x:1-(g+w-r)/l,y:(p-i)/o,width:w/l,height:v/o});break;default:h=(p,g,v,w)=>({x:(p-i)/o,y:(g-r)/l,width:v/o,height:w/l});break}const f=[];for(let p=0,g=t.rangeCount;p<g;p++){const v=t.getRangeAt(p);if(!v.collapsed)for(const{x:w,y:_,width:A,height:C}of v.getClientRects())A===0||C===0||f.push(h(w,_,A,C))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,rl)||S(this,rl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,rl))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=c(this,rl))==null?void 0:r.get(e.data.id);if(!t)return;const i=c(this,Es).getRawValue(t);i&&(c(this,Ut)===He.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};il=new WeakMap,On=new WeakMap,Ct=new WeakMap,jt=new WeakMap,sl=new WeakMap,Es=new WeakMap,rl=new WeakMap,gi=new WeakMap,ol=new WeakMap,So=new WeakMap,Bi=new WeakMap,mi=new WeakMap,bo=new WeakMap,mc=new WeakMap,yc=new WeakMap,ji=new WeakMap,al=new WeakMap,Sr=new WeakMap,Ui=new WeakMap,ap=new WeakMap,br=new WeakMap,vc=new WeakMap,xo=new WeakMap,wc=new WeakMap,ll=new WeakMap,Ut=new WeakMap,qe=new WeakMap,Ss=new WeakMap,Co=new WeakMap,Ac=new WeakMap,_c=new WeakMap,Ec=new WeakMap,Sc=new WeakMap,bc=new WeakMap,xc=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,kc=new WeakMap,Rc=new WeakMap,Pc=new WeakMap,Lc=new WeakMap,Mc=new WeakMap,xr=new WeakMap,$i=new WeakMap,bs=new WeakMap,Dc=new WeakMap,ee=new WeakSet,Ef=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},uE=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=b(this,ee,Ef).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(c(this,Ui)||S(this,Ui,new cT(this)),c(this,Ui).show(i,r,this.direction==="ltr"))},cE=function(){var o,l,h;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Ss)&&((o=c(this,Ui))==null||o.hide(),S(this,Ss,null),b(this,ee,ln).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,Ss))return;if(!b(this,ee,Ef).call(this,e).closest(".textLayer")){c(this,Ss)&&((l=c(this,Ui))==null||l.hide(),S(this,Ss,null),b(this,ee,ln).call(this,{hasSelectedText:!1}));return}if((h=c(this,Ui))==null||h.hide(),S(this,Ss,t),b(this,ee,ln).call(this,{hasSelectedText:!0}),!(c(this,Ut)!==He.HIGHLIGHT&&c(this,Ut)!==He.NONE)&&(c(this,Ut)===He.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),S(this,Sr,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=this._signal,p=g=>{g.type==="pointerup"&&g.button!==0||(window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),g.type==="pointerup"&&b(this,ee,Sf).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}},Sf=function(e=""){c(this,Ut)===He.HIGHLIGHT?this.highlightSelection(e):c(this,mc)&&b(this,ee,uE).call(this)},hE=function(){document.addEventListener("selectionchange",b(this,ee,cE).bind(this),{signal:this._signal})},dE=function(){const e=this._signal;window.addEventListener("focus",c(this,Ec),{signal:e}),window.addEventListener("blur",c(this,_c),{signal:e})},fE=function(){window.removeEventListener("focus",c(this,Ec)),window.removeEventListener("blur",c(this,_c))},ly=function(){const e=this._signal;window.addEventListener("keydown",c(this,Cc),{signal:e}),window.addEventListener("keyup",c(this,Tc),{signal:e})},pE=function(){window.removeEventListener("keydown",c(this,Cc)),window.removeEventListener("keyup",c(this,Tc))},uy=function(){const e=this._signal;document.addEventListener("copy",c(this,Sc),{signal:e}),document.addEventListener("cut",c(this,bc),{signal:e}),document.addEventListener("paste",c(this,xc),{signal:e})},cy=function(){document.removeEventListener("copy",c(this,Sc)),document.removeEventListener("cut",c(this,bc)),document.removeEventListener("paste",c(this,xc))},gE=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ln=function(e){Object.entries(e).some(([i,r])=>c(this,Mc)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Mc),e)}),c(this,Ut)===He.HIGHLIGHT&&e.hasSelectedEditor===!1&&b(this,ee,vr).call(this,[[Ce.HIGHLIGHT_FREE,!0]]))},vr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},mE=function(){if(!c(this,br)){S(this,br,!0);for(const e of c(this,jt).values())e.enable();for(const e of c(this,Ct).values())e.enable()}},yE=function(){if(this.unselectAll(),c(this,br)){S(this,br,!1);for(const e of c(this,jt).values())e.disable();for(const e of c(this,Ct).values())e.disable()}},hy=function(e){const t=c(this,jt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},vE=function(){let e=null;for(e of c(this,qe));return e},Ku=function(){if(c(this,Ct).size===0)return!0;if(c(this,Ct).size===1)for(const e of c(this,Ct).values())return e.isEmpty();return!1},dy=function(e){for(const t of c(this,qe))t.unselect();c(this,qe).clear();for(const t of e)t.isEmpty()||(c(this,qe).add(t),t.select());b(this,ee,ln).call(this,{hasSelectedEditor:this.hasSelection})},Re(Ja,"TRANSLATE_SMALL",1),Re(Ja,"TRANSLATE_BIG",10);let pa=Ja;var xs,Cs,yi,Ts,Nn,ul,vi,Ic,fy;const ys=class ys{constructor(e){x(this,Ic);x(this,xs,"");x(this,Cs,!1);x(this,yi,null);x(this,Ts,null);x(this,Nn,null);x(this,ul,!1);x(this,vi,null);S(this,vi,e)}static initialize(e){ys._l10nPromise||(ys._l10nPromise=e)}async render(){const e=S(this,yi,document.createElement("button"));e.className="altText";const t=await ys._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const i=c(this,vi)._uiManager._signal;e.addEventListener("contextmenu",Tn,{signal:i}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const r=o=>{o.preventDefault(),c(this,vi)._uiManager.editAltText(c(this,vi))};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(S(this,ul,!0),r(o))},{signal:i}),await b(this,Ic,fy).call(this),e}finish(){c(this,yi)&&(c(this,yi).focus({focusVisible:c(this,ul)}),S(this,ul,!1))}isEmpty(){return!c(this,xs)&&!c(this,Cs)}get data(){return{altText:c(this,xs),decorative:c(this,Cs)}}set data({altText:e,decorative:t}){c(this,xs)===e&&c(this,Cs)===t||(S(this,xs,e),S(this,Cs,t),b(this,Ic,fy).call(this))}toggle(e=!1){c(this,yi)&&(!e&&c(this,Nn)&&(clearTimeout(c(this,Nn)),S(this,Nn,null)),c(this,yi).disabled=!e)}destroy(){var e;(e=c(this,yi))==null||e.remove(),S(this,yi,null),S(this,Ts,null)}};xs=new WeakMap,Cs=new WeakMap,yi=new WeakMap,Ts=new WeakMap,Nn=new WeakMap,ul=new WeakMap,vi=new WeakMap,Ic=new WeakSet,fy=async function(){var r;const e=c(this,yi);if(!e)return;if(!c(this,xs)&&!c(this,Cs)){e.classList.remove("done"),(r=c(this,Ts))==null||r.remove();return}e.classList.add("done"),ys._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{e.setAttribute("aria-label",o)});let t=c(this,Ts);if(!t){S(this,Ts,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const o=t.id=`alt-text-tooltip-${c(this,vi).id}`;e.setAttribute("aria-describedby",o);const l=100,h=c(this,vi)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(c(this,Nn)),S(this,Nn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{S(this,Nn,setTimeout(()=>{S(this,Nn,null),c(this,Ts).classList.add("show"),c(this,vi)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:h}),e.addEventListener("mouseleave",()=>{var f;c(this,Nn)&&(clearTimeout(c(this,Nn)),S(this,Nn,null)),(f=c(this,Ts))==null||f.classList.remove("show")},{signal:h})}t.innerText=c(this,Cs)?await ys._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,xs),t.parentNode||e.append(t);const i=c(this,vi).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},Re(ys,"_l10nPromise",null);let Xf=ys;var To,wi,en,cl,ko,$t,Ro,hl,dl,tn,Fc,Po,Cr,Oc,Lo,ks,Vi,fl,pl,Zn,Nc,lp,De,py,Hc,gy,my,wE,AE,yy,vy,wy,_E,EE,SE,bE,Ay,Yu;const Je=class Je{constructor(e){x(this,De);x(this,To,null);x(this,wi,null);x(this,en,null);x(this,cl,!1);x(this,ko,!1);x(this,$t,null);x(this,Ro,null);x(this,hl,this.focusin.bind(this));x(this,dl,this.focusout.bind(this));x(this,tn,null);x(this,Fc,"");x(this,Po,!1);x(this,Cr,null);x(this,Oc,!1);x(this,Lo,!1);x(this,ks,!1);x(this,Vi,null);x(this,fl,0);x(this,pl,0);x(this,Zn,null);Re(this,"_initialOptions",Object.create(null));Re(this,"_isVisible",!0);Re(this,"_uiManager",null);Re(this,"_focusEventsAllowed",!0);Re(this,"_l10nPromise",null);x(this,Nc,!1);x(this,lp,Je._zIndex++);this.constructor===Je&&Ye("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[o,l];const[h,f]=this.parentDimensions;this.x=e.x/h,this.y=e.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Je.prototype._resizeWithKeyboard,t=pa.TRANSLATE_SMALL,i=pa.TRANSLATE_BIG;return je(this,"_resizerKeyboardManager",new Gh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Je.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return je(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new pT({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(Je._l10nPromise||(Je._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(o=>[o,e.get(o.replaceAll(/([A-Z])/g,l=>`-${l.toLowerCase()}`))]))),i!=null&&i.strings)for(const o of i.strings)Je._l10nPromise.set(o,e.get(o));if(Je._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Je._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ye("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Nc)}set _isDraggable(e){var t;S(this,Nc,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,lp)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):b(this,De,Yu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Po)?S(this,Po,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[o,l]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/o,this.y=(t+r)/l,this.fixAndSetPosition()}translate(e,t){b(this,De,py).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,Cr)||S(this,Cr,[this.x,this.y]),b(this,De,py).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,Cr)||S(this,Cr,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[h,f]=this.getBaseTranslation();o+=h,l+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,Cr)&&(c(this,Cr)[0]!==this.x||c(this,Cr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Je,r=i/e,o=i/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:r,y:o,width:l,height:h}=this;if(l*=t,h*=i,r*=t,o*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-l,r)),o=Math.max(0,Math.min(i-h,o));break;case 90:r=Math.max(0,Math.min(t-h,r)),o=Math.min(i,Math.max(l,o));break;case 180:r=Math.min(t,Math.max(l,r)),o=Math.min(i,Math.max(h,o));break;case 270:r=Math.min(t,Math.max(h,r)),o=Math.max(0,Math.min(i-l,o));break}this.x=r/=t,this.y=o/=i;const[f,p]=this.getBaseTranslation();r+=f,o+=p;const{style:g}=this.div;g.left=`${(100*r).toFixed(2)}%`,g.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return b(i=Je,Hc,gy).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return b(i=Je,Hc,gy).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,r=t*e,o=i*e;return bn.isCSSRoundSupported?[Math.round(r),Math.round(o)]:[r,o]}setDims(e,t){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,c(this,ko)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),o=!c(this,ko)&&t.endsWith("%");if(r&&o)return;const[l,h]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/l).toFixed(2)}%`),!c(this,ko)&&!o&&(e.height=`${(100*parseFloat(t)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,en))==null||e.finish()}async addEditToolbar(){return c(this,tn)||c(this,Lo)?c(this,tn):(S(this,tn,new iy(this)),this.div.append(c(this,tn).render()),c(this,en)&&c(this,tn).addAltTextButton(await c(this,en).render()),c(this,tn))}removeEditToolbar(){var e;c(this,tn)&&(c(this,tn).remove(),S(this,tn,null),(e=c(this,en))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,en)||(Xf.initialize(Je._l10nPromise),S(this,en,new Xf(this)),c(this,To)&&(c(this,en).data=c(this,To),S(this,To,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,en))==null?void 0:e.data}set altTextData(e){c(this,en)&&(c(this,en).data=e)}hasAltText(){var e;return!((e=c(this,en))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,cl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",c(this,hl),{signal:e}),this.div.addEventListener("focusout",c(this,dl),{signal:e});const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),qf(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=bn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(S(this,Po,!0),this._isDraggable){b(this,De,_E).call(this,e);return}b(this,De,wy).call(this,e)}moveInDOM(){c(this,Vi)&&clearTimeout(c(this,Vi)),S(this,Vi,setTimeout(()=>{var e;S(this,Vi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[h,f]=this.pageTranslation,p=e/r,g=t/r,v=this.x*o,w=this.y*l,_=this.width*o,A=this.height*l;switch(i){case 0:return[v+p+h,l-w-g-A+f,v+p+_+h,l-w-g+f];case 90:return[v+g+h,l-w+p+f,v+g+A+h,l-w+p+_+f];case 180:return[v-p-_+h,l-w+g+f,v-p+h,l-w+g+A+f];case 270:return[v-g-A+h,l-w-p-_+f,v-g+h,l-w-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,o,l]=e,h=o-i,f=l-r;switch(this.rotation){case 0:return[i,t-l,h,f];case 90:return[i,t-r,f,h];case 180:return[o,t-r,h,f];case 270:return[o,t-l,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){S(this,Lo,!0)}disableEditMode(){S(this,Lo,!1)}isInEditMode(){return c(this,Lo)}shouldGetKeyboardEvents(){return c(this,ks)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,i;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",c(this,hl),{signal:e}),(i=this.div)==null||i.addEventListener("focusout",c(this,dl),{signal:e})}rotate(e){}serialize(e=!1,t=null){Ye("An editor must be serializable")}static deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation,S(r,To,e.accessibilityData);const[o,l]=r.pageDimensions,[h,f,p,g]=r.getRectInCurrentCoords(e.rect,l);return r.x=h/o,r.y=f/l,r.width=p/o,r.height=g/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,hl)),this.div.removeEventListener("focusout",c(this,dl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Vi)&&(clearTimeout(c(this,Vi)),S(this,Vi,null)),b(this,De,Yu).call(this),this.removeEditToolbar(),c(this,Zn)){for(const e of c(this,Zn).values())clearTimeout(e);S(this,Zn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(b(this,De,wE).call(this),c(this,$t).classList.remove("hidden"),qf(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),S(this,Ro,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,$t).children;if(!c(this,wi)){S(this,wi,Array.from(t));const l=b(this,De,EE).bind(this),h=b(this,De,SE).bind(this),f=this._uiManager._signal;for(const p of c(this,wi)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",l,{signal:f}),p.addEventListener("blur",h,{signal:f}),p.addEventListener("focus",b(this,De,bE).bind(this,g),{signal:f}),Je._l10nPromise.get(`pdfjs-editor-resizer-label-${g}`).then(v=>p.setAttribute("aria-label",v))}}const i=c(this,wi)[0];let r=0;for(const l of t){if(l===i)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(c(this,wi).length/4);if(o!==r){if(o<r)for(let h=0;h<r-o;h++)c(this,$t).append(c(this,$t).firstChild);else if(o>r)for(let h=0;h<o-r;h++)c(this,$t).firstChild.before(c(this,$t).lastChild);let l=0;for(const h of t){const p=c(this,wi)[l++].getAttribute("data-resizer-name");Je._l10nPromise.get(`pdfjs-editor-resizer-label-${p}`).then(g=>h.setAttribute("aria-label",g))}}b(this,De,Ay).call(this,0),S(this,ks,!0),c(this,$t).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,ks)&&b(this,De,vy).call(this,c(this,Fc),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){b(this,De,Yu).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,tn)){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=c(this,tn))==null||r.show())});return}(t=c(this,tn))==null||t.show()}unselect(){var e,t,i,r;(e=c(this,$t))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=c(this,tn))==null||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,Oc)}set isEditing(e){S(this,Oc,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){S(this,ko,!0);const i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,Zn)||S(this,Zn,new Map);const{action:i}=e;let r=c(this,Zn).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,Zn).delete(i),c(this,Zn).size===0&&S(this,Zn,null)},Je._telemetryTimeout),c(this,Zn).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),S(this,cl,!1)}disable(){this.div&&(this.div.tabIndex=-1),S(this,cl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};To=new WeakMap,wi=new WeakMap,en=new WeakMap,cl=new WeakMap,ko=new WeakMap,$t=new WeakMap,Ro=new WeakMap,hl=new WeakMap,dl=new WeakMap,tn=new WeakMap,Fc=new WeakMap,Po=new WeakMap,Cr=new WeakMap,Oc=new WeakMap,Lo=new WeakMap,ks=new WeakMap,Vi=new WeakMap,fl=new WeakMap,pl=new WeakMap,Zn=new WeakMap,Nc=new WeakMap,lp=new WeakMap,De=new WeakSet,py=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()},Hc=new WeakSet,gy=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},my=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},wE=function(){if(c(this,$t))return;S(this,$t,document.createElement("div")),c(this,$t).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");c(this,$t).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",b(this,De,AE).bind(this,i),{signal:t}),r.addEventListener("contextmenu",Tn,{signal:t}),r.tabIndex=-1}this.div.prepend(c(this,$t))},AE=function(e,t){var C;t.preventDefault();const{isMac:i}=bn.platform;if(t.button!==0||t.ctrlKey&&i)return;(C=c(this,en))==null||C.toggle(!1);const r=b(this,De,vy).bind(this,e),o=this._isDraggable;this._isDraggable=!1;const l=this._uiManager._signal,h={passive:!0,capture:!0,signal:l};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,h),window.addEventListener("contextmenu",Tn,{signal:l});const f=this.x,p=this.y,g=this.width,v=this.height,w=this.parent.div.style.cursor,_=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const A=()=>{var T;this.parent.togglePointerEvents(!0),(T=c(this,en))==null||T.toggle(!0),this._isDraggable=o,window.removeEventListener("pointerup",A),window.removeEventListener("blur",A),window.removeEventListener("pointermove",r,h),window.removeEventListener("contextmenu",Tn),this.parent.div.style.cursor=w,this.div.style.cursor=_,b(this,De,yy).call(this,f,p,g,v)};window.addEventListener("pointerup",A,{signal:l}),window.addEventListener("blur",A,{signal:l})},yy=function(e,t,i,r){const o=this.x,l=this.y,h=this.width,f=this.height;o===e&&l===t&&h===i&&f===r||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=o,this.y=l;const[p,g]=this.parentDimensions;this.setDims(p*h,g*f),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;const[p,g]=this.parentDimensions;this.setDims(p*i,g*r),this.fixAndSetPosition()},mustExec:!0})},vy=function(e,t){const[i,r]=this.parentDimensions,o=this.x,l=this.y,h=this.width,f=this.height,p=Je.MIN_SIZE/i,g=Je.MIN_SIZE/r,v=Y=>Math.round(Y*1e4)/1e4,w=b(this,De,my).call(this,this.rotation),_=(Y,$)=>[w[0]*Y+w[2]*$,w[1]*Y+w[3]*$],A=b(this,De,my).call(this,360-this.rotation),C=(Y,$)=>[A[0]*Y+A[2]*$,A[1]*Y+A[3]*$];let T,k,L=!1,I=!1;switch(e){case"topLeft":L=!0,T=(Y,$)=>[0,0],k=(Y,$)=>[Y,$];break;case"topMiddle":T=(Y,$)=>[Y/2,0],k=(Y,$)=>[Y/2,$];break;case"topRight":L=!0,T=(Y,$)=>[Y,0],k=(Y,$)=>[0,$];break;case"middleRight":I=!0,T=(Y,$)=>[Y,$/2],k=(Y,$)=>[0,$/2];break;case"bottomRight":L=!0,T=(Y,$)=>[Y,$],k=(Y,$)=>[0,0];break;case"bottomMiddle":T=(Y,$)=>[Y/2,$],k=(Y,$)=>[Y/2,0];break;case"bottomLeft":L=!0,T=(Y,$)=>[0,$],k=(Y,$)=>[Y,0];break;case"middleLeft":I=!0,T=(Y,$)=>[0,$/2],k=(Y,$)=>[Y,$/2];break}const O=T(h,f),z=k(h,f);let B=_(...z);const V=v(o+B[0]),q=v(l+B[1]);let Q=1,se=1,[Z,Te]=this.screenToPageTranslation(t.movementX,t.movementY);if([Z,Te]=C(Z/i,Te/r),L){const Y=Math.hypot(h,f);Q=se=Math.max(Math.min(Math.hypot(z[0]-O[0]-Z,z[1]-O[1]-Te)/Y,1/h,1/f),p/h,g/f)}else I?Q=Math.max(p,Math.min(1,Math.abs(z[0]-O[0]-Z)))/h:se=Math.max(g,Math.min(1,Math.abs(z[1]-O[1]-Te)))/f;const ge=v(h*Q),fe=v(f*se);B=_(...k(ge,fe));const be=V-B[0],_e=q-B[1];this.width=ge,this.height=fe,this.x=be,this.y=_e,this.setDims(i*ge,r*fe),this.fixAndSetPosition()},wy=function(e){const{isMac:t}=bn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},_E=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,r;const o=this._uiManager._signal;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0,signal:o},S(this,fl,e.clientX),S(this,pl,e.clientY),r=h=>{const{clientX:f,clientY:p}=h,[g,v]=this.screenToPageTranslation(f-c(this,fl),p-c(this,pl));S(this,fl,f),S(this,pl,p),this._uiManager.dragSelectedEditors(g,v)},window.addEventListener("pointermove",r,i));const l=()=>{window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,i)),S(this,Po,!1),this._uiManager.endDragSession()||b(this,De,wy).call(this,e)};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})},EE=function(e){Je._resizerKeyboardManager.exec(this,e)},SE=function(e){var t;c(this,ks)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,$t)&&b(this,De,Yu).call(this)},bE=function(e){S(this,Fc,c(this,ks)?e:"")},Ay=function(e){if(c(this,wi))for(const t of c(this,wi))t.tabIndex=e},Yu=function(){if(S(this,ks,!1),b(this,De,Ay).call(this,-1),c(this,Ro)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=c(this,Ro);b(this,De,yy).call(this,e,t,i,r),S(this,Ro,null)}},x(Je,Hc),Re(Je,"_borderLineWidth",-1),Re(Je,"_colorManager",new ay),Re(Je,"_zIndex",1),Re(Je,"_telemetryTimeout",1e3);let Xe=Je;class pT extends Xe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const qA=3285377520,Qn=4294901760,Hi=65535;class xE{constructor(e){this.h1=e?e&4294967295:qA,this.h2=e?e&4294967295:qA}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let C=0,T=e.length;C<T;C++){const k=e.charCodeAt(C);k<=255?t[i++]=k:(t[i++]=k>>>8,t[i++]=k&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,o=i-r*4,l=new Uint32Array(t.buffer,0,r);let h=0,f=0,p=this.h1,g=this.h2;const v=3432918353,w=461845907,_=v&Hi,A=w&Hi;for(let C=0;C<r;C++)C&1?(h=l[C],h=h*v&Qn|h*_&Hi,h=h<<15|h>>>17,h=h*w&Qn|h*A&Hi,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(f=l[C],f=f*v&Qn|f*_&Hi,f=f<<15|f>>>17,f=f*w&Qn|f*A&Hi,g^=f,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,o){case 3:h^=t[r*4+2]<<16;case 2:h^=t[r*4+1]<<8;case 1:h^=t[r*4],h=h*v&Qn|h*_&Hi,h=h<<15|h>>>17,h=h*w&Qn|h*A&Hi,r&1?p^=h:g^=h}this.h1=p,this.h2=g}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Qn|e*36045&Hi,t=t*4283543511&Qn|((t<<16|e>>>16)*2950163797&Qn)>>>16,e^=t>>>1,e=e*444984403&Qn|e*60499&Hi,t=t*3301882366&Qn|((t<<16|e>>>16)*3120437893&Qn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const _y=Object.freeze({map:null,hash:"",transfer:void 0});var Mo,Vt,up,CE;class Cv{constructor(){x(this,up);x(this,Mo,!1);x(this,Vt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=c(this,Vt).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return c(this,Vt).get(e)}remove(e){if(c(this,Vt).delete(e),c(this,Vt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,Vt).values())if(t instanceof Xe)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=c(this,Vt).get(e);let r=!1;if(i!==void 0)for(const[o,l]of Object.entries(t))i[o]!==l&&(r=!0,i[o]=l);else r=!0,c(this,Vt).set(e,t);r&&b(this,up,CE).call(this),t instanceof Xe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,Vt).has(e)}getAll(){return c(this,Vt).size>0?wv(c(this,Vt)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return c(this,Vt).size}resetModified(){c(this,Mo)&&(S(this,Mo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new TE(this)}get serializable(){if(c(this,Vt).size===0)return _y;const e=new Map,t=new xE,i=[],r=Object.create(null);let o=!1;for(const[l,h]of c(this,Vt)){const f=h instanceof Xe?h.serialize(!1,r):h;f&&(e.set(l,f),t.update(`${l}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const l of e.values())l.bitmap&&i.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:_y}get editorStats(){let e=null;const t=new Map;for(const i of c(this,Vt).values()){if(!(i instanceof Xe))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[h,f]of Object.entries(r)){if(h==="type")continue;let p=l.get(h);p||(p=new Map,l.set(h,p));const g=p.get(f)??0;p.set(f,g+1)}}for(const[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}}Mo=new WeakMap,Vt=new WeakMap,up=new WeakSet,CE=function(){c(this,Mo)||(S(this,Mo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var zc;class TE extends Cv{constructor(t){super();x(this,zc);const{map:i,hash:r,transfer:o}=t.serializable,l=structuredClone(i,o?{transfer:o}:null);S(this,zc,{map:l,hash:r,transfer:o})}get print(){Ye("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,zc)}}zc=new WeakMap;var gl;class gT{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){x(this,gl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,gl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,gl).has(e.loadedName))){if(Lt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:o}=e,l=new FontFace(i,r,o);this.addNativeFontFace(l);try{await l.load(),c(this,gl).add(i),t==null||t(e)}catch{Me(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}Ye("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Me(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return je(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(rn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),je(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Lt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return je(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(O,z){return O.charCodeAt(z)<<24|O.charCodeAt(z+1)<<16|O.charCodeAt(z+2)<<8|O.charCodeAt(z+3)&255}function r(O,z,B,V){const q=O.substring(0,z),Q=O.substring(z+B);return q+V+Q}let o,l;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let p=0;function g(O,z){if(++p>30){Me("Load test font never loaded."),z();return}if(f.font="30px "+O,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(g.bind(null,O,z))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=r(w,976,v.length,v);const A=16,C=1482184792;let T=i(w,A);for(o=0,l=v.length-3;o<l;o+=4)T=T-C+i(v,o)|0;o<v.length&&(T=T-C+i(v+"XXX",o)|0),w=r(w,A,4,JC(T));const k=`url(data:font/opentype;base64,${btoa(w)});`,L=`@font-face {font-family:"${v}";src:${k}}`;this.insertRule(L);const I=this._document.createElement("div");I.style.visibility="hidden",I.style.width=I.style.height="10px",I.style.position="absolute",I.style.top=I.style.left="0px";for(const O of[e.loadedName,v]){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=O,I.append(z)}this._document.body.append(I),g(v,()=>{I.remove(),t.complete()})}}gl=new WeakMap;class mT{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=X_(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${t}}`}return(r=this._inspectFont)==null||r.call(this,this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(o){Me(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(o,l){};const r=[];for(let o=0,l=i.length;o<l;)switch(i[o++]){case ps.BEZIER_CURVE_TO:{const[h,f,p,g,v,w]=i.slice(o,o+6);r.push(_=>_.bezierCurveTo(h,f,p,g,v,w)),o+=6}break;case ps.MOVE_TO:{const[h,f]=i.slice(o,o+2);r.push(p=>p.moveTo(h,f)),o+=2}break;case ps.LINE_TO:{const[h,f]=i.slice(o,o+2);r.push(p=>p.lineTo(h,f)),o+=2}break;case ps.QUADRATIC_CURVE_TO:{const[h,f,p,g]=i.slice(o,o+4);r.push(v=>v.quadraticCurveTo(h,f,p,g)),o+=4}break;case ps.RESTORE:r.push(h=>h.restore());break;case ps.SAVE:r.push(h=>h.save());break;case ps.SCALE:Lt(r.length===2,"Scale command is only valid at the third position.");break;case ps.TRANSFORM:{const[h,f,p,g,v,w]=i.slice(o,o+6);r.push(_=>_.transform(h,f,p,g,v,w)),o+=6}break;case ps.TRANSLATE:{const[h,f]=i.slice(o,o+2);r.push(p=>p.translate(h,f)),o+=2}break}return this.compiledGlyphs[t]=function(l,h){r[0](l),r[1](l),l.scale(h,-h);for(let f=2,p=r.length;f<p;f++)r[f](l)}}}if(rn){var Ey=Promise.withResolvers(),ac=null;(async()=>{const e=await uf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await uf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await uf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await uf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,l;return new Map(Object.entries({fs:e,http:t,https:i,url:r,canvas:o,path2d:l}))})().then(e=>{ac=e,Ey.resolve()},e=>{Me(`loadPackages: ${e}`),ac=new Map,Ey.resolve()})}class is{static get promise(){return Ey.promise}static get(e){return ac==null?void 0:ac.get(e)}}const kE=function(u){return is.get("fs").promises.readFile(u).then(t=>new Uint8Array(t))};class yT extends Pp{}class vT extends Gf{_createCanvas(e,t){return is.get("canvas").createCanvas(e,t)}}class wT extends Lp{_fetchData(e,t){return kE(e).then(i=>({cMapData:i,compressionType:t}))}}class AT extends Mp{_fetchData(e){return kE(e)}}const hn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Sy(u,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),u.clip(r)}class qh{constructor(){this.constructor===qh&&Ye("Cannot initialize BaseShadingPattern.")}getPattern(){Ye("Abstract method `getPattern` called.")}}class _T extends qh{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let o;if(r===hn.STROKE||r===hn.FILL){const l=t.current.getClippedPathBoundingBox(r,ct(e))||[0,0,0,0],h=Math.ceil(l[2]-l[0])||1,f=Math.ceil(l[3]-l[1])||1,p=t.cachedCanvases.getCanvas("pattern",h,f,!0),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-l[0],-l[1]),i=de.transform(i,[1,0,0,1,l[0],l[1]]),g.transform(...t.baseTransform),this.matrix&&g.transform(...this.matrix),Sy(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=e.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(i);o.setTransform(v)}else Sy(e,this._bbox),o=this._createGradient(e);return o}}function Bm(u,e,t,i,r,o,l,h){const f=e.coords,p=e.colors,g=u.data,v=u.width*4;let w;f[t+1]>f[i+1]&&(w=t,t=i,i=w,w=o,o=l,l=w),f[i+1]>f[r+1]&&(w=i,i=r,r=w,w=l,l=h,h=w),f[t+1]>f[i+1]&&(w=t,t=i,i=w,w=o,o=l,l=w);const _=(f[t]+e.offsetX)*e.scaleX,A=(f[t+1]+e.offsetY)*e.scaleY,C=(f[i]+e.offsetX)*e.scaleX,T=(f[i+1]+e.offsetY)*e.scaleY,k=(f[r]+e.offsetX)*e.scaleX,L=(f[r+1]+e.offsetY)*e.scaleY;if(A>=L)return;const I=p[o],O=p[o+1],z=p[o+2],B=p[l],V=p[l+1],q=p[l+2],Q=p[h],se=p[h+1],Z=p[h+2],Te=Math.round(A),ge=Math.round(L);let fe,be,_e,Y,$,oe,J,D;for(let U=Te;U<=ge;U++){if(U<T){const me=U<A?0:(A-U)/(A-T);fe=_-(_-C)*me,be=I-(I-B)*me,_e=O-(O-V)*me,Y=z-(z-q)*me}else{let me;U>L?me=1:T===L?me=0:me=(T-U)/(T-L),fe=C-(C-k)*me,be=B-(B-Q)*me,_e=V-(V-se)*me,Y=q-(q-Z)*me}let ae;U<A?ae=0:U>L?ae=1:ae=(A-U)/(A-L),$=_-(_-k)*ae,oe=I-(I-Q)*ae,J=O-(O-se)*ae,D=z-(z-Z)*ae;const we=Math.round(Math.min(fe,$)),xe=Math.round(Math.max(fe,$));let Ae=v*U+we*4;for(let me=we;me<=xe;me++)ae=(fe-me)/(fe-$),ae<0?ae=0:ae>1&&(ae=1),g[Ae++]=be-(be-oe)*ae|0,g[Ae++]=_e-(_e-J)*ae|0,g[Ae++]=Y-(Y-D)*ae|0,g[Ae++]=255}}function ET(u,e,t){const i=e.coords,r=e.colors;let o,l;switch(e.type){case"lattice":const h=e.verticesPerRow,f=Math.floor(i.length/h)-1,p=h-1;for(o=0;o<f;o++){let g=o*h;for(let v=0;v<p;v++,g++)Bm(u,t,i[g],i[g+1],i[g+h],r[g],r[g+1],r[g+h]),Bm(u,t,i[g+h+1],i[g+1],i[g+h],r[g+h+1],r[g+1],r[g+h])}break;case"triangles":for(o=0,l=i.length;o<l;o+=3)Bm(u,t,i[o],i[o+1],i[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class ST extends qh{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-f,v=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),_=p/v,A=g/w,C={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/_,scaleY:1/A},T=v+2*2,k=w+2*2,L=i.getCanvas("mesh",T,k,!1),I=L.context,O=I.createImageData(v,w);if(t){const B=O.data;for(let V=0,q=B.length;V<q;V+=4)B[V]=t[0],B[V+1]=t[1],B[V+2]=t[2],B[V+3]=255}for(const B of this._figures)ET(O,B,C);return I.putImageData(O,2,2),{canvas:L.canvas,offsetX:h-2*_,offsetY:f-2*A,scaleX:_,scaleY:A}}getPattern(e,t,i,r){Sy(e,this._bbox);let o;if(r===hn.SHADING)o=de.singularValueDecompose2dScale(ct(e));else if(o=de.singularValueDecompose2dScale(t.baseTransform),this.matrix){const h=de.singularValueDecompose2dScale(this.matrix);o=[o[0]*h[0],o[1]*h[1]]}const l=this._createMeshCanvas(o,r===hn.SHADING?null:this._background,t.cachedCanvases);return r!==hn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class bT extends qh{getPattern(){return"hotpink"}}function xT(u){switch(u[0]){case"RadialAxial":return new _T(u);case"Mesh":return new ST(u);case"Dummy":return new bT}throw new Error(`Unknown IR type: ${u[0]}`)}const XA={COLORED:1,UNCOLORED:2},cp=class cp{constructor(e,t,i,r,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const t=this.operatorList,i=this.bbox,r=this.xstep,o=this.ystep,l=this.paintType,h=this.tilingType,f=this.color,p=this.canvasGraphicsFactory;Tp("TilingType: "+h);const g=i[0],v=i[1],w=i[2],_=i[3],A=de.singularValueDecompose2dScale(this.matrix),C=de.singularValueDecompose2dScale(this.baseTransform),T=[A[0]*C[0],A[1]*C[1]],k=this.getSizeAndScale(r,this.ctx.canvas.width,T[0]),L=this.getSizeAndScale(o,this.ctx.canvas.height,T[1]),I=e.cachedCanvases.getCanvas("pattern",k.size,L.size,!0),O=I.context,z=p.createCanvasGraphics(O);z.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(z,l,f);let B=g,V=v,q=w,Q=_;return g<0&&(B=0,q+=Math.abs(g)),v<0&&(V=0,Q+=Math.abs(v)),O.translate(-(k.scale*B),-(L.scale*V)),z.transform(k.scale,0,0,L.scale,0,0),O.save(),this.clipBbox(z,B,V,q,Q),z.baseTransform=ct(z.ctx),z.executeOperatorList(t),z.endDrawing(),{canvas:I.canvas,scaleX:k.scale,scaleY:L.scale,offsetX:B,offsetY:V}}getSizeAndScale(e,t,i){e=Math.abs(e);const r=Math.max(cp.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*i);return o>=r?o=r:i=o/e,{scale:i,size:o}}clipBbox(e,t,i,r,o){const l=r-t,h=o-i;e.ctx.rect(t,i,l,h),e.current.updateRectMinMax(ct(e.ctx),[t,i,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,o=e.current;switch(t){case XA.COLORED:const l=this.ctx;r.fillStyle=l.fillStyle,r.strokeStyle=l.strokeStyle,o.fillColor=l.fillStyle,o.strokeColor=l.strokeStyle;break;case XA.UNCOLORED:const h=de.makeHexColor(i[0],i[1],i[2]);r.fillStyle=h,r.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new QC(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,r){let o=i;r!==hn.SHADING&&(o=de.transform(o,t.baseTransform),this.matrix&&(o=de.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let h=new DOMMatrix(o);h=h.translate(l.offsetX,l.offsetY),h=h.scale(1/l.scaleX,1/l.scaleY);const f=e.createPattern(l.canvas,"repeat");return f.setTransform(h),f}};Re(cp,"MAX_PATTERN_SIZE",3e3);let by=cp;function CT({src:u,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const h=bn.isLittleEndian?4278190080:255,[f,p]=l?[o,h]:[h,o],g=i>>3,v=i&7,w=u.length;t=new Uint32Array(t.buffer);let _=0;for(let A=0;A<r;A++){for(const T=e+g;e<T;e++){const k=e<w?u[e]:255;t[_++]=k&128?p:f,t[_++]=k&64?p:f,t[_++]=k&32?p:f,t[_++]=k&16?p:f,t[_++]=k&8?p:f,t[_++]=k&4?p:f,t[_++]=k&2?p:f,t[_++]=k&1?p:f}if(v===0)continue;const C=e<w?u[e++]:255;for(let T=0;T<v;T++)t[_++]=C&1<<7-T?p:f}return{srcPos:e,destPos:_}}const KA=16,YA=100,TT=15,QA=10,JA=1e3,Sn=16;function kT(u,e){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){e.save(),this.__originalSave()},u.restore=function(){e.restore(),this.__originalRestore()},u.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},u.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},u.transform=function(i,r,o,l,h,f){e.transform(i,r,o,l,h,f),this.__originalTransform(i,r,o,l,h,f)},u.setTransform=function(i,r,o,l,h,f){e.setTransform(i,r,o,l,h,f),this.__originalSetTransform(i,r,o,l,h,f)},u.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},u.rotate=function(i){e.rotate(i),this.__originalRotate(i)},u.clip=function(i){e.clip(i),this.__originalClip(i)},u.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},u.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},u.bezierCurveTo=function(t,i,r,o,l,h){e.bezierCurveTo(t,i,r,o,l,h),this.__originalBezierCurveTo(t,i,r,o,l,h)},u.rect=function(t,i,r,o){e.rect(t,i,r,o),this.__originalRect(t,i,r,o)},u.closePath=function(){e.closePath(),this.__originalClosePath()},u.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class RT{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function cf(u,e,t,i,r,o,l,h,f,p){const[g,v,w,_,A,C]=ct(u);if(v===0&&w===0){const L=l*g+A,I=Math.round(L),O=h*_+C,z=Math.round(O),B=(l+f)*g+A,V=Math.abs(Math.round(B)-I)||1,q=(h+p)*_+C,Q=Math.abs(Math.round(q)-z)||1;return u.setTransform(Math.sign(g),0,0,Math.sign(_),I,z),u.drawImage(e,t,i,r,o,0,0,V,Q),u.setTransform(g,v,w,_,A,C),[V,Q]}if(g===0&&_===0){const L=h*w+A,I=Math.round(L),O=l*v+C,z=Math.round(O),B=(h+p)*w+A,V=Math.abs(Math.round(B)-I)||1,q=(l+f)*v+C,Q=Math.abs(Math.round(q)-z)||1;return u.setTransform(0,Math.sign(v),Math.sign(w),0,I,z),u.drawImage(e,t,i,r,o,0,0,Q,V),u.setTransform(g,v,w,_,A,C),[Q,V]}u.drawImage(e,t,i,r,o,l,h,f,p);const T=Math.hypot(g,v),k=Math.hypot(w,_);return[T*f,k*p]}function PT(u){const{width:e,height:t}=u;if(e>JA||t>JA)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let l=new Uint8Array(o*(t+1)),h,f,p;const g=e+7&-8;let v=new Uint8Array(g*t),w=0;for(const k of u.data){let L=128;for(;L>0;)v[w++]=k&L?0:255,L>>=1}let _=0;for(w=0,v[w]!==0&&(l[0]=1,++_),f=1;f<e;f++)v[w]!==v[w+1]&&(l[f]=v[w]?2:1,++_),w++;for(v[w]!==0&&(l[f]=2,++_),h=1;h<t;h++){w=h*g,p=h*o,v[w-g]!==v[w]&&(l[p]=v[w]?1:8,++_);let k=(v[w]?4:0)+(v[w-g]?8:0);for(f=1;f<e;f++)k=(k>>2)+(v[w+1]?4:0)+(v[w-g+1]?8:0),r[k]&&(l[p+f]=r[k],++_),w++;if(v[w-g]!==v[w]&&(l[p+f]=v[w]?2:4,++_),_>i)return null}for(w=g*(t-1),p=h*o,v[w]!==0&&(l[p]=8,++_),f=1;f<e;f++)v[w]!==v[w+1]&&(l[p+f]=v[w]?4:8,++_),w++;if(v[w]!==0&&(l[p+f]=4,++_),_>i)return null;const A=new Int32Array([0,o,-1,0,-o,0,0,0,1]),C=new Path2D;for(h=0;_&&h<=t;h++){let k=h*o;const L=k+e;for(;k<L&&!l[k];)k++;if(k===L)continue;C.moveTo(k%o,h);const I=k;let O=l[k];do{const z=A[O];do k+=z;while(!l[k]);const B=l[k];B!==5&&B!==10?(O=B,l[k]=0):(O=B&51*O>>4,l[k]&=O>>2|O<<2),C.lineTo(k%o,k/o|0),l[k]||--_}while(I!==k);--h}return v=null,l=null,function(k){k.save(),k.scale(1/e,-1/t),k.translate(0,-t),k.fill(C),k.beginPath(),k.restore()}}class ZA{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=G_,this.textMatrixScale=1,this.fontMatrix=Ym,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Jt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=de.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=de.applyTransform(t,e),r=de.applyTransform(t.slice(2),e),o=de.applyTransform([t[0],t[3]],e),l=de.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],o[0],l[0]),this.minY=Math.min(this.minY,i[1],r[1],o[1],l[1]),this.maxX=Math.max(this.maxX,i[0],r[0],o[0],l[0]),this.maxY=Math.max(this.maxY,i[1],r[1],o[1],l[1])}updateScalingPathMinMax(e,t){de.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,o,l,h,f,p,g){const v=de.bezierBoundingBox(t,i,r,o,l,h,f,p,g);g||this.updateRectMinMax(e,v)}getPathBoundingBox(e=hn.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===hn.STROKE){t||Ye("Stroke bounding box must include transform.");const r=de.singularValueDecompose2dScale(t),o=r[0]*this.lineWidth/2,l=r[1]*this.lineWidth/2;i[0]-=o,i[1]-=l,i[2]+=o,i[3]+=l}return i}updateClipFromPath(){const e=de.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=hn.FILL,t=null){return de.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function e_(u,e){if(typeof ImageData<"u"&&e instanceof ImageData){u.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%Sn,o=(t-r)/Sn,l=r===0?o:o+1,h=u.createImageData(i,Sn);let f=0,p;const g=e.data,v=h.data;let w,_,A,C;if(e.kind===vf.GRAYSCALE_1BPP){const T=g.byteLength,k=new Uint32Array(v.buffer,0,v.byteLength>>2),L=k.length,I=i+7>>3,O=4294967295,z=bn.isLittleEndian?4278190080:255;for(w=0;w<l;w++){for(A=w<o?Sn:r,p=0,_=0;_<A;_++){const B=T-f;let V=0;const q=B>I?i:B*8-7,Q=q&-8;let se=0,Z=0;for(;V<Q;V+=8)Z=g[f++],k[p++]=Z&128?O:z,k[p++]=Z&64?O:z,k[p++]=Z&32?O:z,k[p++]=Z&16?O:z,k[p++]=Z&8?O:z,k[p++]=Z&4?O:z,k[p++]=Z&2?O:z,k[p++]=Z&1?O:z;for(;V<q;V++)se===0&&(Z=g[f++],se=128),k[p++]=Z&se?O:z,se>>=1}for(;p<L;)k[p++]=0;u.putImageData(h,0,w*Sn)}}else if(e.kind===vf.RGBA_32BPP){for(_=0,C=i*Sn*4,w=0;w<o;w++)v.set(g.subarray(f,f+C)),f+=C,u.putImageData(h,0,_),_+=Sn;w<l&&(C=i*r*4,v.set(g.subarray(f,f+C)),u.putImageData(h,0,_))}else if(e.kind===vf.RGB_24BPP)for(A=Sn,C=i*A,w=0;w<l;w++){for(w>=o&&(A=r,C=i*A),p=0,_=C;_--;)v[p++]=g[f++],v[p++]=g[f++],v[p++]=g[f++],v[p++]=255;u.putImageData(h,0,w*Sn)}else throw new Error(`bad image kind: ${e.kind}`)}function t_(u,e){if(e.bitmap){u.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%Sn,o=(t-r)/Sn,l=r===0?o:o+1,h=u.createImageData(i,Sn);let f=0;const p=e.data,g=h.data;for(let v=0;v<l;v++){const w=v<o?Sn:r;({srcPos:f}=CT({src:p,srcPos:f,dest:g,width:i,height:w,nonBlackColor:0})),u.putImageData(h,0,v*Sn)}}function $u(u,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)u[i]!==void 0&&(e[i]=u[i]);u.setLineDash!==void 0&&(e.setLineDash(u.getLineDash()),e.lineDashOffset=u.lineDashOffset)}function hf(u){if(u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0),!rn){const{filter:e}=u;e!=="none"&&e!==""&&(u.filter="none")}}function n_(u,e){if(e)return!0;const t=de.singularValueDecompose2dScale(u);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*$r.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const LT=["butt","round","square"],MT=["miter","round","bevel"],DT={},i_={};var Wr,xy,Cy;const Mv=class Mv{constructor(e,t,i,r,o,{optionalContentConfig:l,markedContentStack:h=null},f,p){x(this,Wr);this.ctx=e,this.current=new ZA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=l,this.cachedCanvases=new RT(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=h,i){const f=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...ct(this.compositeCtx))}this.ctx.save(),hf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=ct(this.ctx)}executeOperatorList(e,t,i,r){const o=e.argsArray,l=e.fnArray;let h=t||0;const f=o.length;if(f===h)return h;const p=f-h>QA&&typeof i=="function",g=p?Date.now()+TT:0;let v=0;const w=this.commonObjs,_=this.objs;let A;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,i),h;if(A=l[h],A!==pi.dependency)this[A].apply(this,o[h]);else for(const C of o[h]){const T=C.startsWith("g_")?w:_;if(!T.has(C))return T.get(C,i),h}if(h++,h===f)return h;if(p&&++v>QA){if(Date.now()>g)return i(),h;v=0}}}endDrawing(){b(this,Wr,xy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),b(this,Wr,Cy).call(this)}_scaleImage(e,t){const i=e.width,r=e.height;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),h=i,f=r,p="prescale1",g,v;for(;o>2&&h>1||l>2&&f>1;){let w=h,_=f;o>2&&h>1&&(w=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/w),l>2&&f>1&&(_=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,l/=f/_),g=this.cachedCanvases.getCanvas(p,w,_),v=g.context,v.clearRect(0,0,w,_),v.drawImage(e,0,0,h,f,0,0,w,_),e=g.canvas,h=w,f=_,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:h,paintHeight:f}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:r}=e,o=this.current.fillColor,l=this.current.patternFill,h=ct(t);let f,p,g,v;if((e.bitmap||e.data)&&e.count>1){const q=e.bitmap||e.data.buffer;p=JSON.stringify(l?h:[h.slice(0,4),o]),f=this._cachedBitmapsMap.get(q),f||(f=new Map,this._cachedBitmapsMap.set(q,f));const Q=f.get(p);if(Q&&!l){const se=Math.round(Math.min(h[0],h[2])+h[4]),Z=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:Q,offsetX:se,offsetY:Z}}g=Q}g||(v=this.cachedCanvases.getCanvas("maskCanvas",i,r),t_(v.context,e));let w=de.transform(h,[1/i,0,0,-1/r,0,0]);w=de.transform(w,[1,0,0,1,0,-r]);const[_,A,C,T]=de.getAxialAlignedBoundingBox([0,0,i,r],w),k=Math.round(C-_)||1,L=Math.round(T-A)||1,I=this.cachedCanvases.getCanvas("fillCanvas",k,L),O=I.context,z=_,B=A;O.translate(-z,-B),O.transform(...w),g||(g=this._scaleImage(v.canvas,gs(O)),g=g.img,f&&l&&f.set(p,g)),O.imageSmoothingEnabled=n_(ct(O),e.interpolate),cf(O,g,0,0,g.width,g.height,0,0,i,r),O.globalCompositeOperation="source-in";const V=de.transform(gs(O),[1,0,0,1,-z,-B]);return O.fillStyle=l?o.getPattern(t,this,V,hn.FILL):o,O.fillRect(0,0,i,r),f&&!l&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,I.canvas)),{canvas:I.canvas,offsetX:Math.round(z),offsetY:Math.round(B)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=LT[e]}setLineJoin(e){this.ctx.lineJoin=MT[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...ct(this.suspendedCtx)),$u(this.suspendedCtx,o),kT(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$u(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const o=r[0],l=r[1],h=r[2]-o,f=r[3]-l;h===0||f===0||(this.genericComposeSMask(t.context,i,h,f,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,o,l,h,f,p,g,v){let w=e.canvas,_=f-g,A=p-v;if(l){if(_<0||A<0||_+i>w.width||A+r>w.height){const T=this.cachedCanvases.getCanvas("maskExtension",i,r),k=T.context;k.drawImage(w,-_,-A),l.some(L=>L!==0)&&(k.globalCompositeOperation="destination-atop",k.fillStyle=de.makeHexColor(...l),k.fillRect(0,0,i,r),k.globalCompositeOperation="source-over"),w=T.canvas,_=A=0}else if(l.some(T=>T!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(_,A,i,r),e.clip(T),e.globalCompositeOperation="destination-atop",e.fillStyle=de.makeHexColor(...l),e.fillRect(_,A,i,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?t.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(h));const C=new Path2D;C.rect(f,p,i,r),t.clip(C),t.globalCompositeOperation="destination-in",t.drawImage(w,_,A,i,r,f,p,i,r),t.restore()}save(){this.inSMaskMode?($u(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),$u(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,o,l){this.ctx.transform(e,t,i,r,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,o=this.current;let l=o.x,h=o.y,f,p;const g=ct(r),v=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,w=v?i.slice(0):null;for(let _=0,A=0,C=e.length;_<C;_++)switch(e[_]|0){case pi.rectangle:l=t[A++],h=t[A++];const T=t[A++],k=t[A++],L=l+T,I=h+k;r.moveTo(l,h),T===0||k===0?r.lineTo(L,I):(r.lineTo(L,h),r.lineTo(L,I),r.lineTo(l,I)),v||o.updateRectMinMax(g,[l,h,L,I]),r.closePath();break;case pi.moveTo:l=t[A++],h=t[A++],r.moveTo(l,h),v||o.updatePathMinMax(g,l,h);break;case pi.lineTo:l=t[A++],h=t[A++],r.lineTo(l,h),v||o.updatePathMinMax(g,l,h);break;case pi.curveTo:f=l,p=h,l=t[A+4],h=t[A+5],r.bezierCurveTo(t[A],t[A+1],t[A+2],t[A+3],l,h),o.updateCurvePathMinMax(g,f,p,t[A],t[A+1],t[A+2],t[A+3],l,h,w),A+=6;break;case pi.curveTo2:f=l,p=h,r.bezierCurveTo(l,h,t[A],t[A+1],t[A+2],t[A+3]),o.updateCurvePathMinMax(g,f,p,l,h,t[A],t[A+1],t[A+2],t[A+3],w),l=t[A+2],h=t[A+3],A+=4;break;case pi.curveTo3:f=l,p=h,l=t[A+2],h=t[A+3],r.bezierCurveTo(t[A],t[A+1],l,h,l,h),o.updateCurvePathMinMax(g,f,p,t[A],t[A+1],l,h,l,h,w),A+=4;break;case pi.closePath:r.closePath();break}v&&o.updateScalingPathMinMax(g,w),o.setCurrentPoint(l,h)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,gs(t),hn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(t.save(),t.fillStyle=i.getPattern(t,this,gs(t),hn.FILL),o=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=DT}eoClip(){this.pendingClip=i_}beginText(){this.current.textMatrix=G_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var g;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||Ym,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Me("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const o=i.loadedName||"sans-serif",l=((g=i.systemFontInfo)==null?void 0:g.css)||`"${o}", ${i.fallbackName}`;let h="normal";i.black?h="900":i.bold&&(h="bold");const f=i.italic?"italic":"normal";let p=t;t<KA?p=KA:t>YA&&(p=YA),this.current.fontSizeScale=t/p,this.ctx.font=`${f} ${h} ${p}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,o,l){this.current.textMatrix=[e,t,i,r,o,l],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const o=this.ctx,l=this.current,h=l.font,f=l.textRenderingMode,p=l.fontSize/l.fontSizeScale,g=f&Jt.FILL_STROKE_MASK,v=!!(f&Jt.ADD_TO_PATH_FLAG),w=l.patternFill&&!h.missingFile;let _;(h.disableFontFace||v||w)&&(_=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||w?(o.save(),o.translate(t,i),o.beginPath(),_(o,p),r&&o.setTransform(...r),(g===Jt.FILL||g===Jt.FILL_STROKE)&&o.fill(),(g===Jt.STROKE||g===Jt.FILL_STROKE)&&o.stroke(),o.restore()):((g===Jt.FILL||g===Jt.FILL_STROKE)&&o.fillText(e,t,i),(g===Jt.STROKE||g===Jt.FILL_STROKE)&&o.strokeText(e,t,i)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ct(o),x:t,y:i,fontSize:p,addToPath:_})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return je(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,l=t.fontSizeScale,h=t.charSpacing,f=t.wordSpacing,p=t.fontDirection,g=t.textHScale*p,v=e.length,w=i.vertical,_=w?1:-1,A=i.defaultVMetrics,C=r*t.fontMatrix[0],T=t.textRenderingMode===Jt.FILL&&!i.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),p>0?o.scale(g,-1):o.scale(g,1);let k;if(t.patternFill){o.save();const B=t.fillColor.getPattern(o,this,gs(o),hn.FILL);k=ct(o),o.restore(),o.fillStyle=B}let L=t.lineWidth;const I=t.textMatrixScale;if(I===0||L===0){const B=t.textRenderingMode&Jt.FILL_STROKE_MASK;(B===Jt.STROKE||B===Jt.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=I;if(l!==1&&(o.scale(l,l),L/=l),o.lineWidth=L,i.isInvalidPDFjsFont){const B=[];let V=0;for(const q of e)B.push(q.unicode),V+=q.width;o.fillText(B.join(""),0,0),t.x+=V*C*g,o.restore(),this.compose();return}let O=0,z;for(z=0;z<v;++z){const B=e[z];if(typeof B=="number"){O+=_*B*r/1e3;continue}let V=!1;const q=(B.isSpace?f:0)+h,Q=B.fontChar,se=B.accent;let Z,Te,ge=B.width;if(w){const be=B.vmetric||A,_e=-(B.vmetric?be[1]:ge*.5)*C,Y=be[2]*C;ge=be?-be[0]:ge,Z=_e/l,Te=(O+Y)/l}else Z=O/l,Te=0;if(i.remeasure&&ge>0){const be=o.measureText(Q).width*1e3/r*l;if(ge<be&&this.isFontSubpixelAAEnabled){const _e=ge/be;V=!0,o.save(),o.scale(_e,1),Z/=_e}else ge!==be&&(Z+=(ge-be)/2e3*r/l)}if(this.contentVisible&&(B.isInFont||i.missingFile)){if(T&&!se)o.fillText(Q,Z,Te);else if(this.paintChar(Q,Z,Te,k),se){const be=Z+r*se.offset.x/l,_e=Te-r*se.offset.y/l;this.paintChar(se.fontChar,be,_e,k)}}const fe=w?ge*C-q*p:ge*C+q*p;O+=fe,V&&o.restore()}w?t.y-=O:t.x+=O*g,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,r=i.font,o=i.fontSize,l=i.fontDirection,h=r.vertical?1:-1,f=i.charSpacing,p=i.wordSpacing,g=i.textHScale*l,v=i.fontMatrix||Ym,w=e.length,_=i.textRenderingMode===Jt.INVISIBLE;let A,C,T,k;if(!(_||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(g,l),A=0;A<w;++A){if(C=e[A],typeof C=="number"){k=h*C*o/1e3,this.ctx.translate(k,0),i.x+=k*g;continue}const L=(C.isSpace?p:0)+f,I=r.charProcOperatorList[C.operatorListId];if(!I){Me(`Type3 character "${C.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=C,this.save(),t.scale(o,o),t.transform(...v),this.executeOperatorList(I),this.restore()),T=de.applyTransform([C.width,0],v)[0]*o+L,t.translate(T,0),i.x+=T*g}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,o,l){this.ctx.rect(i,r,o-i,l-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||ct(this.ctx),o={createCanvasGraphics:l=>new Mv(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new by(e,i,this.ctx,o,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){const r=de.makeHexColor(e,t,i);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,i){const r=de.makeHexColor(e,t,i);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=xT(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,gs(t),hn.SHADING);const r=gs(t);if(r){const{width:o,height:l}=t.canvas,[h,f,p,g]=de.getAxialAlignedBoundingBox([0,0,o,l],r);this.ctx.fillRect(h,f,p-h,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ye("Should not call beginInlineImage")}beginImageData(){Ye("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ct(this.ctx),t)){const i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.current.updateRectMinMax(ct(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Tp("TODO: Support non-isolated groups."),e.knockout&&Me("Knockout groups not supported.");const i=ct(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=de.getAxialAlignedBoundingBox(e.bbox,ct(t));const o=[0,0,t.canvas.width,t.canvas.height];r=de.intersect(r,o)||[0,0,0,0];const l=Math.floor(r[0]),h=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-l,1),p=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(g,f,p),w=v.context;w.translate(-l,-h),w.transform(...i),e.smask?this.smaskStack.push({canvas:v.canvas,context:w,offsetX:l,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,h),t.save()),$u(t,w),this.ctx=w,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ct(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=de.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,r,o){if(b(this,Wr,xy).call(this),hf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],h=t[3]-t[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=h;const[f,p]=de.singularValueDecompose2dScale(ct(this.ctx)),{viewportScale:g}=this,v=Math.ceil(l*this.outputScaleX*g),w=Math.ceil(h*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(v,w);const{canvas:_,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(e,_),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,h*p),hf(this.ctx)}else hf(this.ctx),this.ctx.rect(t[0],t[1],l,h),this.ctx.clip(),this.endPath()}this.current=new ZA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),b(this,Wr,Cy).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=PT(e)),r.compiled)){r.compiled(i);return}const o=this._createMaskCanvas(e),l=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(l,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const h=this.ctx;h.save();const f=ct(h);h.transform(t,i,r,o,0,0);const p=this._createMaskCanvas(e);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let g=0,v=l.length;g<v;g+=2){const w=de.transform(f,[t,i,r,o,l[g],l[g+1]]),[_,A]=de.applyTransform([0,0],w);h.drawImage(p.canvas,_,A)}h.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:l,width:h,height:f,transform:p}=o,g=this.cachedCanvases.getCanvas("maskCanvas",h,f),v=g.context;v.save();const w=this.getObject(l,o);t_(v,w),v.globalCompositeOperation="source-in",v.fillStyle=r?i.getPattern(v,this,gs(t),hn.FILL):i,v.fillRect(0,0,h,f),v.restore(),t.save(),t.transform(...p),t.scale(1,-1),cf(t,g.canvas,0,0,h,f,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Me("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Me("Dependent image isn't ready yet");return}const l=o.width,h=o.height,f=[];for(let p=0,g=r.length;p<g;p+=2)f.push({transform:[t,0,0,i,r[p],r[p+1]],x:0,y:0,w:l,h});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",i,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,r=this.ctx;if(this.save(),!rn){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/t,-1/i);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",t,i).context;e_(f,e),o=this.applyTransferMapsToCanvas(f)}const l=this._scaleImage(o,gs(r));r.imageSmoothingEnabled=n_(ct(r),e.interpolate),cf(r,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,l=e.height,f=this.cachedCanvases.getCanvas("inlineImage",o,l).context;e_(f,e),r=this.applyTransferMapsToCanvas(f)}for(const o of t)i.save(),i.transform(...o.transform),i.scale(1,-1),cf(i,r,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===i_?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ct(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:o}=this.ctx.getTransform();let l,h;if(i===0&&r===0){const f=Math.abs(t),p=Math.abs(o);if(f===p)if(e===0)l=h=1/f;else{const g=f*e;l=h=g<1?1/g:1}else if(e===0)l=1/f,h=1/p;else{const g=f*e,v=p*e;l=g<1?1/g:1,h=v<1?1/v:1}}else{const f=Math.abs(t*o-i*r),p=Math.hypot(t,i),g=Math.hypot(r,o);if(e===0)l=g/f,h=p/f;else{const v=e*f;l=g>v?g/v:1,h=p>v?p/v:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[r,o]=this.getScaleForStroking();if(t.lineWidth=i||1,r===1&&o===1){t.stroke();return}const l=t.getLineDash();if(e&&t.save(),t.scale(r,o),l.length>0){const h=Math.max(r,o);t.setLineDash(l.map(f=>f/h)),t.lineDashOffset/=h}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Wr=new WeakSet,xy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Cy=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Za=Mv;for(const u in pi)Za.prototype[u]!==void 0&&(Za.prototype[pi[u]]=Za.prototype[u]);var Bc,jc;class Ws{static get workerPort(){return c(this,Bc)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");S(this,Bc,e)}static get workerSrc(){return c(this,jc)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");S(this,jc,e)}}Bc=new WeakMap,jc=new WeakMap,x(Ws,Bc,null),x(Ws,jc,"");const df={UNKNOWN:0,DATA:1,ERROR:2},At={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Dn(u){switch(u instanceof Error||typeof u=="object"&&u!==null||Ye('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new Aa(u.message);case"MissingPDFException":return new wa(u.message);case"PasswordException":return new Jm(u.message,u.code);case"UnexpectedResponseException":return new kp(u.message,u.status);case"UnknownErrorException":return new Zm(u.message,u.details);default:return new Zm(u.message,u.toString())}}var ts,RE,PE,bf;class Qu{constructor(e,t,i){x(this,ts);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const o=r.data;if(o.targetName!==this.sourceName)return;if(o.stream){b(this,ts,PE).call(this,o);return}if(o.callback){const h=o.callbackId,f=this.callbackCapabilities[h];if(!f)throw new Error(`Cannot resolve callback ${h}`);if(delete this.callbackCapabilities[h],o.callback===df.DATA)f.resolve(o.data);else if(o.callback===df.ERROR)f.reject(Dn(o.reason));else throw new Error("Unexpected callback case");return}const l=this.actionHandler[o.action];if(!l)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const h=this.sourceName,f=o.sourceName;new Promise(function(p){p(l(o.data))}).then(function(p){i.postMessage({sourceName:h,targetName:f,callback:df.DATA,callbackId:o.callbackId,data:p})},function(p){i.postMessage({sourceName:h,targetName:f,callback:df.ERROR,callbackId:o.callbackId,reason:Dn(p)})});return}if(o.streamId){b(this,ts,RE).call(this,o);return}l(o.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,i,r){const o=this.streamId++,l=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:l,targetName:h,action:e,streamId:o,data:t,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,f.postMessage({sourceName:l,targetName:h,stream:At.PULL,streamId:o,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Lt(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:l,targetName:h,stream:At.CANCEL,streamId:o,reason:Dn(p)}),g.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ts=new WeakSet,RE=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,o=this.comObj,l=this,h=this.actionHandler[e.action],f={enqueue(p,g=1,v){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=g,w>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:r,stream:At.ENQUEUE,streamId:t,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:At.CLOSE,streamId:t}),delete l.streamSinks[t])},error(p){Lt(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:At.ERROR,streamId:t,reason:Dn(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[t]=f,new Promise(function(p){p(h(e.data,f))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:At.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:i,targetName:r,stream:At.START_COMPLETE,streamId:t,reason:Dn(p)})})},PE=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,o=this.comObj,l=this.streamControllers[t],h=this.streamSinks[t];switch(e.stream){case At.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Dn(e.reason));break;case At.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Dn(e.reason));break;case At.PULL:if(!h){o.postMessage({sourceName:i,targetName:r,stream:At.PULL_COMPLETE,streamId:t,success:!0});break}h.desiredSize<=0&&e.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=e.desiredSize,new Promise(function(f){var p;f((p=h.onPull)==null?void 0:p.call(h))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:At.PULL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:At.PULL_COMPLETE,streamId:t,reason:Dn(f)})});break;case At.ENQUEUE:if(Lt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case At.CLOSE:if(Lt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),b(this,ts,bf).call(this,l,t);break;case At.ERROR:Lt(l,"error should have stream controller"),l.controller.error(Dn(e.reason)),b(this,ts,bf).call(this,l,t);break;case At.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Dn(e.reason)),b(this,ts,bf).call(this,l,t);break;case At.CANCEL:if(!h)break;new Promise(function(f){var p;f((p=h.onCancel)==null?void 0:p.call(h,Dn(e.reason)))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:At.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:At.CANCEL_COMPLETE,streamId:t,reason:Dn(f)})}),h.sinkCapability.reject(Dn(e.reason)),h.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},bf=async function(e,t){var i,r,o;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var Do,Uc;class IT{constructor({parsedData:e,rawData:t}){x(this,Do);x(this,Uc);S(this,Do,e),S(this,Uc,t)}getRaw(){return c(this,Uc)}get(e){return c(this,Do).get(e)??null}getAll(){return wv(c(this,Do))}has(e){return c(this,Do).has(e)}}Do=new WeakMap,Uc=new WeakMap;const wr=Symbol("INTERNAL");var $c,Vc,Wc,ml;class FT{constructor(e,{name:t,intent:i,usage:r}){x(this,$c,!1);x(this,Vc,!1);x(this,Wc,!1);x(this,ml,!0);S(this,$c,!!(e&ni.DISPLAY)),S(this,Vc,!!(e&ni.PRINT)),this.name=t,this.intent=i,this.usage=r}get visible(){if(c(this,Wc))return c(this,ml);if(!c(this,ml))return!1;const{print:e,view:t}=this.usage;return c(this,$c)?(t==null?void 0:t.viewState)!=="OFF":c(this,Vc)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==wr&&Ye("Internal method `_setVisible` called."),S(this,Wc,i),S(this,ml,t)}}$c=new WeakMap,Vc=new WeakMap,Wc=new WeakMap,ml=new WeakMap;var Tr,Ke,yl,vl,Gc,Ty;class OT{constructor(e,t=ni.DISPLAY){x(this,Gc);x(this,Tr,null);x(this,Ke,new Map);x(this,yl,null);x(this,vl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,S(this,vl,e.order);for(const i of e.groups)c(this,Ke).set(i.id,new FT(t,i));if(e.baseState==="OFF")for(const i of c(this,Ke).values())i._setVisible(wr,!1);for(const i of e.on)c(this,Ke).get(i)._setVisible(wr,!0);for(const i of e.off)c(this,Ke).get(i)._setVisible(wr,!1);S(this,yl,this.getHash())}}isVisible(e){if(c(this,Ke).size===0)return!0;if(!e)return Tp("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Ke).has(e.id)?c(this,Ke).get(e.id).visible:(Me(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return b(this,Gc,Ty).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Ke).has(t))return Me(`Optional content group not found: ${t}`),!0;if(c(this,Ke).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Ke).has(t))return Me(`Optional content group not found: ${t}`),!0;if(!c(this,Ke).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Ke).has(t))return Me(`Optional content group not found: ${t}`),!0;if(!c(this,Ke).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Ke).has(t))return Me(`Optional content group not found: ${t}`),!0;if(c(this,Ke).get(t).visible)return!1}return!0}return Me(`Unknown optional content policy ${e.policy}.`),!0}return Me(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=c(this,Ke).get(e);if(!i){Me(`Optional content group not found: ${e}`);return}i._setVisible(wr,!!t,!0),S(this,Tr,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const o=c(this,Ke).get(r);if(o)switch(i){case"ON":o._setVisible(wr,!0);break;case"OFF":o._setVisible(wr,!1);break;case"Toggle":o._setVisible(wr,!o.visible);break}}S(this,Tr,null)}get hasInitialVisibility(){return c(this,yl)===null||this.getHash()===c(this,yl)}getOrder(){return c(this,Ke).size?c(this,vl)?c(this,vl).slice():[...c(this,Ke).keys()]:null}getGroups(){return c(this,Ke).size>0?wv(c(this,Ke)):null}getGroup(e){return c(this,Ke).get(e)||null}getHash(){if(c(this,Tr)!==null)return c(this,Tr);const e=new xE;for(const[t,i]of c(this,Ke))e.update(`${t}:${i.visible}`);return S(this,Tr,e.hexdigest())}}Tr=new WeakMap,Ke=new WeakMap,yl=new WeakMap,vl=new WeakMap,Gc=new WeakSet,Ty=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const o=e[r];let l;if(Array.isArray(o))l=b(this,Gc,Ty).call(this,o);else if(c(this,Ke).has(o))l=c(this,Ke).get(o).visible;else return Me(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return i==="And"};class NT{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Lt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:h}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=h,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),e.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),e.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(i),!0)});Lt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,o;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Lt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new HT(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new zT(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class HT{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=bv(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class zT{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function BT(u){let e=!0,t=i("filename\\*","i").exec(u);if(t){t=t[1];let g=h(t);return g=unescape(g),g=f(g),g=p(g),o(g)}if(t=l(u),t){const g=p(t);return o(g)}if(t=i("filename","i").exec(u),t){t=t[1];let g=h(t);return g=p(g),o(g)}function i(g,v){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(g,v){if(g){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const w=new TextDecoder(g,{fatal:!0}),_=Rp(v);v=w.decode(_),e=!1}catch{}}return v}function o(g){return e&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),e&&(g=r("iso-8859-1",g))),g}function l(g){const v=[];let w;const _=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(w=_.exec(g))!==null;){let[,C,T,k]=w;if(C=parseInt(C,10),C in v){if(C===0)break;continue}v[C]=[T,k]}const A=[];for(let C=0;C<v.length&&C in v;++C){let[T,k]=v[C];k=h(k),T&&(k=unescape(k),C===0&&(k=f(k))),A.push(k)}return A.join("")}function h(g){if(g.startsWith('"')){const v=g.slice(1).split('\\"');for(let w=0;w<v.length;++w){const _=v[w].indexOf('"');_!==-1&&(v[w]=v[w].slice(0,_),v.length=w+1),v[w]=v[w].replaceAll(/\\(.)/g,"$1")}g=v.join('"')}return g}function f(g){const v=g.indexOf("'");if(v===-1)return g;const w=g.slice(0,v),A=g.slice(v+1).replace(/^[^']*'/,"");return r(w,A)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,w,_,A){if(_==="q"||_==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,T){return String.fromCharCode(parseInt(T,16))}),r(w,A);try{A=atob(A)}catch{}return r(w,A)})}return""}function Tv({getResponseHeader:u,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(u("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||i||!e||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function kv(u){const e=u("Content-Disposition");if(e){let t=BT(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(bv(t))return t}return null}function Ip(u,e){return u===404||u===0&&e.startsWith("file:")?new wa('Missing PDF "'+e+'".'):new kp(`Unexpected server response (${u}) while retrieving PDF "${e}".`,u)}function LE(u){return u===200||u===206}function ME(u,e,t){return{method:"GET",headers:u,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function DE(u){const e=new Headers;for(const t in u){const i=u[t];i!==void 0&&e.append(t,i)}return e}function IE(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(Me(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class s_{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Lt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new jT(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new UT(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class jT{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=DE(this._stream.httpHeaders);const i=t.url;fetch(i,ME(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!LE(r.status))throw Ip(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=f=>r.headers.get(f),{allowRangeRequests:l,suggestedLength:h}=Tv({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=h||this._contentLength,this._filename=kv(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Aa("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:IE(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class UT{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=DE(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const o=r.url;fetch(o,ME(this._headers,this._withCredentials,this._abortController)).then(l=>{if(!LE(l.status))throw Ip(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:IE(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const jm=200,Um=206;function $T(u){const e=u.response;return typeof e!="string"?e:Rp(e).buffer}class VT{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const r={begin:e,end:t};for(const o in i)r[o]=i[o];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const o in this.httpHeaders){const l=this.httpHeaders[o];l!==void 0&&t.setRequestHeader(o,l)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Um):r.expectedStatus=jm,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){var f,p,g;const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(f=i.onError)==null||f.call(i,r.status);return}const o=r.status||jm;if(!(o===jm&&i.expectedStatus===Um)&&o!==i.expectedStatus){(p=i.onError)==null||p.call(i,r.status);return}const h=$T(r);if(o===Um){const v=r.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);i.onDone({begin:parseInt(w[1],10),chunk:h})}else h?i.onDone({begin:0,chunk:h}):(g=i.onError)==null||g.call(i,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class WT{constructor(e){this._source=e,this._manager=new VT(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Lt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new GT(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new qT(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class GT{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=l=>t.getResponseHeader(l),{allowRangeRequests:r,suggestedLength:o}=Tv({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=kv(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ip(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class qT{constructor(e,t,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Ip(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const FE=/^file:\/\/\/[a-zA-Z]:\//;function XT(u){const e=is.get("url"),t=e.parse(u);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(u)?e.parse(`file:///${u}`):(t.host||(t.protocol="file:"),t)}class KT{constructor(e){this.source=e,this.url=XT(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Lt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new JT(this):new YT(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new ZT(this,e,t):new QT(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class OE{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Aa("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class NE{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Kf(u,e){return{protocol:u.protocol,auth:u.auth,host:u.hostname,port:u.port,path:u.path,method:"GET",headers:e}}class YT extends OE{constructor(e){super(e);const t=i=>{if(i.statusCode===404){const h=new wa(`Missing PDF "${this._url}".`);this._storedError=h,this._headersCapability.reject(h);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=h=>this._readableStream.headers[h.toLowerCase()],{allowRangeRequests:o,suggestedLength:l}=Tv({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=kv(r)};if(this._request=null,this._url.protocol==="http:"){const i=is.get("http");this._request=i.request(Kf(this._url,e.httpHeaders),t)}else{const i=is.get("https");this._request=i.request(Kf(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class QT extends NE{constructor(e,t,i){super(e),this._httpHeaders={};for(const o in e.httpHeaders){const l=e.httpHeaders[o];l!==void 0&&(this._httpHeaders[o]=l)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const r=o=>{if(o.statusCode===404){const l=new wa(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(o)};if(this._request=null,this._url.protocol==="http:"){const o=is.get("http");this._request=o.request(Kf(this._url,this._httpHeaders),r)}else{const o=is.get("https");this._request=o.request(Kf(this._url,this._httpHeaders),r)}this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class JT extends OE{constructor(e){super(e);let t=decodeURIComponent(this._url.path);FE.test(this._url.href)&&(t=t.replace(/^\//,""));const i=is.get("fs");i.promises.lstat(t).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new wa(`Missing PDF "${t}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class ZT extends NE{constructor(e,t,i){super(e);let r=decodeURIComponent(this._url.path);FE.test(this._url.href)&&(r=r.replace(/^\//,""));const o=is.get("fs");this._setReadableStream(o.createReadStream(r,{start:t,end:i-1}))}}const ek=1e5,An=30,tk=.8;var w_,kr,En,qc,Xc,Io,Rs,Kc,Yc,Fo,wl,Al,Rr,_l,Qc,El,Oo,Jc,Zc,Pt,No,Ho,Pr,Sl,Ks,HE,zE,ky,ns,xf,BE,jE;let Yf=(Pt=class{constructor({textContentSource:e,container:t,viewport:i}){x(this,Ks);x(this,kr,Promise.withResolvers());x(this,En,null);x(this,qc,!1);x(this,Xc,!!((w_=globalThis.FontInspector)!=null&&w_.enabled));x(this,Io,null);x(this,Rs,null);x(this,Kc,0);x(this,Yc,0);x(this,Fo,null);x(this,wl,null);x(this,Al,0);x(this,Rr,0);x(this,_l,Object.create(null));x(this,Qc,[]);x(this,El,null);x(this,Oo,[]);x(this,Jc,new WeakMap);x(this,Zc,null);var f;if(e instanceof ReadableStream)S(this,El,e);else if(typeof e=="object")S(this,El,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');S(this,En,S(this,wl,t)),S(this,Rr,i.scale*(globalThis.devicePixelRatio||1)),S(this,Al,i.rotation),S(this,Rs,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:l,pageY:h}=i.rawDims;S(this,Zc,[1,0,0,-1,-l,h+o]),S(this,Yc,r),S(this,Kc,o),b(f=Pt,ns,BE).call(f),fa(t,i),c(this,kr).promise.catch(()=>{}).then(()=>{c(Pt,Sl).delete(this),S(this,Rs,null),S(this,_l,null)})}render(){const e=()=>{c(this,Fo).read().then(({value:t,done:i})=>{if(i){c(this,kr).resolve();return}c(this,Io)??S(this,Io,t.lang),Object.assign(c(this,_l),t.styles),b(this,Ks,HE).call(this,t.items),e()},c(this,kr).reject)};return S(this,Fo,c(this,El).getReader()),c(Pt,Sl).add(this),e(),c(this,kr).promise}update({viewport:e,onBefore:t=null}){var o;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==c(this,Al)&&(t==null||t(),S(this,Al,r),fa(c(this,wl),{rotation:r})),i!==c(this,Rr)){t==null||t(),S(this,Rr,i);const l={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:b(o=Pt,ns,xf).call(o,c(this,Io))};for(const h of c(this,Oo))l.properties=c(this,Jc).get(h),l.div=h,b(this,Ks,ky).call(this,l)}}cancel(){var t;const e=new Aa("TextLayer task cancelled.");(t=c(this,Fo))==null||t.cancel(e).catch(()=>{}),S(this,Fo,null),c(this,kr).reject(e)}get textDivs(){return c(this,Oo)}get textContentItemsStr(){return c(this,Qc)}static cleanup(){if(!(c(this,Sl).size>0)){c(this,No).clear();for(const{canvas:e}of c(this,Ho).values())e.remove();c(this,Ho).clear()}}},kr=new WeakMap,En=new WeakMap,qc=new WeakMap,Xc=new WeakMap,Io=new WeakMap,Rs=new WeakMap,Kc=new WeakMap,Yc=new WeakMap,Fo=new WeakMap,wl=new WeakMap,Al=new WeakMap,Rr=new WeakMap,_l=new WeakMap,Qc=new WeakMap,El=new WeakMap,Oo=new WeakMap,Jc=new WeakMap,Zc=new WeakMap,No=new WeakMap,Ho=new WeakMap,Pr=new WeakMap,Sl=new WeakMap,Ks=new WeakSet,HE=function(e){var r,o;if(c(this,qc))return;(o=c(this,Rs)).ctx??(o.ctx=b(r=Pt,ns,xf).call(r,c(this,Io)));const t=c(this,Oo),i=c(this,Qc);for(const l of e){if(t.length>ek){Me("Ignoring additional textDivs for performance reasons."),S(this,qc,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const h=c(this,En);S(this,En,document.createElement("span")),c(this,En).classList.add("markedContent"),l.id!==null&&c(this,En).setAttribute("id",`${l.id}`),h.append(c(this,En))}else l.type==="endMarkedContent"&&S(this,En,c(this,En).parentNode);continue}i.push(l.str),b(this,Ks,zE).call(this,l)}},zE=function(e){var C;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,Oo).push(t);const r=de.transform(c(this,Zc),e.transform);let o=Math.atan2(r[1],r[0]);const l=c(this,_l)[e.fontName];l.vertical&&(o+=Math.PI/2);const h=c(this,Xc)&&l.fontSubstitution||l.fontFamily,f=Math.hypot(r[2],r[3]),p=f*b(C=Pt,ns,jE).call(C,h,c(this,Io));let g,v;o===0?(g=r[4],v=r[5]-p):(g=r[4]+p*Math.sin(o),v=r[5]-p*Math.cos(o));const w="calc(var(--scale-factor)*",_=t.style;c(this,En)===c(this,wl)?(_.left=`${(100*g/c(this,Yc)).toFixed(2)}%`,_.top=`${(100*v/c(this,Kc)).toFixed(2)}%`):(_.left=`${w}${g.toFixed(2)}px)`,_.top=`${w}${v.toFixed(2)}px)`),_.fontSize=`${w}${(c(Pt,Pr)*f).toFixed(2)}px)`,_.fontFamily=h,i.fontSize=f,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Xc)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(i.angle=o*(180/Math.PI));let A=!1;if(e.str.length>1)A=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const T=Math.abs(e.transform[0]),k=Math.abs(e.transform[3]);T!==k&&Math.max(T,k)/Math.min(T,k)>1.5&&(A=!0)}if(A&&(i.canvasWidth=l.vertical?e.height:e.width),c(this,Jc).set(t,i),c(this,Rs).div=t,c(this,Rs).properties=i,b(this,Ks,ky).call(this,c(this,Rs)),i.hasText&&c(this,En).append(t),i.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),c(this,En).append(T)}},ky=function(e){const{div:t,properties:i,ctx:r,prevFontSize:o,prevFontFamily:l}=e,{style:h}=t;let f="";if(c(Pt,Pr)>1&&(f=`scale(${1/c(Pt,Pr)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:p}=h,{canvasWidth:g,fontSize:v}=i;(o!==v||l!==p)&&(r.font=`${v*c(this,Rr)}px ${p}`,e.prevFontSize=v,e.prevFontFamily=p);const{width:w}=r.measureText(t.textContent);w>0&&(f=`scaleX(${g*c(this,Rr)/w}) ${f}`)}i.angle!==0&&(f=`rotate(${i.angle}deg) ${f}`),f.length>0&&(h.transform=f)},ns=new WeakSet,xf=function(e=null){let t=c(this,Ho).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,Ho).set(e,t)}return t},BE=function(){if(c(this,Pr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),S(this,Pr,e.getBoundingClientRect().height),e.remove()},jE=function(e,t){const i=c(this,No).get(e);if(i)return i;const r=b(this,ns,xf).call(this,t),o=r.font;r.canvas.width=r.canvas.height=An,r.font=`${An}px ${e}`;const l=r.measureText("");let h=l.fontBoundingBoxAscent,f=Math.abs(l.fontBoundingBoxDescent);if(h){const v=h/(h+f);return c(this,No).set(e,v),r.canvas.width=r.canvas.height=0,r.font=o,v}r.strokeStyle="red",r.clearRect(0,0,An,An),r.strokeText("g",0,0);let p=r.getImageData(0,0,An,An).data;f=0;for(let v=p.length-1-3;v>=0;v-=4)if(p[v]>0){f=Math.ceil(v/4/An);break}r.clearRect(0,0,An,An),r.strokeText("A",0,An),p=r.getImageData(0,0,An,An).data,h=0;for(let v=0,w=p.length;v<w;v+=4)if(p[v]>0){h=An-Math.floor(v/4/An);break}r.canvas.width=r.canvas.height=0,r.font=o;const g=h?h/(h+f):tk;return c(this,No).set(e,g),g},x(Pt,ns),x(Pt,No,new Map),x(Pt,Ho,new Map),x(Pt,Pr,null),x(Pt,Sl,new Set),Pt);function nk(){Z_("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:u,container:e,viewport:t,...i}=arguments[0],r=Object.keys(i);r.length>0&&Me("Ignoring `renderTextLayer` parameters: "+r.join(", "));const o=new Yf({textContentSource:u,container:e,viewport:t}),{textDivs:l,textContentItemsStr:h}=o;return{promise:o.render(),textDivs:l,textContentItemsStr:h}}function ik(){Z_("`updateTextLayer`, please use `TextLayer` instead.")}class cc{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(o){var f;if(!o)return;let l=null;const h=o.name;if(h==="#text")l=o.value;else if(cc.shouldBuildText(h))(f=o==null?void 0:o.attributes)!=null&&f.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const p of o.children)r(p)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const sk=65536,rk=100,ok=5e3,ak=rn?vT:rT,lk=rn?wT:Q_,uk=rn?yT:sT,ck=rn?AT:J_;function hk(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const e=new Ry,{docId:t}=e,i=u.url?dk(u.url):null,r=u.data?fk(u.data):null,o=u.httpHeaders||null,l=u.withCredentials===!0,h=u.password??null,f=u.range instanceof UE?u.range:null,p=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:sk;let g=u.worker instanceof el?u.worker:null;const v=u.verbosity,w=typeof u.docBaseUrl=="string"&&!Sv(u.docBaseUrl)?u.docBaseUrl:null,_=typeof u.cMapUrl=="string"?u.cMapUrl:null,A=u.cMapPacked!==!1,C=u.CMapReaderFactory||lk,T=typeof u.standardFontDataUrl=="string"?u.standardFontDataUrl:null,k=u.StandardFontDataFactory||ck,L=u.stopAtErrors!==!0,I=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,O=u.isEvalSupported!==!1,z=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!rn,B=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,V=typeof u.disableFontFace=="boolean"?u.disableFontFace:rn,q=u.fontExtraProperties===!0,Q=u.enableXfa===!0,se=u.ownerDocument||globalThis.document,Z=u.disableRange===!0,Te=u.disableStream===!0,ge=u.disableAutoFetch===!0,fe=u.pdfBug===!0,be=u.enableHWA===!0,_e=f?f.length:u.length??NaN,Y=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!rn&&!V,$=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:C===Q_&&k===J_&&_&&T&&Xu(_,document.baseURI)&&Xu(T,document.baseURI),oe=u.canvasFactory||new ak({ownerDocument:se,enableHWA:be}),J=u.filterFactory||new uk({docId:t,ownerDocument:se}),D=null;qC(v);const U={canvasFactory:oe,filterFactory:J};if($||(U.cMapReaderFactory=new C({baseUrl:_,isCompressed:A}),U.standardFontDataFactory=new k({baseUrl:T})),!g){const xe={verbosity:v,port:Ws.workerPort};g=xe.port?el.fromPort(xe):new el(xe),e._worker=g}const ae={docId:t,apiVersion:"4.4.168",data:r,password:h,disableAutoFetch:ge,rangeChunkSize:p,length:_e,docBaseUrl:w,enableXfa:Q,evaluatorOptions:{maxImageSize:I,disableFontFace:V,ignoreErrors:L,isEvalSupported:O,isOffscreenCanvasSupported:z,canvasMaxAreaInBytes:B,fontExtraProperties:q,useSystemFonts:Y,cMapUrl:$?_:null,standardFontDataUrl:$?T:null}},we={disableFontFace:V,fontExtraProperties:q,ownerDocument:se,pdfBug:fe,styleElement:D,loadingParams:{disableAutoFetch:ge,enableXfa:Q}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const xe=g.messageHandler.sendWithPromise("GetDocRequest",ae,r?[r.buffer]:null);let Ae;if(f)Ae=new NT(f,{disableRange:Z,disableStream:Te});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");Ae=(ke=>rn?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Xu(ke.url)?new s_(ke):new KT(ke):Xu(ke.url)?new s_(ke):new WT(ke))({url:i,length:_e,httpHeaders:o,withCredentials:l,rangeChunkSize:p,disableRange:Z,disableStream:Te})}return xe.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ke=new Qu(t,me,g.port),Oe=new yk(ke,e,Ae,we,U);e._transport=Oe,ke.send("Ready",null)})}).catch(e._capability.reject),e}function dk(u){if(u instanceof URL)return u.href;try{return new URL(u,window.location).href}catch{if(rn&&typeof u=="string")return u}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function fk(u){if(rn&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return Rp(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u==null?void 0:u.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function r_(u){return typeof u=="object"&&Number.isInteger(u==null?void 0:u.num)&&u.num>=0&&Number.isInteger(u==null?void 0:u.gen)&&u.gen>=0}var hp;const dp=class dp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Mn(dp,hp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};hp=new WeakMap,x(dp,hp,0);let Ry=dp,UE=class{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ye("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class pk{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return je(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Lr,Ps,ii,Ka,Cf;class gk{constructor(e,t,i,r=!1){x(this,ii);x(this,Lr,null);x(this,Ps,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new WA:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new $E,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}={}){return new Wh({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return je(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=_r.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null}){var I,O;(I=this._stats)==null||I.time("Overall");const v=this._transport.getRenderingIntent(i,r,g),{renderingIntent:w,cacheKey:_}=v;S(this,Ps,!1),b(this,ii,Cf).call(this),h||(h=this._transport.getOptionalContentConfig(w));let A=this._intentStates.get(_);A||(A=Object.create(null),this._intentStates.set(_,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const C=!!(w&ni.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(O=this._stats)==null||O.time("Page Request"),this._pumpOperatorList(v));const T=z=>{var B;A.renderTasks.delete(k),(this._maybeCleanupAfterRender||C)&&S(this,Ps,!0),b(this,ii,Ka).call(this,!C),z?(k.capability.reject(z),this._abortOperatorList({intentState:A,reason:z instanceof Error?z:new Error(z)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(B=globalThis.Stats)!=null&&B.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new Ly({callback:T,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:p});(A.renderTasks||(A.renderTasks=new Set)).add(k);const L=k.task;return Promise.all([A.displayReadyCapability.promise,h]).then(([z,B])=>{var V;if(this.destroyed){T();return}if((V=this._stats)==null||V.time("Rendering"),!(B.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:z,optionalContentConfig:B}),k.operatorListChanged()}).catch(T),L}getOperatorList({intent:e="display",annotationMode:t=_r.ENABLE,printAnnotationStorage:i=null}={}){var f;function r(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(h))}const o=this._transport.getRenderingIntent(e,t,i,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let h;return l.opListReadCapability||(h=Object.create(null),h.operatorListChanged=r,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(h),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>cc.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function o(){l.read().then(function({value:f,done:p}){if(p){i(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),o()},r)}const l=t.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),S(this,Ps,!1),b(this,ii,Cf).call(this),Promise.all(e)}cleanup(e=!1){S(this,Ps,!0);const t=b(this,ii,Ka).call(this,!1);return e&&t&&this._stats&&(this._stats=new WA),t}_startRenderPage(e,t){var r,o;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=i.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&b(this,ii,Ka).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i}){const{map:r,transfer:o}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},o).getReader(),f=this._intentStates.get(t);f.streamReader=h;const p=()=>{h.read().then(({value:g,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();b(this,ii,Ka).call(this,!0)}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof Ev){let r=rk;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Aa(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Lr=new WeakMap,Ps=new WeakMap,ii=new WeakSet,Ka=function(e=!1){if(b(this,ii,Cf).call(this),!c(this,Ps)||this.destroyed)return!1;if(e)return S(this,Lr,setTimeout(()=>{S(this,Lr,null),b(this,ii,Ka).call(this,!1)},ok)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),S(this,Ps,!1),!0},Cf=function(){c(this,Lr)&&(clearTimeout(c(this,Lr)),S(this,Lr,null))};var zo,fp;class mk{constructor(){x(this,zo,new Set);x(this,fp,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};c(this,fp).then(()=>{for(const r of c(this,zo))r.call(this,i)})}addEventListener(e,t){c(this,zo).add(t)}removeEventListener(e,t){c(this,zo).delete(t)}terminate(){c(this,zo).clear()}}zo=new WeakMap,fp=new WeakMap;const As={isWorkerDisabled:!1,fakeWorkerId:0};rn&&(As.isWorkerDisabled=!0,Ws.workerSrc||(Ws.workerSrc="./pdf.worker.mjs")),As.isSameOrigin=function(u,e){let t;try{if(t=new URL(u),!t.origin||t.origin==="null")return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},As.createCDNWrapper=function(u){const e=`await import("${u}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Bo,bl,Tf,xl,kf;const In=class In{constructor({name:e=null,port:t=null,verbosity:i=XC()}={}){x(this,bl);var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=c(In,Bo))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(In,Bo)||S(In,Bo,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return rn?Promise.all([is.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Qu("main","worker",e),this._messageHandler.on("ready",function(){}),b(this,bl,Tf).call(this)}_initialize(){if(As.isWorkerDisabled||c(In,xl,kf)){this._setupFakeWorker();return}let{workerSrc:e}=In;try{As.isSameOrigin(window.location.href,e)||(e=As.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Qu("main","worker",t),r=()=>{o.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),i.on("test",h=>{if(o.abort(),this.destroyed||!h){r();return}this._messageHandler=i,this._port=t,this._webWorker=t,b(this,bl,Tf).call(this)}),i.on("ready",h=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const h=new Uint8Array;i.send("test",h,[h.buffer])};l();return}catch{Tp("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){As.isWorkerDisabled||(Me("Setting up fake worker."),As.isWorkerDisabled=!0),In._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new mk;this._port=t;const i=`fake${As.fakeWorkerId++}`,r=new Qu(i+"_worker",i,t);e.setup(r,t),this._messageHandler=new Qu(i,i+"_worker",t),b(this,bl,Tf).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(In,Bo))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=c(this,Bo))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new In(e)}static get workerSrc(){if(Ws.workerSrc)return Ws.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return je(this,"_setupFakeWorkerGlobal",(async()=>c(this,xl,kf)?c(this,xl,kf):(await import(this.workerSrc)).WorkerMessageHandler)())}};Bo=new WeakMap,bl=new WeakSet,Tf=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},xl=new WeakSet,kf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},x(In,xl),x(In,Bo);let el=In;var Ls,Wi,Cl,Tl,Gi,jo,Ju;class yk{constructor(e,t,i,r,o){x(this,jo);x(this,Ls,new Map);x(this,Wi,new Map);x(this,Cl,new Map);x(this,Tl,new Map);x(this,Gi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new $E,this.fontLoader=new gT({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return je(this,"annotationStorage",new Cv)}getRenderingIntent(e,t=_r.ENABLE,i=null,r=!1){let o=ni.DISPLAY,l=_y;switch(e){case"any":o=ni.ANY;break;case"display":break;case"print":o=ni.PRINT;break;default:Me(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _r.DISABLE:o+=ni.ANNOTATIONS_DISABLE;break;case _r.ENABLE:break;case _r.ENABLE_FORMS:o+=ni.ANNOTATIONS_FORMS;break;case _r.ENABLE_STORAGE:o+=ni.ANNOTATIONS_STORAGE,l=(o&ni.PRINT&&i instanceof TE?i:this.annotationStorage).serializable;break;default:Me(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(o+=ni.OPLIST),{renderingIntent:o,cacheKey:`${o}_${l.hash}`,annotationStorageSerializable:l}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=c(this,Gi))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,Wi).values())e.push(r._destroy());c(this,Wi).clear(),c(this,Cl).clear(),c(this,Tl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Ls).clear(),this.filterFactory.destroy(),Yf.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Aa("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Lt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}Lt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),o=this._fullReader;return o.headersReady.then(()=>{var l;(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),o.onProgress=h=>{var f;(f=t.onProgress)==null||f.call(t,{loaded:h.loaded,total:h.total})}),r.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{Lt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:h}){if(h){r.close();return}Lt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new pk(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new Jm(i.message,i.code);break;case"InvalidPDFException":r=new q_(i.message);break;case"MissingPDFException":r=new wa(i.message);break;case"UnexpectedResponseException":r=new kp(i.message,i.status);break;case"UnknownErrorException":r=new Zm(i.message,i.details);break;default:Ye("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(S(this,Gi,Promise.withResolvers()),t.onPassword){const r=o=>{o instanceof Error?c(this,Gi).reject(o):c(this,Gi).resolve({password:o})};try{t.onPassword(r,i.code)}catch(o){c(this,Gi).reject(o)}}else c(this,Gi).reject(new Jm(i.message,i.code));return c(this,Gi).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;c(this,Wi).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,o])=>{var l;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in o){const _=o.error;Me(`Error during font loading: ${_}`),this.commonObjs.resolve(i,_);break}const g=p&&((l=globalThis.FontInspector)!=null&&l.enabled)?(_,A)=>globalThis.FontInspector.fontAdded(_,A):null,v=new mT(o,{disableFontFace:h,inspectFont:g});this.fontLoader.bind(v).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!f&&v.data&&(v.data=null),this.commonObjs.resolve(i,v)});break;case"CopyLocalImage":const{imageRef:w}=o;Lt(w,"The imageRef must be defined.");for(const _ of c(this,Wi).values())for(const[,A]of _.objs)if((A==null?void 0:A.ref)===w)return A.dataLen?(this.commonObjs.resolve(i,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,o,l])=>{var f;if(this.destroyed)return;const h=c(this,Wi).get(r);if(!h.objs.has(i)){if(h._intentStates.size===0){(f=l==null?void 0:l.bitmap)==null||f.close();return}switch(o){case"Image":h.objs.resolve(i,l),(l==null?void 0:l.dataLen)>$C&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(i,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Me("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=c(this,Cl).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&c(this,Tl).set(o.refStr,e);const l=new gk(t,o,this,this._params.pdfBug);return c(this,Wi).set(t,l),l});return c(this,Cl).set(t,r),r}getPageIndex(e){return r_(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return b(this,jo,Ju).call(this,"GetFieldObjects")}hasJSActions(){return b(this,jo,Ju).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return b(this,jo,Ju).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return b(this,jo,Ju).call(this,"GetOptionalContentConfig").then(t=>new OT(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,Ls).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,l;return{info:r[0],metadata:r[1]?new IT(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return c(this,Ls).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,Wi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,Ls).clear(),this.filterFactory.destroy(!0),Yf.cleanup()}}cachedPageNumber(e){if(!r_(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,Tl).get(t)??null}}Ls=new WeakMap,Wi=new WeakMap,Cl=new WeakMap,Tl=new WeakMap,Gi=new WeakMap,jo=new WeakSet,Ju=function(e,t=null){const i=c(this,Ls).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return c(this,Ls).set(e,r),r};const ff=Symbol("INITIAL_DATA");var Ai,eh,Py;class $E{constructor(){x(this,eh);x(this,Ai,Object.create(null))}get(e,t=null){if(t){const r=b(this,eh,Py).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=c(this,Ai)[e];if(!i||i.data===ff)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=c(this,Ai)[e];return!!t&&t.data!==ff}resolve(e,t=null){const i=b(this,eh,Py).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in c(this,Ai)){const{data:i}=c(this,Ai)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}S(this,Ai,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Ai)){const{data:t}=c(this,Ai)[e];t!==ff&&(yield[e,t])}}}Ai=new WeakMap,eh=new WeakSet,Py=function(e){var t;return(t=c(this,Ai))[e]||(t[e]={...Promise.withResolvers(),data:ff})};var Mr;class vk{constructor(e){x(this,Mr,null);S(this,Mr,e),this.onContinue=null}get promise(){return c(this,Mr).capability.promise}cancel(e=0){c(this,Mr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,Mr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,Mr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Mr=new WeakMap;var Dr,Uo;const po=class po{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:h,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:v=!1,pageColors:w=null}){x(this,Dr,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=v,this.pageColors=w,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new vk(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var h,f;if(this.cancelled)return;if(this._canvas){if(c(po,Uo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(po,Uo).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:o,background:l}=this.params;this.gfx=new Za(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),c(this,Dr)&&(window.cancelAnimationFrame(c(this,Dr)),S(this,Dr,null)),c(po,Uo).delete(this._canvas),this.callback(e||new Ev(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?S(this,Dr,window.requestAnimationFrame(()=>{S(this,Dr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(po,Uo).delete(this._canvas),this.callback())))}};Dr=new WeakMap,Uo=new WeakMap,x(po,Uo,new WeakSet);let Ly=po;const wk="4.4.168",Ak="19fbc8998";function o_(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function Vu(u){return Math.max(0,Math.min(255,255*u))}class a_{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Vu(e),[e,e,e]}static G_HTML([e]){const t=o_(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(Vu)}static RGB_HTML(e){return`#${e.map(o_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[Vu(1-Math.min(1,e+r)),Vu(1-Math.min(1,i+r)),Vu(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,o=1-t,l=1-i,h=Math.min(r,o,l);return["CMYK",r,o,l,h]}}class VE{static setupStorage(e,t,i,r,o){const l=r.getValue(t,{value:null});switch(i.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",h=>{r.setValue(t,{value:h.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(l.value===i.attributes.xfaOn?e.setAttribute("checked",!0):l.value===i.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",h=>{r.setValue(t,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",h=>{r.setValue(t,{value:h.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const h of i.children)h.attributes.value===l.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}e.addEventListener("input",h=>{const f=h.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:o}){const{attributes:l}=t,h=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[f,p]of Object.entries(l))if(p!=null)switch(f){case"class":p.length&&e.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!h||f!=="href"&&f!=="newWindow")&&e.setAttribute(f,p)}h&&o.addLinkAttributes(e,l.href,l.newWindow),i&&l.dataId&&this.setupStorage(e,l.dataId,t,i)}static render(e){var v,w;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,o=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:i});const h=o!=="richText",f=e.div;if(f.append(l),e.viewport){const _=`matrix(${e.viewport.transform.join(",")})`;f.style.transform=_}h&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const _=document.createTextNode(r.value);l.append(_),h&&cc.shouldBuildText(r.name)&&p.push(_)}return{textDivs:p}}const g=[[r,-1,l]];for(;g.length>0;){const[_,A,C]=g.at(-1);if(A+1===_.children.length){g.pop();continue}const T=_.children[++g.at(-1)[1]];if(T===null)continue;const{name:k}=T;if(k==="#text"){const I=document.createTextNode(T.value);p.push(I),C.append(I);continue}const L=(v=T==null?void 0:T.attributes)!=null&&v.xmlns?document.createElementNS(T.attributes.xmlns,k):document.createElement(k);if(C.append(L),T.attributes&&this.setAttributes({html:L,element:T,storage:t,intent:o,linkService:i}),((w=T.children)==null?void 0:w.length)>0)g.push([T,-1,L]);else if(T.value){const I=document.createTextNode(T.value);h&&cc.shouldBuildText(k)&&p.push(I),L.append(I)}}for(const _ of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Xh=1e3,_k=9,ga=new WeakSet;function Gs(u){return{width:u[2]-u[0],height:u[3]-u[1]}}class Ek{static create(e){switch(e.data.annotationType){case xt.LINK:return new WE(e);case xt.TEXT:return new Sk(e);case xt.WIDGET:switch(e.data.fieldType){case"Tx":return new bk(e);case"Btn":return e.data.radioButton?new XE(e):e.data.checkBox?new Ck(e):new Tk(e);case"Ch":return new kk(e);case"Sig":return new xk(e)}return new _a(e);case xt.POPUP:return new Dy(e);case xt.FREETEXT:return new ZE(e);case xt.LINE:return new Pk(e);case xt.SQUARE:return new Lk(e);case xt.CIRCLE:return new Mk(e);case xt.POLYLINE:return new eS(e);case xt.CARET:return new Ik(e);case xt.INK:return new tS(e);case xt.POLYGON:return new Dk(e);case xt.HIGHLIGHT:return new Fk(e);case xt.UNDERLINE:return new Ok(e);case xt.SQUIGGLY:return new Nk(e);case xt.STRIKEOUT:return new Hk(e);case xt.STAMP:return new nS(e);case xt.FILEATTACHMENT:return new zk(e);default:return new vt(e)}}}var $o,kl,Rl,th,My;const Dv=class Dv{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){x(this,th);x(this,$o,null);x(this,kl,!1);x(this,Rl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get hasPopupData(){return Dv._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;c(this,$o)||S(this,$o,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&b(this,th,My).call(this,t),(i=c(this,Rl))==null||i.popup.updateEdited(e)}resetEdited(){var e;c(this,$o)&&(b(this,th,My).call(this,c(this,$o).rect),(e=c(this,Rl))==null||e.popup.resetEdited(),S(this,$o,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof _a||(o.tabIndex=Xh);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.popupRef&&o.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof Dy){const{rotation:C}=t;return!t.hasOwnCanvas&&C!==0&&this.setRotation(C,o),o}const{width:h,height:f}=Gs(t.rect);if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const C=t.borderStyle.horizontalCornerRadius,T=t.borderStyle.verticalCornerRadius;if(C>0||T>0){const L=`calc(${C}px * var(--scale-factor)) / calc(${T}px * var(--scale-factor))`;l.borderRadius=L}else if(this instanceof XE){const L=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;l.borderRadius=L}switch(t.borderStyle.style){case Uu.SOLID:l.borderStyle="solid";break;case Uu.DASHED:l.borderStyle="dashed";break;case Uu.BEVELED:Me("Unimplemented border style: beveled");break;case Uu.INSET:Me("Unimplemented border style: inset");break;case Uu.UNDERLINE:l.borderBottomStyle="solid";break}const k=t.borderColor||null;k?(S(this,kl,!0),l.borderColor=de.makeHexColor(k[0]|0,k[1]|0,k[2]|0)):l.borderWidth=0}const p=de.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:g,pageHeight:v,pageX:w,pageY:_}=r.rawDims;l.left=`${100*(p[0]-w)/g}%`,l.top=`${100*(p[1]-_)/v}%`;const{rotation:A}=t;return t.hasOwnCanvas||A===0?(l.width=`${100*h/g}%`,l.height=`${100*f/v}%`):this.setRotation(A,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:l}=Gs(this.data.rect);let h,f;e%180===0?(h=100*o/i,f=100*l/r):(h=100*l/i,f=100*o/r),t.style.width=`${h}%`,t.style.height=`${f}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const o=r.detail[t],l=o[0],h=o.slice(1);r.target.style[i]=a_[`${l}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[i]:a_[`${l}_rgb`](h)})};return je(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||i[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,o]of Object.entries(t)){const l=i[r];if(l){const h={detail:{[r]:o},target:e};l(h),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,o]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,T,k,L]=e.subarray(2,6);if(r===C&&o===T&&t===k&&i===L)return}const{style:l}=this.container;let h;if(c(this,kl)){const{borderColor:C,borderWidth:T}=l;l.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const f=r-t,p=o-i,{svgFactory:g}=this,v=g.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const w=g.createElement("defs");v.append(w);const _=g.createElement("clipPath"),A=`clippath_${this.data.id}`;_.setAttribute("id",A),_.setAttribute("clipPathUnits","objectBoundingBox"),w.append(_);for(let C=2,T=e.length;C<T;C+=8){const k=e[C],L=e[C+1],I=e[C+2],O=e[C+3],z=g.createElement("rect"),B=(I-t)/f,V=(o-L)/p,q=(k-I)/f,Q=(L-O)/p;z.setAttribute("x",B),z.setAttribute("y",V),z.setAttribute("width",q),z.setAttribute("height",Q),_.append(z),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${V}" width="${q}" height="${Q}"/>`)}c(this,kl)&&(h.push("</g></svg>')"),l.backgroundImage=h.join("")),this.container.append(v),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=S(this,Rl,new Dy({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){Ye("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:l,exportValues:h}of r){if(o===-1||l===t)continue;const f=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${l}"]`);if(p&&!ga.has(p)){Me(`_getElementsByName - element not allowed: ${l}`);continue}i.push({id:l,exportValue:f,domElement:p})}return i}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==t&&ga.has(r)&&i.push({id:l,exportValue:o,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};$o=new WeakMap,kl=new WeakMap,Rl=new WeakMap,th=new WeakSet,My=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:h,pageY:f}}}}=this;i==null||i.splice(0,4,...e);const{width:p,height:g}=Gs(e);t.left=`${100*(e[0]-h)/o}%`,t.top=`${100*(l-e[3]+f)/l}%`,r===0?(t.width=`${100*p/o}%`,t.height=`${100*g/l}%`):this.setRotation(r)};let vt=Dv;var $n,uo,GE,qE;class WE extends vt{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});x(this,$n);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(b(this,$n,GE).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(b(this,$n,qE).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&b(this,$n,uo).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),b(this,$n,uo).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(i.actions)){const l=r.get(o);l&&(t[l]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),b(this,$n,uo).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),b(this,$n,uo).call(this),!this._fieldObjects){Me('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var v;r==null||r();const{fields:o,refs:l,include:h}=i,f=[];if(o.length!==0||l.length!==0){const w=new Set(l);for(const _ of o){const A=this._fieldObjects[_]||[];for(const{id:C}of A)w.add(C)}for(const _ of Object.values(this._fieldObjects))for(const A of _)w.has(A.id)===h&&f.push(A)}else for(const w of Object.values(this._fieldObjects))f.push(...w);const p=this.annotationStorage,g=[];for(const w of f){const{id:_}=w;switch(g.push(_),w.type){case"text":{const C=w.defaultValue||"";p.setValue(_,{value:C});break}case"checkbox":case"radiobutton":{const C=w.defaultValue===w.exportValues;p.setValue(_,{value:C});break}case"combobox":case"listbox":{const C=w.defaultValue||"";p.setValue(_,{value:C});break}default:continue}const A=document.querySelector(`[data-element-id="${_}"]`);if(A){if(!ga.has(A)){Me(`_bindResetFormAction - element not allowed: ${_}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}$n=new WeakSet,uo=function(){this.container.setAttribute("data-internal-link","")},GE=function(t,i,r=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,r),!1},b(this,$n,uo).call(this)},qE=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),b(this,$n,uo).call(this)};class Sk extends vt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class _a extends vt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return bn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,o){i.includes("mouse")?e.addEventListener(i,l=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(i,l=>{var h;if(i==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}o&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}}))})}_setEventListeners(e,t,i,r){var o,l,h;for(const[f,p]of i)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,f,p,r),p==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":de.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||_k,o=e.style;let l;const h=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(p/(Nm*r))||1,v=p/g;l=Math.min(r,f(v/Nm))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);l=Math.min(r,f(p/Nm))}o.fontSize=`calc(${l}px * var(--scale-factor))`,o.color=de.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class bk extends _a{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=i),o.setValue(l.id,{[r]:i})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let h=l.value||"";const f=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let p=l.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:h,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=p??h,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",p??h),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),ga.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Xh,this._setRequired(i,this.data.required),f&&(i.maxLength=f),i.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(i,"value",w.target.value,"value"),g.formattedValue=null}),i.addEventListener("resetform",w=>{const _=this.data.defaultFieldValue??"";i.value=g.userValue=_,g.formattedValue=null});let v=w=>{const{formattedValue:_}=g;_!=null&&(w.target.value=_),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",_=>{var C;if(g.focused)return;const{target:A}=_;g.userValue&&(A.value=g.userValue),g.lastCommittedValue=A.value,g.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(g.focused=!0)}),i.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const A={value(C){g.userValue=C.detail.value??"",e.setValue(t,{value:g.userValue.toString()}),C.target.value=g.userValue},formattedValue(C){const{formattedValue:T}=C.detail;g.formattedValue=T,T!=null&&C.target!==document.activeElement&&(C.target.value=T),e.setValue(t,{formattedValue:T})},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var I;const{charLimit:T}=C.detail,{target:k}=C;if(T===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",T);let L=g.userValue;!L||L.length<=T||(L=L.slice(0,T),k.value=g.userValue=L,e.setValue(t,{value:L}),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(A,_)}),i.addEventListener("keydown",_=>{var T;g.commitKey=1;let A=-1;if(_.key==="Escape"?A=0:_.key==="Enter"&&!this.data.multiLine?A=2:_.key==="Tab"&&(g.commitKey=3),A===-1)return;const{value:C}=_.target;g.lastCommittedValue!==C&&(g.lastCommittedValue=C,g.userValue=C,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:A,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const w=v;v=null,i.addEventListener("blur",_=>{var C,T;if(!g.focused||!_.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(g.focused=!1);const{value:A}=_.target;g.userValue=A,g.lastCommittedValue!==A&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:g.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),w(_)}),(o=this.data.actions)!=null&&o.Keystroke&&i.addEventListener("beforeinput",_=>{var z;g.lastCommittedValue=null;const{data:A,target:C}=_,{value:T,selectionStart:k,selectionEnd:L}=C;let I=k,O=L;switch(_.inputType){case"deleteWordBackward":{const B=T.substring(0,k).match(/\w*[^\w]*$/);B&&(I-=B[0].length);break}case"deleteWordForward":{const B=T.substring(k).match(/^[^\w]*\w*/);B&&(O+=B[0].length);break}case"deleteContentBackward":k===L&&(I-=1);break;case"deleteContentForward":k===L&&(O+=1);break}_.preventDefault(),(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,change:A||"",willCommit:!1,selStart:I,selEnd:O}})}),this._setEventListeners(i,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(v&&i.addEventListener("blur",v),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/f;i.classList.add("comb"),i.style.letterSpacing=`calc(${_}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class xk extends _a{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Ck extends _a{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ga.add(o),o.setAttribute("data-element-id",i),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=Xh,o.addEventListener("change",l=>{const{name:h,checked:f}=l.target;for(const p of this._getElementsByName(h,i)){const g=f&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}e.setValue(i,{value:f})}),o.addEventListener("resetform",l=>{const h=t.defaultFieldValue||"Off";l.target.checked=h===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const h={value(f){f.target.checked=f.detail.value!=="Off",e.setValue(i,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class XE extends _a{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,i))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(ga.add(o),o.setAttribute("data-element-id",i),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Xh,o.addEventListener("change",l=>{const{name:h,checked:f}=l.target;for(const p of this._getElementsByName(h,i))e.setValue(p.id,{value:!1});e.setValue(i,{value:f})}),o.addEventListener("resetform",l=>{const h=t.defaultFieldValue;l.target.checked=h!=null&&h===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",h=>{const f={value:p=>{const g=l===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const w=g&&v.id===i;v.domElement&&(v.domElement.checked=w),e.setValue(v.id,{value:w})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Tk extends WE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class kk extends _a{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");ga.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Xh;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const v=this.data.defaultFieldValue;for(const w of r.options)w.selected=w.value===v});for(const g of this.data.options){const v=document.createElement("option");v.textContent=g.displayValue,v.value=g.exportValue,i.value.includes(g.exportValue)&&(v.setAttribute("selected",!0),o=!1),r.append(v)}let l=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),l=()=>{g.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const h=g=>{const v=g?"value":"textContent",{options:w,multiple:_}=r;return _?Array.prototype.filter.call(w,A=>A.selected).map(A=>A[v]):w.selectedIndex===-1?null:w[w.selectedIndex][v]};let f=h(!1);const p=g=>{const v=g.target.options;return Array.prototype.map.call(v,w=>({displayValue:w.textContent,exportValue:w.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const v={value(w){l==null||l();const _=w.detail.value,A=new Set(Array.isArray(_)?_:[_]);for(const C of r.options)C.selected=A.has(C.value);e.setValue(t,{value:h(!0)}),f=h(!1)},multipleSelection(w){r.multiple=!0},remove(w){const _=r.options,A=w.detail.remove;_[A].selected=!1,r.remove(A),_.length>0&&Array.prototype.findIndex.call(_,T=>T.selected)===-1&&(_[0].selected=!0),e.setValue(t,{value:h(!0),items:p(w)}),f=h(!1)},clear(w){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),f=h(!1)},insert(w){const{index:_,displayValue:A,exportValue:C}=w.detail.insert,T=r.children[_],k=document.createElement("option");k.textContent=A,k.value=C,T?T.before(k):r.append(k),e.setValue(t,{value:h(!0),items:p(w)}),f=h(!1)},items(w){const{items:_}=w.detail;for(;r.length!==0;)r.remove(0);for(const A of _){const{displayValue:C,exportValue:T}=A,k=document.createElement("option");k.textContent=C,k.value=T,r.append(k)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:h(!0),items:p(w)}),f=h(!1)},indices(w){const _=new Set(w.detail.indices);for(const A of w.target.options)A.selected=_.has(A.index);e.setValue(t,{value:h(!0)}),f=h(!1)},editable(w){w.target.disabled=!w.detail.editable}};this._dispatchEventFromSandbox(v,g)}),r.addEventListener("input",g=>{var _;const v=h(!0),w=h(!1);e.setValue(t,{value:v}),g.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:f,change:w,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){e.setValue(t,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Dy extends vt{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:vt._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Rk({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${K_}${i}`).join(",")),this.container}}var Pl,pp,gp,Ll,Vo,dt,Ms,Wo,nh,ih,Ml,Ds,_i,Is,sh,Fs,rh,Go,qo,Qe,Rf,Iy,KE,YE,QE,JE,Pf,Lf,Fy;class Rk{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:o,contentsObj:l,richText:h,parent:f,rect:p,parentRect:g,open:v}){x(this,Qe);x(this,Pl,b(this,Qe,QE).bind(this));x(this,pp,b(this,Qe,Fy).bind(this));x(this,gp,b(this,Qe,Lf).bind(this));x(this,Ll,b(this,Qe,Pf).bind(this));x(this,Vo,null);x(this,dt,null);x(this,Ms,null);x(this,Wo,null);x(this,nh,null);x(this,ih,null);x(this,Ml,null);x(this,Ds,!1);x(this,_i,null);x(this,Is,null);x(this,sh,null);x(this,Fs,null);x(this,rh,null);x(this,Go,null);x(this,qo,!1);var w;S(this,dt,e),S(this,rh,r),S(this,Ms,l),S(this,Fs,h),S(this,ih,f),S(this,Vo,t),S(this,sh,p),S(this,Ml,g),S(this,nh,i),S(this,Wo,eE.toDateObject(o)),this.trigger=i.flatMap(_=>_.getElementsToTriggerPopup());for(const _ of this.trigger)_.addEventListener("click",c(this,Ll)),_.addEventListener("mouseenter",c(this,gp)),_.addEventListener("mouseleave",c(this,pp)),_.classList.add("popupTriggerArea");for(const _ of i)(w=_.container)==null||w.addEventListener("keydown",c(this,Pl));c(this,dt).hidden=!0,v&&b(this,Qe,Pf).call(this)}render(){if(c(this,_i))return;const e=S(this,_i,document.createElement("div"));if(e.className="popup",c(this,Vo)){const o=e.style.outlineColor=de.makeHexColor(...c(this,Vo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=de.makeHexColor(...c(this,Vo).map(h=>Math.floor(.7*(255-h)+h)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=c(this,rh),e.append(t),c(this,Wo)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),o.setAttribute("data-l10n-args",JSON.stringify({date:c(this,Wo).toLocaleDateString(),time:c(this,Wo).toLocaleTimeString()})),t.append(o)}const r=c(this,Qe,Rf);if(r)VE.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(c(this,Ms));e.append(o)}c(this,dt).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,l=r.length;o<l;++o){const h=r[o];i.append(document.createTextNode(h)),o<l-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;c(this,Go)||S(this,Go,{contentsObj:c(this,Ms),richText:c(this,Fs)}),e&&S(this,Is,null),t&&(S(this,Fs,b(this,Qe,YE).call(this,t)),S(this,Ms,null)),(i=c(this,_i))==null||i.remove(),S(this,_i,null)}resetEdited(){var e;c(this,Go)&&({contentsObj:Mn(this,Ms)._,richText:Mn(this,Fs)._}=c(this,Go),S(this,Go,null),(e=c(this,_i))==null||e.remove(),S(this,_i,null),S(this,Is,null))}forceHide(){S(this,qo,this.isVisible),c(this,qo)&&(c(this,dt).hidden=!0)}maybeShow(){c(this,qo)&&(c(this,_i)||b(this,Qe,Lf).call(this),S(this,qo,!1),c(this,dt).hidden=!1)}get isVisible(){return c(this,dt).hidden===!1}}Pl=new WeakMap,pp=new WeakMap,gp=new WeakMap,Ll=new WeakMap,Vo=new WeakMap,dt=new WeakMap,Ms=new WeakMap,Wo=new WeakMap,nh=new WeakMap,ih=new WeakMap,Ml=new WeakMap,Ds=new WeakMap,_i=new WeakMap,Is=new WeakMap,sh=new WeakMap,Fs=new WeakMap,rh=new WeakMap,Go=new WeakMap,qo=new WeakMap,Qe=new WeakSet,Rf=function(){const e=c(this,Fs),t=c(this,Ms);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Fs).html||null},Iy=function(){var e,t,i;return((i=(t=(e=c(this,Qe,Rf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},KE=function(){var e,t,i;return((i=(t=(e=c(this,Qe,Rf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},YE=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:c(this,Qe,KE),fontSize:c(this,Qe,Iy)?`calc(${c(this,Qe,Iy)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return i},QE=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Ds))&&b(this,Qe,Pf).call(this)},JE=function(){if(c(this,Is)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:o}}}=c(this,ih);let l=!!c(this,Ml),h=l?c(this,Ml):c(this,sh);for(const A of c(this,nh))if(!h||de.intersect(A.data.rect,h)!==null){h=A.data.rect,l=!0;break}const f=de.normalizeRect([h[0],e[3]-h[1]+e[1],h[2],e[3]-h[3]+e[1]]),g=l?h[2]-h[0]+5:0,v=f[0]+g,w=f[1];S(this,Is,[100*(v-r)/t,100*(w-o)/i]);const{style:_}=c(this,dt);_.left=`${c(this,Is)[0]}%`,_.top=`${c(this,Is)[1]}%`},Pf=function(){S(this,Ds,!c(this,Ds)),c(this,Ds)?(b(this,Qe,Lf).call(this),c(this,dt).addEventListener("click",c(this,Ll)),c(this,dt).addEventListener("keydown",c(this,Pl))):(b(this,Qe,Fy).call(this),c(this,dt).removeEventListener("click",c(this,Ll)),c(this,dt).removeEventListener("keydown",c(this,Pl)))},Lf=function(){c(this,_i)||this.render(),this.isVisible?c(this,Ds)&&c(this,dt).classList.add("focused"):(b(this,Qe,JE).call(this),c(this,dt).hidden=!1,c(this,dt).style.zIndex=parseInt(c(this,dt).style.zIndex)+1e3)},Fy=function(){c(this,dt).classList.remove("focused"),!(c(this,Ds)||!this.isVisible)&&(c(this,dt).hidden=!0,c(this,dt).style.zIndex=parseInt(c(this,dt).style.zIndex)-1e3)};class ZE extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=He.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var oh;class Pk extends vt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,oh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:r}=Gs(t.rect),o=this.svgFactory.create(i,r,!0),l=S(this,oh,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,oh)}addHighlightArea(){this.container.classList.add("highlightArea")}}oh=new WeakMap;var ah;class Lk extends vt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,ah,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:r}=Gs(t.rect),o=this.svgFactory.create(i,r,!0),l=t.borderStyle.width,h=S(this,ah,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",l/2),h.setAttribute("y",l/2),h.setAttribute("width",i-l),h.setAttribute("height",r-l),h.setAttribute("stroke-width",l||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,ah)}addHighlightArea(){this.container.classList.add("highlightArea")}}ah=new WeakMap;var lh;class Mk extends vt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,lh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:r}=Gs(t.rect),o=this.svgFactory.create(i,r,!0),l=t.borderStyle.width,h=S(this,lh,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",i/2),h.setAttribute("cy",r/2),h.setAttribute("rx",i/2-l/2),h.setAttribute("ry",r/2-l/2),h.setAttribute("stroke-width",l||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,lh)}addHighlightArea(){this.container.classList.add("highlightArea")}}lh=new WeakMap;var uh;class eS extends vt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,uh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:o}}=this;if(!i)return this.container;const{width:l,height:h}=Gs(t),f=this.svgFactory.create(l,h,!0);let p=[];for(let v=0,w=i.length;v<w;v+=2){const _=i[v]-t[0],A=t[3]-i[v+1];p.push(`${_},${A}`)}p=p.join(" ");const g=S(this,uh,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),f.append(g),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,uh)}addHighlightArea(){this.container.classList.add("highlightArea")}}uh=new WeakMap;class Dk extends eS{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ik extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ch;class tS extends vt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,ch,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=He.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:i,borderStyle:r,popupRef:o}}=this,{width:l,height:h}=Gs(t),f=this.svgFactory.create(l,h,!0);for(const p of i){let g=[];for(let w=0,_=p.length;w<_;w+=2){const A=p[w]-t[0],C=t[3]-p[w+1];g.push(`${A},${C}`)}g=g.join(" ");const v=this.svgFactory.createElement(this.svgElementName);c(this,ch).push(v),v.setAttribute("points",g),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),f.append(v)}return this.container.append(f),this.container}getElementsToTriggerPopup(){return c(this,ch)}addHighlightArea(){this.container.classList.add("highlightArea")}}ch=new WeakMap;class Fk extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ok extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Nk extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Hk extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class nS extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var hh,dh,Oy;class zk extends vt{constructor(t){var r;super(t,{isRenderable:!0});x(this,dh);x(this,hh,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",b(this,dh,Oy).bind(this)),S(this,hh,r);const{isMac:o}=bn.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&b(this,dh,Oy).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return c(this,hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}hh=new WeakMap,dh=new WeakSet,Oy=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var fh,Xo,Dl,ya,iS,Ny,A_;let Bk=(A_=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:o,viewport:l}){x(this,ya);x(this,fh,null);x(this,Xo,null);x(this,Dl,new Map);this.div=e,S(this,fh,t),S(this,Xo,i),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var l;const{annotations:t}=e,i=this.div;fa(i,this.viewport);const r=new Map,o={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new _v,annotationStorage:e.annotationStorage||new Cv,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const h of t){if(h.noHTML)continue;const f=h.annotationType===xt.POPUP;if(f){const v=r.get(h.id);if(!v)continue;o.elements=v}else{const{width:v,height:w}=Gs(h.rect);if(v<=0||w<=0)continue}o.data=h;const p=Ek.create(o);if(!p.isRenderable)continue;if(!f&&h.popupRef){const v=r.get(h.popupRef);v?v.push(p):r.set(h.popupRef,[p])}const g=p.render();h.hidden&&(g.style.visibility="hidden"),b(this,ya,iS).call(this,g,h.id),p.annotationEditorType>0&&(c(this,Dl).set(p.data.id,p),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(p))}b(this,ya,Ny).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,fa(t,{rotation:e.rotation}),b(this,ya,Ny).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,Dl).values())}getEditableAnnotation(e){return c(this,Dl).get(e)}},fh=new WeakMap,Xo=new WeakMap,Dl=new WeakMap,ya=new WeakSet,iS=function(e,t){var r;const i=e.firstChild||e;i.id=`${K_}${t}`,this.div.append(e),(r=c(this,fh))==null||r.moveElementInDOM(this.div,e,i,!1)},Ny=function(){if(!c(this,Xo))return;const e=this.div;for(const[t,i]of c(this,Xo)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):r.append(i)}c(this,Xo).clear()},A_);const pf=/\r\n?|\n/g;var ph,gh,mh,yh,vh,Ei,Hn,wh,zn,Il,_t,sS,rS,oS,Mf,Xs,Df,If,aS,zy,lS;const nt=class nt extends Xe{constructor(t){super({...t,name:"freeTextEditor"});x(this,_t);x(this,ph,this.editorDivBlur.bind(this));x(this,gh,this.editorDivFocus.bind(this));x(this,mh,this.editorDivInput.bind(this));x(this,yh,this.editorDivKeydown.bind(this));x(this,vh,this.editorDivPaste.bind(this));x(this,Ei);x(this,Hn,"");x(this,wh,`${this.id}-editor`);x(this,zn);x(this,Il,null);S(this,Ei,t.color||nt._defaultColor||Xe._defaultLineColor),S(this,zn,t.fontSize||nt._defaultFontSize)}static get _keyboardManager(){const t=nt.prototype,i=l=>l.isEmpty(),r=pa.TRANSLATE_SMALL,o=pa.TRANSLATE_BIG;return je(this,"_keyboardManager",new Gh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:i}]]))}static initialize(t,i){Xe.initialize(t,i,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case Ce.FREETEXT_SIZE:nt._defaultFontSize=i;break;case Ce.FREETEXT_COLOR:nt._defaultColor=i;break}}updateParams(t,i){switch(t){case Ce.FREETEXT_SIZE:b(this,_t,sS).call(this,i);break;case Ce.FREETEXT_COLOR:b(this,_t,rS).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ce.FREETEXT_SIZE,nt._defaultFontSize],[Ce.FREETEXT_COLOR,nt._defaultColor||Xe._defaultLineColor]]}get propertiesToUpdate(){return[[Ce.FREETEXT_SIZE,c(this,zn)],[Ce.FREETEXT_COLOR,c(this,Ei)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-nt._internalPadding*t,-(nt._internalPadding+c(this,zn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(He.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",c(this,yh),{signal:t}),this.editorDiv.addEventListener("focus",c(this,gh),{signal:t}),this.editorDiv.addEventListener("blur",c(this,ph),{signal:t}),this.editorDiv.addEventListener("input",c(this,mh),{signal:t}),this.editorDiv.addEventListener("paste",c(this,vh),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,wh)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,yh)),this.editorDiv.removeEventListener("focus",c(this,gh)),this.editorDiv.removeEventListener("blur",c(this,ph)),this.editorDiv.removeEventListener("input",c(this,mh)),this.editorDiv.removeEventListener("paste",c(this,vh)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,Hn),i=S(this,Hn,b(this,_t,oS).call(this).trimEnd());if(t===i)return;const r=o=>{if(S(this,Hn,o),!o){this.remove();return}b(this,_t,If).call(this),this._uiManager.rebuild(this),b(this,_t,Mf).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),b(this,_t,Mf).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){nt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,wh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Xe._l10nPromise.get("pdfjs-free-text-default-content").then(o=>{var l;return(l=this.editorDiv)==null?void 0:l.setAttribute("default-content",o)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,zn)}px * var(--scale-factor))`,r.color=c(this,Ei),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),qf(this,this.div,["dblclick","keydown"]),this.width){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:h}=c(this,Il);let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[g,v]=this.pageDimensions,[w,_]=this.pageTranslation;let A,C;switch(this.rotation){case 0:A=t+(h[0]-w)/g,C=i+this.height-(h[1]-_)/v;break;case 90:A=t+(h[0]-w)/g,C=i-(h[1]-_)/v,[f,p]=[p,-f];break;case 180:A=t-this.width+(h[0]-w)/g,C=i-(h[1]-_)/v,[f,p]=[-f,-p];break;case 270:A=t+(h[0]-w-this.height*v)/g,C=i+(h[1]-_-this.width*g)/v,[f,p]=[-p,f];break}this.setAt(A*o,C*l,f,p)}else this.setAt(t*o,i*l,this.width*o,this.height*l);b(this,_t,If).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var A,C,T;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=b(A=nt,Xs,zy).call(A,i.getData("text")||"").replaceAll(pf,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const h=l.getRangeAt(0);if(!o.includes(`
`)){h.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:f,startOffset:p}=h,g=[],v=[];if(f.nodeType===Node.TEXT_NODE){const k=f.parentElement;if(v.push(f.nodeValue.slice(p).replaceAll(pf,"")),k!==this.editorDiv){let L=g;for(const I of this.editorDiv.childNodes){if(I===k){L=v;continue}L.push(b(C=nt,Xs,Df).call(C,I))}}g.push(f.nodeValue.slice(0,p).replaceAll(pf,""))}else if(f===this.editorDiv){let k=g,L=0;for(const I of this.editorDiv.childNodes)L++===p&&(k=v),k.push(b(T=nt,Xs,Df).call(T,I))}S(this,Hn,`${g.join(`
`)}${o}${v.join(`
`)}`),b(this,_t,If).call(this);const w=new Range;let _=g.reduce((k,L)=>k+L.length,0);for(const{firstChild:k}of this.editorDiv.childNodes)if(k.nodeType===Node.TEXT_NODE){const L=k.nodeValue.length;if(_<=L){w.setStart(k,_),w.setEnd(k,_);break}_-=L}l.removeAllRanges(),l.addRange(w)}get contentDiv(){return this.editorDiv}static deserialize(t,i,r){var h;let o=null;if(t instanceof ZE){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:g,rotation:v,id:w},textContent:_,textPosition:A,parent:{page:{pageNumber:C}}}=t;if(!_||_.length===0)return null;o=t={annotationType:He.FREETEXT,color:Array.from(p),fontSize:f,value:_.join(`
`),position:A,pageIndex:C-1,rect:g.slice(0),rotation:v,id:w,deleted:!1}}const l=super.deserialize(t,i,r);return S(l,zn,t.fontSize),S(l,Ei,de.makeHexColor(...t.color)),S(l,Hn,b(h=nt,Xs,zy).call(h,t.value)),l.annotationElementId=t.id||null,S(l,Il,o),l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=nt._internalPadding*this.parentScale,r=this.getRect(i,i),o=Xe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Ei)),l={annotationType:He.FREETEXT,color:o,fontSize:c(this,zn),value:b(this,_t,aS).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!b(this,_t,lS).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${c(this,zn)}px * var(--scale-factor))`,r.color=c(this,Ei),i.replaceChildren();for(const l of c(this,Hn).split(`
`)){const h=document.createElement("div");h.append(l?document.createTextNode(l):document.createElement("br")),i.append(h)}const o=nt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:c(this,Hn)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};ph=new WeakMap,gh=new WeakMap,mh=new WeakMap,yh=new WeakMap,vh=new WeakMap,Ei=new WeakMap,Hn=new WeakMap,wh=new WeakMap,zn=new WeakMap,Il=new WeakMap,_t=new WeakSet,sS=function(t){const i=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-c(this,zn))*this.parentScale),S(this,zn,o),b(this,_t,Mf).call(this)},r=c(this,zn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},rS=function(t){const i=o=>{S(this,Ei,this.editorDiv.style.color=o)},r=c(this,Ei);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},oS=function(){var i;const t=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)t.push(b(i=nt,Xs,Df).call(i,r));return t.join(`
`)},Mf=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,h=l.style.display,f=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),r=l.getBoundingClientRect(),l.remove(),l.style.display=h,l.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},Xs=new WeakSet,Df=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(pf,"")},If=function(){if(this.editorDiv.replaceChildren(),!!c(this,Hn))for(const t of c(this,Hn).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},aS=function(){return c(this,Hn).replaceAll(" "," ")},zy=function(t){return t.replaceAll(" "," ")},lS=function(t){const{value:i,fontSize:r,color:o,pageIndex:l}=c(this,Il);return this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((h,f)=>h!==o[f])||t.pageIndex!==l},x(nt,Xs),Re(nt,"_freeTextDefaultContent",""),Re(nt,"_internalPadding",0),Re(nt,"_defaultColor",null),Re(nt,"_defaultFontSize",10),Re(nt,"_type","freetext"),Re(nt,"_editorType",He.FREETEXT);let Hy=nt;var Ah,Ir,Si,fn,uS,Ff,cS,hS,jy;class By{constructor(e,t=0,i=0,r=!0){x(this,fn);x(this,Ah);x(this,Ir,[]);x(this,Si,[]);let o=1/0,l=-1/0,h=1/0,f=-1/0;const g=10**-4;for(const{x:k,y:L,width:I,height:O}of e){const z=Math.floor((k-t)/g)*g,B=Math.ceil((k+I+t)/g)*g,V=Math.floor((L-t)/g)*g,q=Math.ceil((L+O+t)/g)*g,Q=[z,V,q,!0],se=[B,V,q,!1];c(this,Ir).push(Q,se),o=Math.min(o,z),l=Math.max(l,B),h=Math.min(h,V),f=Math.max(f,q)}const v=l-o+2*i,w=f-h+2*i,_=o-i,A=h-i,C=c(this,Ir).at(r?-1:-2),T=[C[0],C[2]];for(const k of c(this,Ir)){const[L,I,O]=k;k[0]=(L-_)/v,k[1]=(I-A)/w,k[2]=(O-A)/w}S(this,Ah,{x:_,y:A,width:v,height:w,lastPoint:T})}getOutlines(){c(this,Ir).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of c(this,Ir))t[3]?(e.push(...b(this,fn,jy).call(this,t)),b(this,fn,cS).call(this,t)):(b(this,fn,hS).call(this,t),e.push(...b(this,fn,jy).call(this,t)));return b(this,fn,uS).call(this,e)}}Ah=new WeakMap,Ir=new WeakMap,Si=new WeakMap,fn=new WeakSet,uS=function(e){const t=[],i=new Set;for(const l of e){const[h,f,p]=l;t.push([h,f,l],[h,p,l])}t.sort((l,h)=>l[1]-h[1]||l[0]-h[0]);for(let l=0,h=t.length;l<h;l+=2){const f=t[l][2],p=t[l+1][2];f.push(p),p.push(f),i.add(f),i.add(p)}const r=[];let o;for(;i.size>0;){const l=i.values().next().value;let[h,f,p,g,v]=l;i.delete(l);let w=h,_=f;for(o=[h,p],r.push(o);;){let A;if(i.has(g))A=g;else if(i.has(v))A=v;else break;i.delete(A),[h,f,p,g,v]=A,w!==h&&(o.push(w,_,h,_===f?f:p),w=h),_=_===f?p:f}o.push(w,_)}return new jk(r,c(this,Ah))},Ff=function(e){const t=c(this,Si);let i=0,r=t.length-1;for(;i<=r;){const o=i+r>>1,l=t[o][0];if(l===e)return o;l<e?i=o+1:r=o-1}return r+1},cS=function([,e,t]){const i=b(this,fn,Ff).call(this,e);c(this,Si).splice(i,0,[e,t])},hS=function([,e,t]){const i=b(this,fn,Ff).call(this,e);for(let r=i;r<c(this,Si).length;r++){const[o,l]=c(this,Si)[r];if(o!==e)break;if(o===e&&l===t){c(this,Si).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[o,l]=c(this,Si)[r];if(o!==e)break;if(o===e&&l===t){c(this,Si).splice(r,1);return}}},jy=function(e){const[t,i,r]=e,o=[[t,i,r]],l=b(this,fn,Ff).call(this,r);for(let h=0;h<l;h++){const[f,p]=c(this,Si)[h];for(let g=0,v=o.length;g<v;g++){const[,w,_]=o[g];if(!(p<=w||_<=f)){if(w>=f){if(_>p)o[g][1]=p;else{if(v===1)return[];o.splice(g,1),g--,v--}continue}o[g][2]=f,_>p&&o.push([t,p,_])}}}return o};class dS{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof $y}}var _h,Fl;class jk extends dS{constructor(t,i){super();x(this,_h);x(this,Fl);S(this,Fl,t),S(this,_h,i)}toSVGPath(){const t=[];for(const i of c(this,Fl)){let[r,o]=i;t.push(`M${r} ${o}`);for(let l=2;l<i.length;l+=2){const h=i[l],f=i[l+1];h===r?(t.push(`V${f}`),o=f):f===o&&(t.push(`H${h}`),r=h)}t.push("Z")}return t.join(" ")}serialize([t,i,r,o],l){const h=[],f=r-t,p=o-i;for(const g of c(this,Fl)){const v=new Array(g.length);for(let w=0;w<g.length;w+=2)v[w]=t+g[w]*f,v[w+1]=o-g[w+1]*p;h.push(v)}return h}get box(){return c(this,_h)}}_h=new WeakMap,Fl=new WeakMap;var qi,Os,Ol,Nl,Xi,Ne,Ko,Yo,Eh,Sh,Hl,zl,Fr,bh,mp,yp,xh,Uy;const vs=class vs{constructor({x:e,y:t},i,r,o,l,h=0){x(this,xh);x(this,qi);x(this,Os,[]);x(this,Ol);x(this,Nl);x(this,Xi,[]);x(this,Ne,new Float64Array(18));x(this,Ko);x(this,Yo);x(this,Eh);x(this,Sh);x(this,Hl);x(this,zl);x(this,Fr,[]);S(this,qi,i),S(this,zl,o*r),S(this,Nl,l),c(this,Ne).set([NaN,NaN,NaN,NaN,e,t],6),S(this,Ol,h),S(this,Sh,c(vs,bh)*r),S(this,Eh,c(vs,yp)*r),S(this,Hl,r),c(this,Fr).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,Ne)[8])}add({x:e,y:t}){var Q;S(this,Ko,e),S(this,Yo,t);const[i,r,o,l]=c(this,qi);let[h,f,p,g]=c(this,Ne).subarray(8,12);const v=e-p,w=t-g,_=Math.hypot(v,w);if(_<c(this,Eh))return!1;const A=_-c(this,Sh),C=A/_,T=C*v,k=C*w;let L=h,I=f;h=p,f=g,p+=T,g+=k,(Q=c(this,Fr))==null||Q.push(e,t);const O=-k/A,z=T/A,B=O*c(this,zl),V=z*c(this,zl);return c(this,Ne).set(c(this,Ne).subarray(2,8),0),c(this,Ne).set([p+B,g+V],4),c(this,Ne).set(c(this,Ne).subarray(14,18),12),c(this,Ne).set([p-B,g-V],16),isNaN(c(this,Ne)[6])?(c(this,Xi).length===0&&(c(this,Ne).set([h+B,f+V],2),c(this,Xi).push(NaN,NaN,NaN,NaN,(h+B-i)/o,(f+V-r)/l),c(this,Ne).set([h-B,f-V],14),c(this,Os).push(NaN,NaN,NaN,NaN,(h-B-i)/o,(f-V-r)/l)),c(this,Ne).set([L,I,h,f,p,g],6),!this.isEmpty()):(c(this,Ne).set([L,I,h,f,p,g],6),Math.abs(Math.atan2(I-f,L-h)-Math.atan2(k,T))<Math.PI/2?([h,f,p,g]=c(this,Ne).subarray(2,6),c(this,Xi).push(NaN,NaN,NaN,NaN,((h+p)/2-i)/o,((f+g)/2-r)/l),[h,f,L,I]=c(this,Ne).subarray(14,18),c(this,Os).push(NaN,NaN,NaN,NaN,((L+h)/2-i)/o,((I+f)/2-r)/l),!0):([L,I,h,f,p,g]=c(this,Ne).subarray(0,6),c(this,Xi).push(((L+5*h)/6-i)/o,((I+5*f)/6-r)/l,((5*h+p)/6-i)/o,((5*f+g)/6-r)/l,((h+p)/2-i)/o,((f+g)/2-r)/l),[p,g,h,f,L,I]=c(this,Ne).subarray(12,18),c(this,Os).push(((L+5*h)/6-i)/o,((I+5*f)/6-r)/l,((5*h+p)/6-i)/o,((5*f+g)/6-r)/l,((h+p)/2-i)/o,((f+g)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,Xi),t=c(this,Os),i=c(this,Ne).subarray(4,6),r=c(this,Ne).subarray(16,18),[o,l,h,f]=c(this,qi),[p,g,v,w]=b(this,xh,Uy).call(this);if(isNaN(c(this,Ne)[6])&&!this.isEmpty())return`M${(c(this,Ne)[2]-o)/h} ${(c(this,Ne)[3]-l)/f} L${(c(this,Ne)[4]-o)/h} ${(c(this,Ne)[5]-l)/f} L${p} ${g} L${v} ${w} L${(c(this,Ne)[16]-o)/h} ${(c(this,Ne)[17]-l)/f} L${(c(this,Ne)[14]-o)/h} ${(c(this,Ne)[15]-l)/f} Z`;const _=[];_.push(`M${e[4]} ${e[5]}`);for(let A=6;A<e.length;A+=6)isNaN(e[A])?_.push(`L${e[A+4]} ${e[A+5]}`):_.push(`C${e[A]} ${e[A+1]} ${e[A+2]} ${e[A+3]} ${e[A+4]} ${e[A+5]}`);_.push(`L${(i[0]-o)/h} ${(i[1]-l)/f} L${p} ${g} L${v} ${w} L${(r[0]-o)/h} ${(r[1]-l)/f}`);for(let A=t.length-6;A>=6;A-=6)isNaN(t[A])?_.push(`L${t[A+4]} ${t[A+5]}`):_.push(`C${t[A]} ${t[A+1]} ${t[A+2]} ${t[A+3]} ${t[A+4]} ${t[A+5]}`);return _.push(`L${t[4]} ${t[5]} Z`),_.join(" ")}getOutlines(){var k;const e=c(this,Xi),t=c(this,Os),i=c(this,Ne),r=i.subarray(4,6),o=i.subarray(16,18),[l,h,f,p]=c(this,qi),g=new Float64Array((((k=c(this,Fr))==null?void 0:k.length)??0)+2);for(let L=0,I=g.length-2;L<I;L+=2)g[L]=(c(this,Fr)[L]-l)/f,g[L+1]=(c(this,Fr)[L+1]-h)/p;g[g.length-2]=(c(this,Ko)-l)/f,g[g.length-1]=(c(this,Yo)-h)/p;const[v,w,_,A]=b(this,xh,Uy).call(this);if(isNaN(i[6])&&!this.isEmpty()){const L=new Float64Array(36);return L.set([NaN,NaN,NaN,NaN,(i[2]-l)/f,(i[3]-h)/p,NaN,NaN,NaN,NaN,(i[4]-l)/f,(i[5]-h)/p,NaN,NaN,NaN,NaN,v,w,NaN,NaN,NaN,NaN,_,A,NaN,NaN,NaN,NaN,(i[16]-l)/f,(i[17]-h)/p,NaN,NaN,NaN,NaN,(i[14]-l)/f,(i[15]-h)/p],0),new $y(L,g,c(this,qi),c(this,Hl),c(this,Ol),c(this,Nl))}const C=new Float64Array(c(this,Xi).length+24+c(this,Os).length);let T=e.length;for(let L=0;L<T;L+=2){if(isNaN(e[L])){C[L]=C[L+1]=NaN;continue}C[L]=e[L],C[L+1]=e[L+1]}C.set([NaN,NaN,NaN,NaN,(r[0]-l)/f,(r[1]-h)/p,NaN,NaN,NaN,NaN,v,w,NaN,NaN,NaN,NaN,_,A,NaN,NaN,NaN,NaN,(o[0]-l)/f,(o[1]-h)/p],T),T+=24;for(let L=t.length-6;L>=6;L-=6)for(let I=0;I<6;I+=2){if(isNaN(t[L+I])){C[T]=C[T+1]=NaN,T+=2;continue}C[T]=t[L+I],C[T+1]=t[L+I+1],T+=2}return C.set([NaN,NaN,NaN,NaN,t[4],t[5]],T),new $y(C,g,c(this,qi),c(this,Hl),c(this,Ol),c(this,Nl))}};qi=new WeakMap,Os=new WeakMap,Ol=new WeakMap,Nl=new WeakMap,Xi=new WeakMap,Ne=new WeakMap,Ko=new WeakMap,Yo=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,Hl=new WeakMap,zl=new WeakMap,Fr=new WeakMap,bh=new WeakMap,mp=new WeakMap,yp=new WeakMap,xh=new WeakSet,Uy=function(){const e=c(this,Ne).subarray(4,6),t=c(this,Ne).subarray(16,18),[i,r,o,l]=c(this,qi);return[(c(this,Ko)+(e[0]-t[0])/2-i)/o,(c(this,Yo)+(e[1]-t[1])/2-r)/l,(c(this,Ko)+(t[0]-e[0])/2-i)/o,(c(this,Yo)+(t[1]-e[1])/2-r)/l]},x(vs,bh,8),x(vs,mp,2),x(vs,yp,c(vs,bh)+c(vs,mp));let Qf=vs;var Bl,Qo,Ns,Ch,Bn,Th,mt,xn,Zu,ec,fS;class $y extends dS{constructor(t,i,r,o,l,h){super();x(this,xn);x(this,Bl);x(this,Qo,null);x(this,Ns);x(this,Ch);x(this,Bn);x(this,Th);x(this,mt);S(this,mt,t),S(this,Bn,i),S(this,Bl,r),S(this,Th,o),S(this,Ns,l),S(this,Ch,h),b(this,xn,fS).call(this,h);const{x:f,y:p,width:g,height:v}=c(this,Qo);for(let w=0,_=t.length;w<_;w+=2)t[w]=(t[w]-f)/g,t[w+1]=(t[w+1]-p)/v;for(let w=0,_=i.length;w<_;w+=2)i[w]=(i[w]-f)/g,i[w+1]=(i[w+1]-p)/v}toSVGPath(){const t=[`M${c(this,mt)[4]} ${c(this,mt)[5]}`];for(let i=6,r=c(this,mt).length;i<r;i+=6){if(isNaN(c(this,mt)[i])){t.push(`L${c(this,mt)[i+4]} ${c(this,mt)[i+5]}`);continue}t.push(`C${c(this,mt)[i]} ${c(this,mt)[i+1]} ${c(this,mt)[i+2]} ${c(this,mt)[i+3]} ${c(this,mt)[i+4]} ${c(this,mt)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,o],l){const h=r-t,f=o-i;let p,g;switch(l){case 0:p=b(this,xn,Zu).call(this,c(this,mt),t,o,h,-f),g=b(this,xn,Zu).call(this,c(this,Bn),t,o,h,-f);break;case 90:p=b(this,xn,ec).call(this,c(this,mt),t,i,h,f),g=b(this,xn,ec).call(this,c(this,Bn),t,i,h,f);break;case 180:p=b(this,xn,Zu).call(this,c(this,mt),r,i,-h,f),g=b(this,xn,Zu).call(this,c(this,Bn),r,i,-h,f);break;case 270:p=b(this,xn,ec).call(this,c(this,mt),r,o,-h,-f),g=b(this,xn,ec).call(this,c(this,Bn),r,o,-h,-f);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return c(this,Qo)}getNewOutline(t,i){const{x:r,y:o,width:l,height:h}=c(this,Qo),[f,p,g,v]=c(this,Bl),w=l*g,_=h*v,A=r*g+f,C=o*v+p,T=new Qf({x:c(this,Bn)[0]*w+A,y:c(this,Bn)[1]*_+C},c(this,Bl),c(this,Th),t,c(this,Ch),i??c(this,Ns));for(let k=2;k<c(this,Bn).length;k+=2)T.add({x:c(this,Bn)[k]*w+A,y:c(this,Bn)[k+1]*_+C});return T.getOutlines()}}Bl=new WeakMap,Qo=new WeakMap,Ns=new WeakMap,Ch=new WeakMap,Bn=new WeakMap,Th=new WeakMap,mt=new WeakMap,xn=new WeakSet,Zu=function(t,i,r,o,l){const h=new Float64Array(t.length);for(let f=0,p=t.length;f<p;f+=2)h[f]=i+t[f]*o,h[f+1]=r+t[f+1]*l;return h},ec=function(t,i,r,o,l){const h=new Float64Array(t.length);for(let f=0,p=t.length;f<p;f+=2)h[f]=i+t[f+1]*o,h[f+1]=r+t[f]*l;return h},fS=function(t){const i=c(this,mt);let r=i[4],o=i[5],l=r,h=o,f=r,p=o,g=r,v=o;const w=t?Math.max:Math.min;for(let k=6,L=i.length;k<L;k+=6){if(isNaN(i[k]))l=Math.min(l,i[k+4]),h=Math.min(h,i[k+5]),f=Math.max(f,i[k+4]),p=Math.max(p,i[k+5]),v<i[k+5]?(g=i[k+4],v=i[k+5]):v===i[k+5]&&(g=w(g,i[k+4]));else{const I=de.bezierBoundingBox(r,o,...i.slice(k,k+6));l=Math.min(l,I[0]),h=Math.min(h,I[1]),f=Math.max(f,I[2]),p=Math.max(p,I[3]),v<I[3]?(g=I[2],v=I[3]):v===I[3]&&(g=w(g,I[2]))}r=i[k+4],o=i[k+5]}const _=l-c(this,Ns),A=h-c(this,Ns),C=f-l+2*c(this,Ns),T=p-h+2*c(this,Ns);S(this,Qo,{x:_,y:A,width:C,height:T,lastPoint:[g,v]})};var kh,Rh,bi,Jo,jl,Tt,Ph,Ul,Lh,Mh,xi,$l,et,Vy,Wy,pS,co,gS,Ar;const ws=class ws{constructor({editor:e=null,uiManager:t=null}){x(this,et);x(this,kh,b(this,et,pS).bind(this));x(this,Rh,b(this,et,gS).bind(this));x(this,bi,null);x(this,Jo,null);x(this,jl);x(this,Tt,null);x(this,Ph,!1);x(this,Ul,!1);x(this,Lh,null);x(this,Mh);x(this,xi,null);x(this,$l);var i;e?(S(this,Ul,!1),S(this,$l,Ce.HIGHLIGHT_COLOR),S(this,Lh,e)):(S(this,Ul,!0),S(this,$l,Ce.HIGHLIGHT_DEFAULT_COLOR)),S(this,xi,(e==null?void 0:e._uiManager)||t),S(this,Mh,c(this,xi)._eventBus),S(this,jl,(e==null?void 0:e.color)||((i=c(this,xi))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return je(this,"_keyboardManager",new Gh([[["Escape","mac+Escape"],ws.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ws.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ws.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ws.prototype._moveToPrevious],[["Home","mac+Home"],ws.prototype._moveToBeginning],[["End","mac+End"],ws.prototype._moveToEnd]]))}renderButton(){const e=S(this,bi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,xi)._signal;e.addEventListener("click",b(this,et,co).bind(this),{signal:t}),e.addEventListener("keydown",c(this,kh),{signal:t});const i=S(this,Jo,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=c(this,jl),e.append(i),e}renderMainDropdown(){const e=S(this,Tt,b(this,et,Vy).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,bi)){b(this,et,co).call(this,e);return}const t=e.target.getAttribute("data-color");t&&b(this,et,Wy).call(this,t,e)}_moveToNext(e){var t,i;if(!c(this,et,Ar)){b(this,et,co).call(this,e);return}if(e.target===c(this,bi)){(t=c(this,Tt).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=c(this,Tt))==null?void 0:t.firstChild)||e.target===c(this,bi)){c(this,et,Ar)&&this._hideDropdownFromKeyboard();return}c(this,et,Ar)||b(this,et,co).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!c(this,et,Ar)){b(this,et,co).call(this,e);return}(t=c(this,Tt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,et,Ar)){b(this,et,co).call(this,e);return}(t=c(this,Tt).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,Tt))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,Rh))}_hideDropdownFromKeyboard(){var e;if(!c(this,Ul)){if(!c(this,et,Ar)){(e=c(this,Lh))==null||e.unselect();return}this.hideDropdown(),c(this,bi).focus({preventScroll:!0,focusVisible:c(this,Ph)})}}updateColor(e){if(c(this,Jo)&&(c(this,Jo).style.backgroundColor=e),!c(this,Tt))return;const t=c(this,xi).highlightColors.values();for(const i of c(this,Tt).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,bi))==null||e.remove(),S(this,bi,null),S(this,Jo,null),(t=c(this,Tt))==null||t.remove(),S(this,Tt,null)}};kh=new WeakMap,Rh=new WeakMap,bi=new WeakMap,Jo=new WeakMap,jl=new WeakMap,Tt=new WeakMap,Ph=new WeakMap,Ul=new WeakMap,Lh=new WeakMap,Mh=new WeakMap,xi=new WeakMap,$l=new WeakMap,et=new WeakSet,Vy=function(){const e=document.createElement("div"),t=c(this,xi)._signal;e.addEventListener("contextmenu",Tn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of c(this,xi).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=i,o.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.setAttribute("aria-selected",r===c(this,jl)),o.addEventListener("click",b(this,et,Wy).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",c(this,kh),{signal:t}),e},Wy=function(e,t){t.stopPropagation(),c(this,Mh).dispatch("switchannotationeditorparams",{source:this,type:c(this,$l),value:e})},pS=function(e){ws._keyboardManager.exec(this,e)},co=function(e){if(c(this,et,Ar)){this.hideDropdown();return}if(S(this,Ph,e.detail===0),window.addEventListener("pointerdown",c(this,Rh),{signal:c(this,xi)._signal}),c(this,Tt)){c(this,Tt).classList.remove("hidden");return}const t=S(this,Tt,b(this,et,Vy).call(this));c(this,bi).append(t)},gS=function(e){var t;(t=c(this,Tt))!=null&&t.contains(e.target)||this.hideDropdown()},Ar=function(){return c(this,Tt)&&!c(this,Tt).classList.contains("hidden")};let Jf=ws;var Vl,Dh,Or,Zo,Wl,ei,Ih,Fh,ea,Ci,un,jn,vp,Gl,ta,kt,ql,Ki,Oh,Ie,Gy,qy,mS,yS,vS,Xy,tc,si,Ya,wS,Of,nc,AS,_S,ES,SS;const We=class We extends Xe{constructor(t){super({...t,name:"highlightEditor"});x(this,Ie);x(this,Vl,null);x(this,Dh,0);x(this,Or);x(this,Zo,null);x(this,Wl,null);x(this,ei,null);x(this,Ih,null);x(this,Fh,0);x(this,ea,null);x(this,Ci,null);x(this,un,null);x(this,jn,!1);x(this,vp,b(this,Ie,wS).bind(this));x(this,Gl,null);x(this,ta);x(this,kt,null);x(this,ql,"");x(this,Ki);x(this,Oh,"");this.color=t.color||We._defaultColor,S(this,Ki,t.thickness||We._defaultThickness),S(this,ta,t.opacity||We._defaultOpacity),S(this,Or,t.boxes||null),S(this,Oh,t.methodOfCreation||""),S(this,ql,t.text||""),this._isDraggable=!1,t.highlightId>-1?(S(this,jn,!0),b(this,Ie,qy).call(this,t),b(this,Ie,tc).call(this)):(S(this,Vl,t.anchorNode),S(this,Dh,t.anchorOffset),S(this,Ih,t.focusNode),S(this,Fh,t.focusOffset),b(this,Ie,Gy).call(this),b(this,Ie,tc).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=We.prototype;return je(this,"_keyboardManager",new Gh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,jn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,Ki),methodOfCreation:c(this,Oh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Xe.initialize(t,i),We._defaultColor||(We._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case Ce.HIGHLIGHT_DEFAULT_COLOR:We._defaultColor=i;break;case Ce.HIGHLIGHT_THICKNESS:We._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return c(this,Gl)}updateParams(t,i){switch(t){case Ce.HIGHLIGHT_COLOR:b(this,Ie,mS).call(this,i);break;case Ce.HIGHLIGHT_THICKNESS:b(this,Ie,yS).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ce.HIGHLIGHT_DEFAULT_COLOR,We._defaultColor],[Ce.HIGHLIGHT_THICKNESS,We._defaultThickness]]}get propertiesToUpdate(){return[[Ce.HIGHLIGHT_COLOR,this.color||We._defaultColor],[Ce.HIGHLIGHT_THICKNESS,c(this,Ki)||We._defaultThickness],[Ce.HIGHLIGHT_FREE,c(this,jn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(S(this,Wl,new Jf({editor:this})),t.addColorPicker(c(this,Wl))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(b(this,Ie,nc).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,b(this,Ie,nc).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){b(this,Ie,Xy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(b(this,Ie,tc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?b(this,Ie,Xy).call(this):t&&(b(this,Ie,tc).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var o,l,h;const{drawLayer:i}=this.parent;let r;c(this,jn)?(t=(t-this.rotation+360)%360,r=b(o=We,si,Ya).call(o,c(this,Ci).box,t)):r=b(l=We,si,Ya).call(l,this,t),i.rotate(c(this,un),t),i.rotate(c(this,kt),t),i.updateBox(c(this,un),r),i.updateBox(c(this,kt),b(h=We,si,Ya).call(h,c(this,ei).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,ql)&&(t.setAttribute("aria-label",c(this,ql)),t.setAttribute("role","mark")),c(this,jn)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,vp),{signal:this._uiManager._signal});const i=S(this,ea,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=c(this,Zo);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),qf(this,c(this,ea),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,kt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,kt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:b(this,Ie,Of).call(this,!0);break;case 1:case 3:b(this,Ie,Of).call(this,!1);break}}select(){var t,i;super.select(),c(this,kt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,kt),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(c(this,kt),"selected"))}unselect(){var t;super.unselect(),c(this,kt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,kt),"selected"),c(this,jn)||b(this,Ie,Of).call(this,!1))}get _mustFixPosition(){return!c(this,jn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,un),t),this.parent.drawLayer.show(c(this,kt),t))}static startHighlighting(t,i,{target:r,x:o,y:l}){const{x:h,y:f,width:p,height:g}=r.getBoundingClientRect(),v=T=>{b(this,si,ES).call(this,t,T)},w=t._signal,_={capture:!0,passive:!1,signal:w},A=T=>{T.preventDefault(),T.stopPropagation()},C=T=>{r.removeEventListener("pointermove",v),window.removeEventListener("blur",C),window.removeEventListener("pointerup",C),window.removeEventListener("pointerdown",A,_),window.removeEventListener("contextmenu",Tn),b(this,si,SS).call(this,t,T)};window.addEventListener("blur",C,{signal:w}),window.addEventListener("pointerup",C,{signal:w}),window.addEventListener("pointerdown",A,_),window.addEventListener("contextmenu",Tn,{signal:w}),r.addEventListener("pointermove",v,{signal:w}),this._freeHighlight=new Qf({x:o,y:l},[h,f,p,g],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,i,r){var C;const o=super.deserialize(t,i,r),{rect:[l,h,f,p],color:g,quadPoints:v}=t;o.color=de.makeHexColor(...g),S(o,ta,t.opacity);const[w,_]=o.pageDimensions;o.width=(f-l)/w,o.height=(p-h)/_;const A=S(o,Or,[]);for(let T=0;T<v.length;T+=8)A.push({x:(v[4]-f)/w,y:(p-(1-v[T+5]))/_,width:(v[T+2]-v[T])/w,height:(v[T+5]-v[T+1])/_});return b(C=o,Ie,Gy).call(C),o}serialize(t=!1){if(this.isEmpty()||t)return null;const i=this.getRect(0,0),r=Xe._colorManager.convert(this.color);return{annotationType:He.HIGHLIGHT,color:r,opacity:c(this,ta),thickness:c(this,Ki),quadPoints:b(this,Ie,AS).call(this),outlines:b(this,Ie,_S).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:b(this,Ie,nc).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Vl=new WeakMap,Dh=new WeakMap,Or=new WeakMap,Zo=new WeakMap,Wl=new WeakMap,ei=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,ea=new WeakMap,Ci=new WeakMap,un=new WeakMap,jn=new WeakMap,vp=new WeakMap,Gl=new WeakMap,ta=new WeakMap,kt=new WeakMap,ql=new WeakMap,Ki=new WeakMap,Oh=new WeakMap,Ie=new WeakSet,Gy=function(){const t=new By(c(this,Or),.001);S(this,Ci,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Ci).box;const i=new By(c(this,Or),.0025,.001,this._uiManager.direction==="ltr");S(this,ei,i.getOutlines());const{lastPoint:r}=c(this,ei).box;S(this,Gl,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},qy=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var v,w;if(S(this,Ci,t),S(this,ei,t.getNewOutline(c(this,Ki)/2+1.5,.0025)),i>=0)S(this,un,i),S(this,Zo,r),this.parent.drawLayer.finalizeLine(i,t),S(this,kt,this.parent.drawLayer.highlightOutline(c(this,ei)));else if(this.parent){const _=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,un),t),this.parent.drawLayer.updateBox(c(this,un),b(v=We,si,Ya).call(v,c(this,Ci).box,(_-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,kt),c(this,ei)),this.parent.drawLayer.updateBox(c(this,kt),b(w=We,si,Ya).call(w,c(this,ei).box,_))}const{x:l,y:h,width:f,height:p}=t.box;switch(this.rotation){case 0:this.x=l,this.y=h,this.width=f,this.height=p;break;case 90:{const[_,A]=this.parentDimensions;this.x=h,this.y=1-l,this.width=f*A/_,this.height=p*_/A;break}case 180:this.x=1-l,this.y=1-h,this.width=f,this.height=p;break;case 270:{const[_,A]=this.parentDimensions;this.x=1-h,this.y=l,this.width=f*A/_,this.height=p*_/A;break}}const{lastPoint:g}=c(this,ei).box;S(this,Gl,[(g[0]-l)/f,(g[1]-h)/p])},mS=function(t){const i=o=>{var l,h;this.color=o,(l=this.parent)==null||l.drawLayer.changeColor(c(this,un),o),(h=c(this,Wl))==null||h.updateColor(o)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},yS=function(t){const i=c(this,Ki),r=o=>{S(this,Ki,o),b(this,Ie,vS).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},vS=function(t){if(!c(this,jn))return;b(this,Ie,qy).call(this,{highlightOutlines:c(this,Ci).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},Xy=function(){c(this,un)===null||!this.parent||(this.parent.drawLayer.remove(c(this,un)),S(this,un,null),this.parent.drawLayer.remove(c(this,kt)),S(this,kt,null))},tc=function(t=this.parent){c(this,un)===null&&({id:Mn(this,un)._,clipPathId:Mn(this,Zo)._}=t.drawLayer.highlight(c(this,Ci),this.color,c(this,ta)),S(this,kt,t.drawLayer.highlightOutline(c(this,ei))),c(this,ea)&&(c(this,ea).style.clipPath=c(this,Zo)))},si=new WeakSet,Ya=function({x:t,y:i,width:r,height:o},l){switch(l){case 90:return{x:1-i-o,y:t,width:o,height:r};case 180:return{x:1-t-r,y:1-i-o,width:r,height:o};case 270:return{x:i,y:1-t-r,width:o,height:r}}return{x:t,y:i,width:r,height:o}},wS=function(t){We._keyboardManager.exec(this,t)},Of=function(t){if(!c(this,Vl))return;const i=window.getSelection();t?i.setPosition(c(this,Vl),c(this,Dh)):i.setPosition(c(this,Ih),c(this,Fh))},nc=function(){return c(this,jn)?this.rotation:0},AS=function(){if(c(this,jn))return null;const[t,i]=this.pageDimensions,r=c(this,Or),o=new Float32Array(r.length*8);let l=0;for(const{x:h,y:f,width:p,height:g}of r){const v=h*t,w=(1-f-g)*i;o[l]=o[l+4]=v,o[l+1]=o[l+3]=w,o[l+2]=o[l+6]=v+p*t,o[l+5]=o[l+7]=w+g*i,l+=8}return o},_S=function(t){return c(this,Ci).serialize(t,b(this,Ie,nc).call(this))},ES=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},SS=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},x(We,si),Re(We,"_defaultColor",null),Re(We,"_defaultOpacity",1),Re(We,"_defaultThickness",12),Re(We,"_l10nPromise"),Re(We,"_type","highlight"),Re(We,"_editorType",He.HIGHLIGHT),Re(We,"_freeHighlightId",-1),Re(We,"_freeHighlight",null),Re(We,"_freeHighlightClipId","");let Zf=We;var na,ia,Nh,Hh,zh,sa,Yi,Hs,ti,ra,oa,zs,aa,la,Nr,te,bS,xS,CS,TS,Yy,kS,Qy,RS,PS,LS,MS,DS,ho,Jy,Nf,Hf,Qa,Zy,zf,Ys,IS,ev,FS,OS,tv,Bf,ic;const ut=class ut extends Xe{constructor(t){super({...t,name:"inkEditor"});x(this,te);x(this,na,0);x(this,ia,0);x(this,Nh,this.canvasPointermove.bind(this));x(this,Hh,this.canvasPointerleave.bind(this));x(this,zh,this.canvasPointerup.bind(this));x(this,sa,this.canvasPointerdown.bind(this));x(this,Yi,null);x(this,Hs,new Path2D);x(this,ti,!1);x(this,ra,!1);x(this,oa,!1);x(this,zs,null);x(this,aa,0);x(this,la,0);x(this,Nr,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){Xe.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case Ce.INK_THICKNESS:ut._defaultThickness=i;break;case Ce.INK_COLOR:ut._defaultColor=i;break;case Ce.INK_OPACITY:ut._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case Ce.INK_THICKNESS:b(this,te,bS).call(this,i);break;case Ce.INK_COLOR:b(this,te,xS).call(this,i);break;case Ce.INK_OPACITY:b(this,te,CS).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ce.INK_THICKNESS,ut._defaultThickness],[Ce.INK_COLOR,ut._defaultColor||Xe._defaultLineColor],[Ce.INK_OPACITY,Math.round(ut._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ce.INK_THICKNESS,this.thickness||ut._defaultThickness],[Ce.INK_COLOR,this.color||ut._defaultColor||Xe._defaultLineColor],[Ce.INK_OPACITY,Math.round(100*(this.opacity??ut._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(b(this,te,Nf).call(this),b(this,te,Hf).call(this)),this.isAttachedToDOM||(this.parent.add(this),b(this,te,Qa).call(this)),b(this,te,ic).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,Yi)&&(clearTimeout(c(this,Yi)),S(this,Yi,null)),(t=c(this,zs))==null||t.disconnect(),S(this,zs,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,r=this.width*t,o=this.height*i;this.setDimensions(r,o)}enableEditMode(){c(this,ti)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,sa),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,sa)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,ti)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),S(this,ti,!0),this.div.classList.add("disabled"),b(this,te,ic).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,ti)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),b(this,te,kS).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),b(this,te,Qy).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),b(this,te,Jy).call(this,t)}canvasPointerleave(t){b(this,te,Jy).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,ti)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,l,h]=b(this,te,TS).call(this);if(this.setAt(r,o,0,0),this.setDims(l,h),b(this,te,Nf).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(t*f,i*p,this.width*f,this.height*p),S(this,oa,!0),b(this,te,Qa).call(this),this.setDims(this.width*f,this.height*p),b(this,te,ho).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return b(this,te,Hf).call(this),this.div}setDimensions(t,i){const r=Math.round(t),o=Math.round(i);if(c(this,aa)===r&&c(this,la)===o)return;S(this,aa,r),S(this,la,o),this.canvas.style.visibility="hidden";const[l,h]=this.parentDimensions;this.width=t/l,this.height=i/h,this.fixAndSetPosition(),c(this,ti)&&b(this,te,Zy).call(this,t,i),b(this,te,Qa).call(this),b(this,te,ho).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,i,r){var T,k,L;if(t instanceof tS)return null;const o=super.deserialize(t,i,r);o.thickness=t.thickness,o.color=de.makeHexColor(...t.color),o.opacity=t.opacity;const[l,h]=o.pageDimensions,f=o.width*l,p=o.height*h,g=o.parentScale,v=t.thickness/2;S(o,ti,!0),S(o,aa,Math.round(f)),S(o,la,Math.round(p));const{paths:w,rect:_,rotation:A}=t;for(let{bezier:I}of w){I=b(T=ut,Ys,FS).call(T,I,_,A);const O=[];o.paths.push(O);let z=g*(I[0]-v),B=g*(I[1]-v);for(let q=2,Q=I.length;q<Q;q+=6){const se=g*(I[q]-v),Z=g*(I[q+1]-v),Te=g*(I[q+2]-v),ge=g*(I[q+3]-v),fe=g*(I[q+4]-v),be=g*(I[q+5]-v);O.push([[z,B],[se,Z],[Te,ge],[fe,be]]),z=fe,B=be}const V=b(this,Ys,IS).call(this,O);o.bezierPath2D.push(V)}const C=b(k=o,te,tv).call(k);return S(o,ia,Math.max(Xe.MIN_SIZE,C[2]-C[0])),S(o,na,Math.max(Xe.MIN_SIZE,C[3]-C[1])),b(L=o,te,Zy).call(L,f,p),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=Xe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:He.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:b(this,te,OS).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};na=new WeakMap,ia=new WeakMap,Nh=new WeakMap,Hh=new WeakMap,zh=new WeakMap,sa=new WeakMap,Yi=new WeakMap,Hs=new WeakMap,ti=new WeakMap,ra=new WeakMap,oa=new WeakMap,zs=new WeakMap,aa=new WeakMap,la=new WeakMap,Nr=new WeakMap,te=new WeakSet,bS=function(t){const i=o=>{this.thickness=o,b(this,te,ic).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},xS=function(t){const i=o=>{this.color=o,b(this,te,ho).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},CS=function(t){const i=o=>{this.opacity=o,b(this,te,ho).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},TS=function(){const{parentRotation:t,parentDimensions:[i,r]}=this;switch(t){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},Yy=function(){const{ctx:t,color:i,opacity:r,thickness:o,parentScale:l,scaleFactor:h}=this;t.lineWidth=o*l/h,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${hT(r)}`},kS=function(t,i){const r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Tn,{signal:r}),this.canvas.addEventListener("pointerleave",c(this,Hh),{signal:r}),this.canvas.addEventListener("pointermove",c(this,Nh),{signal:r}),this.canvas.addEventListener("pointerup",c(this,zh),{signal:r}),this.canvas.removeEventListener("pointerdown",c(this,sa)),this.isEditing=!0,c(this,oa)||(S(this,oa,!0),b(this,te,Qa).call(this),this.thickness||(this.thickness=ut._defaultThickness),this.color||(this.color=ut._defaultColor||Xe._defaultLineColor),this.opacity??(this.opacity=ut._defaultOpacity)),this.currentPath.push([t,i]),S(this,ra,!1),b(this,te,Yy).call(this),S(this,Nr,()=>{b(this,te,LS).call(this),c(this,Nr)&&window.requestAnimationFrame(c(this,Nr))}),window.requestAnimationFrame(c(this,Nr))},Qy=function(t,i){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&i===o)return;const l=this.currentPath;let h=c(this,Hs);if(l.push([t,i]),S(this,ra,!0),l.length<=2){h.moveTo(...l[0]),h.lineTo(t,i);return}l.length===3&&(S(this,Hs,h=new Path2D),h.moveTo(...l[0])),b(this,te,MS).call(this,h,...l.at(-3),...l.at(-2),t,i)},RS=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,Hs).lineTo(...t)},PS=function(t,i){S(this,Nr,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),b(this,te,Qy).call(this,t,i),b(this,te,RS).call(this);let r;if(this.currentPath.length!==1)r=b(this,te,DS).call(this);else{const p=[t,i];r=[[p,p.slice(),p.slice(),p]]}const o=c(this,Hs),l=this.currentPath;this.currentPath=[],S(this,Hs,new Path2D);const h=()=>{this.allRawPaths.push(l),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(b(this,te,Nf).call(this),b(this,te,Hf).call(this)),b(this,te,ic).call(this))};this.addCommands({cmd:h,undo:f,mustExec:!0})},LS=function(){if(!c(this,ra))return;S(this,ra,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(h=>h[0]),o=i.map(h=>h[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)l.stroke(h);l.stroke(c(this,Hs)),l.restore()},MS=function(t,i,r,o,l,h,f){const p=(i+o)/2,g=(r+l)/2,v=(o+h)/2,w=(l+f)/2;t.bezierCurveTo(p+2*(o-p)/3,g+2*(l-g)/3,v+2*(o-v)/3,w+2*(l-w)/3,v,w)},DS=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let r,[o,l]=t[0];for(r=1;r<t.length-2;r++){const[_,A]=t[r],[C,T]=t[r+1],k=(_+C)/2,L=(A+T)/2,I=[o+2*(_-o)/3,l+2*(A-l)/3],O=[k+2*(_-k)/3,L+2*(A-L)/3];i.push([[o,l],I,O,[k,L]]),[o,l]=[k,L]}const[h,f]=t[r],[p,g]=t[r+1],v=[o+2*(h-o)/3,l+2*(f-l)/3],w=[p+2*(h-p)/3,g+2*(f-g)/3];return i.push([[o,l],v,w,[p,g]]),i},ho=function(){if(this.isEmpty()){b(this,te,zf).call(this);return}b(this,te,Yy).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),b(this,te,zf).call(this);for(const r of this.bezierPath2D)i.stroke(r)},Jy=function(t){this.canvas.removeEventListener("pointerleave",c(this,Hh)),this.canvas.removeEventListener("pointermove",c(this,Nh)),this.canvas.removeEventListener("pointerup",c(this,zh)),this.canvas.addEventListener("pointerdown",c(this,sa),{signal:this._uiManager._signal}),c(this,Yi)&&clearTimeout(c(this,Yi)),S(this,Yi,setTimeout(()=>{S(this,Yi,null),this.canvas.removeEventListener("contextmenu",Tn)},10)),b(this,te,PS).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Nf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Hf=function(){S(this,zs,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),c(this,zs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,zs))==null||t.disconnect(),S(this,zs,null)},{once:!0})},Qa=function(){if(!c(this,oa))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),b(this,te,zf).call(this)},Zy=function(t,i){const r=b(this,te,Bf).call(this),o=(t-r)/c(this,ia),l=(i-r)/c(this,na);this.scaleFactor=Math.min(o,l)},zf=function(){const t=b(this,te,Bf).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Ys=new WeakSet,IS=function(t){const i=new Path2D;for(let r=0,o=t.length;r<o;r++){const[l,h,f,p]=t[r];r===0&&i.moveTo(...l),i.bezierCurveTo(h[0],h[1],f[0],f[1],p[0],p[1])}return i},ev=function(t,i,r){const[o,l,h,f]=i;switch(r){case 0:for(let p=0,g=t.length;p<g;p+=2)t[p]+=o,t[p+1]=f-t[p+1];break;case 90:for(let p=0,g=t.length;p<g;p+=2){const v=t[p];t[p]=t[p+1]+o,t[p+1]=v+l}break;case 180:for(let p=0,g=t.length;p<g;p+=2)t[p]=h-t[p],t[p+1]+=l;break;case 270:for(let p=0,g=t.length;p<g;p+=2){const v=t[p];t[p]=h-t[p+1],t[p+1]=f-v}break;default:throw new Error("Invalid rotation")}return t},FS=function(t,i,r){const[o,l,h,f]=i;switch(r){case 0:for(let p=0,g=t.length;p<g;p+=2)t[p]-=o,t[p+1]=f-t[p+1];break;case 90:for(let p=0,g=t.length;p<g;p+=2){const v=t[p];t[p]=t[p+1]-l,t[p+1]=v-o}break;case 180:for(let p=0,g=t.length;p<g;p+=2)t[p]=h-t[p],t[p+1]-=l;break;case 270:for(let p=0,g=t.length;p<g;p+=2){const v=t[p];t[p]=f-t[p+1],t[p+1]=h-v}break;default:throw new Error("Invalid rotation")}return t},OS=function(t,i,r,o){var g,v;const l=[],h=this.thickness/2,f=t*i+h,p=t*r+h;for(const w of this.paths){const _=[],A=[];for(let C=0,T=w.length;C<T;C++){const[k,L,I,O]=w[C];if(k[0]===O[0]&&k[1]===O[1]&&T===1){const ge=t*k[0]+f,fe=t*k[1]+p;_.push(ge,fe),A.push(ge,fe);break}const z=t*k[0]+f,B=t*k[1]+p,V=t*L[0]+f,q=t*L[1]+p,Q=t*I[0]+f,se=t*I[1]+p,Z=t*O[0]+f,Te=t*O[1]+p;C===0&&(_.push(z,B),A.push(z,B)),_.push(V,q,Q,se,Z,Te),A.push(V,q),C===T-1&&A.push(Z,Te)}l.push({bezier:b(g=ut,Ys,ev).call(g,_,o,this.rotation),points:b(v=ut,Ys,ev).call(v,A,o,this.rotation)})}return l},tv=function(){let t=1/0,i=-1/0,r=1/0,o=-1/0;for(const l of this.paths)for(const[h,f,p,g]of l){const v=de.bezierBoundingBox(...h,...f,...p,...g);t=Math.min(t,v[0]),r=Math.min(r,v[1]),i=Math.max(i,v[2]),o=Math.max(o,v[3])}return[t,r,i,o]},Bf=function(){return c(this,ti)?Math.ceil(this.thickness*this.parentScale):0},ic=function(t=!1){if(this.isEmpty())return;if(!c(this,ti)){b(this,te,ho).call(this);return}const i=b(this,te,tv).call(this),r=b(this,te,Bf).call(this);S(this,ia,Math.max(Xe.MIN_SIZE,i[2]-i[0])),S(this,na,Math.max(Xe.MIN_SIZE,i[3]-i[1]));const o=Math.ceil(r+c(this,ia)*this.scaleFactor),l=Math.ceil(r+c(this,na)*this.scaleFactor),[h,f]=this.parentDimensions;this.width=o/h,this.height=l/f,this.setAspectRatio(o,l);const p=this.translationX,g=this.translationY;this.translationX=-i[0],this.translationY=-i[1],b(this,te,Qa).call(this),b(this,te,ho).call(this),S(this,aa,o),S(this,la,l),this.setDims(o,l);const v=t?r/this.scaleFactor/2:0;this.translate(p-this.translationX-v,g-this.translationY-v)},x(ut,Ys),Re(ut,"_defaultColor",null),Re(ut,"_defaultOpacity",1),Re(ut,"_defaultThickness",1),Re(ut,"_type","ink"),Re(ut,"_editorType",He.INK);let Ky=ut;var Wt,Gt,Hr,Bs,zr,Xl,Qi,js,Ji,Ti,Bh,$e,sc,rc,jf,iv,NS,HS,sv,Uf,zS;const lc=class lc extends Xe{constructor(t){super({...t,name:"stampEditor"});x(this,$e);x(this,Wt,null);x(this,Gt,null);x(this,Hr,null);x(this,Bs,null);x(this,zr,null);x(this,Xl,"");x(this,Qi,null);x(this,js,null);x(this,Ji,null);x(this,Ti,!1);x(this,Bh,!1);S(this,Bs,t.bitmapUrl),S(this,zr,t.bitmapFile)}static initialize(t,i){Xe.initialize(t,i)}static get supportedTypes(){return je(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return je(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(He.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,i;c(this,Gt)&&(S(this,Wt,null),this._uiManager.imageManager.deleteId(c(this,Gt)),(t=c(this,Qi))==null||t.remove(),S(this,Qi,null),(i=c(this,js))==null||i.disconnect(),S(this,js,null),c(this,Ji)&&(clearTimeout(c(this,Ji)),S(this,Ji,null))),super.remove()}rebuild(){if(!this.parent){c(this,Gt)&&b(this,$e,jf).call(this);return}super.rebuild(),this.div!==null&&(c(this,Gt)&&c(this,Qi)===null&&b(this,$e,jf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,Hr)||c(this,Wt)||c(this,Bs)||c(this,zr)||c(this,Gt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,Wt)?b(this,$e,iv).call(this):b(this,$e,jf).call(this),this.width){const[r,o]=this.parentDimensions;this.setAt(t*r,i*o,this.width*r,this.height*o)}return this.div}getImageForAltText(){return c(this,Qi)}static deserialize(t,i,r){if(t instanceof nS)return null;const o=super.deserialize(t,i,r),{rect:l,bitmapUrl:h,bitmapId:f,isSvg:p,accessibilityData:g}=t;f&&r.imageManager.isValidId(f)?S(o,Gt,f):S(o,Bs,h),S(o,Ti,p);const[v,w]=o.pageDimensions;return o.width=(l[2]-l[0])/v,o.height=(l[3]-l[1])/w,g&&(o.altTextData=g),o}serialize(t=!1,i=null){if(this.isEmpty())return null;const r={annotationType:He.STAMP,bitmapId:c(this,Gt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Ti),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=b(this,$e,Uf).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:o,altText:l}=this.altTextData;if(!o&&l&&(r.accessibilityData={type:"Figure",alt:l}),i===null)return r;i.stamps||(i.stamps=new Map);const h=c(this,Ti)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(c(this,Gt)))i.stamps.set(c(this,Gt),{area:h,serialized:r}),r.bitmap=b(this,$e,Uf).call(this,!1);else if(c(this,Ti)){const f=i.stamps.get(c(this,Gt));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=b(this,$e,Uf).call(this,!1))}return r}};Wt=new WeakMap,Gt=new WeakMap,Hr=new WeakMap,Bs=new WeakMap,zr=new WeakMap,Xl=new WeakMap,Qi=new WeakMap,js=new WeakMap,Ji=new WeakMap,Ti=new WeakMap,Bh=new WeakMap,$e=new WeakSet,sc=function(t,i=!1){if(!t){this.remove();return}S(this,Wt,t.bitmap),i||(S(this,Gt,t.id),S(this,Ti,t.isSvg)),t.file&&S(this,Xl,t.file.name),b(this,$e,iv).call(this)},rc=function(){S(this,Hr,null),this._uiManager.enableWaiting(!1),c(this,Qi)&&this.div.focus()},jf=function(){if(c(this,Gt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Gt)).then(r=>b(this,$e,sc).call(this,r,!0)).finally(()=>b(this,$e,rc).call(this));return}if(c(this,Bs)){const r=c(this,Bs);S(this,Bs,null),this._uiManager.enableWaiting(!0),S(this,Hr,this._uiManager.imageManager.getFromUrl(r).then(o=>b(this,$e,sc).call(this,o)).finally(()=>b(this,$e,rc).call(this)));return}if(c(this,zr)){const r=c(this,zr);S(this,zr,null),this._uiManager.enableWaiting(!0),S(this,Hr,this._uiManager.imageManager.getFromFile(r).then(o=>b(this,$e,sc).call(this,o)).finally(()=>b(this,$e,rc).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=lc.supportedTypesStr;const i=this._uiManager._signal;S(this,Hr,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);b(this,$e,sc).call(this,o)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>b(this,$e,rc).call(this))),t.click()},iv=function(){const{div:t}=this;let{width:i,height:r}=c(this,Wt);const[o,l]=this.pageDimensions,h=.75;if(this.width)i=this.width*o,r=this.height*l;else if(i>h*o||r>h*l){const v=Math.min(h*o/i,h*l/r);i*=v,r*=v}const[f,p]=this.parentDimensions;this.setDims(i*f/o,r*p/l),this._uiManager.enableWaiting(!1);const g=S(this,Qi,document.createElement("canvas"));t.append(g),t.hidden=!1,b(this,$e,sv).call(this,i,r),b(this,$e,zS).call(this),c(this,Bh)||(this.parent.addUndoableEditor(this),S(this,Bh,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Xl)&&g.setAttribute("aria-label",c(this,Xl))},NS=function(t,i){var h;const[r,o]=this.parentDimensions;this.width=t/r,this.height=i/o,this.setDims(t,i),(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Ji)!==null&&clearTimeout(c(this,Ji)),S(this,Ji,setTimeout(()=>{S(this,Ji,null),b(this,$e,sv).call(this,t,i)},200))},HS=function(t,i){const{width:r,height:o}=c(this,Wt);let l=r,h=o,f=c(this,Wt);for(;l>2*t||h>2*i;){const p=l,g=h;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),h>2*i&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const v=new OffscreenCanvas(l,h);v.getContext("2d").drawImage(f,0,0,p,g,0,0,l,h),f=v.transferToImageBitmap()}return f},sv=function(t,i){t=Math.ceil(t),i=Math.ceil(i);const r=c(this,Qi);if(!r||r.width===t&&r.height===i)return;r.width=t,r.height=i;const o=c(this,Ti)?c(this,Wt):b(this,$e,HS).call(this,t,i);if(this._uiManager.hasMLManager&&!this.hasAltText()){const f=new OffscreenCanvas(t,i).getContext("2d");f.drawImage(o,0,0,o.width,o.height,0,0,t,i),this._uiManager.mlGuess({service:"image-to-text",request:{data:f.getImageData(0,0,t,i).data,width:t,height:i,channels:4}}).then(p=>{const g=(p==null?void 0:p.output)||"";this.parent&&g&&!this.hasAltText()&&(this.altTextData={altText:g,decorative:!1})})}const l=r.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(o,0,0,o.width,o.height,0,0,t,i)},Uf=function(t){if(t){if(c(this,Ti)){const o=this._uiManager.imageManager.getSvgUrl(c(this,Gt));if(o)return o}const i=document.createElement("canvas");return{width:i.width,height:i.height}=c(this,Wt),i.getContext("2d").drawImage(c(this,Wt),0,0),i.toDataURL()}if(c(this,Ti)){const[i,r]=this.pageDimensions,o=Math.round(this.width*i*$r.PDF_TO_CSS_UNITS),l=Math.round(this.height*r*$r.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(o,l);return h.getContext("2d").drawImage(c(this,Wt),0,0,c(this,Wt).width,c(this,Wt).height,0,0,o,l),h.transferToImageBitmap()}return structuredClone(c(this,Wt))},zS=function(){this._uiManager._signal&&(S(this,js,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&b(this,$e,NS).call(this,i.width,i.height)})),c(this,js).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,js))==null||t.disconnect(),S(this,js,null)},{once:!0}))},Re(lc,"_type","stamp"),Re(lc,"_editorType",He.STAMP);let nv=lc;var ua,Kl,Zi,ca,Us,$s,Vs,Un,Br,Yl,Ql,cn,pe,jr,qt,BS,ov,av,lv,$f;const fi=class fi{constructor({uiManager:e,pageIndex:t,div:i,accessibilityManager:r,annotationLayer:o,drawLayer:l,textLayer:h,viewport:f,l10n:p}){x(this,qt);x(this,ua);x(this,Kl,!1);x(this,Zi,null);x(this,ca,null);x(this,Us,null);x(this,$s,null);x(this,Vs,null);x(this,Un,new Map);x(this,Br,!1);x(this,Yl,!1);x(this,Ql,!1);x(this,cn,null);x(this,pe);const g=[...c(fi,jr).values()];if(!fi._initialized){fi._initialized=!0;for(const v of g)v.initialize(p,e)}e.registerEditorTypes(g),S(this,pe,e),this.pageIndex=t,this.div=i,S(this,ua,r),S(this,Zi,o),this.viewport=f,S(this,cn,h),this.drawLayer=l,c(this,pe).addLayer(this)}get isEmpty(){return c(this,Un).size===0}get isInvisible(){return this.isEmpty&&c(this,pe).getMode()===He.NONE}updateToolbar(e){c(this,pe).updateToolbar(e)}updateMode(e=c(this,pe).getMode()){switch(b(this,qt,$f).call(this),e){case He.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case He.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case He.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of c(fi,jr).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,cn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,pe).getMode()!==He.INK)return;if(!e){for(const i of c(this,Un).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,pe).setEditingState(e)}addCommands(e){c(this,pe).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Zi))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of c(this,Un).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(c(this,pe).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!c(this,Zi))return;const t=c(this,Zi).getEditableAnnotations();for(const i of t){if(i.hide(),c(this,pe).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;S(this,Ql,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of c(this,Un).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(c(this,Zi)){const o=c(this,Zi).getEditableAnnotations();for(const l of o){const{id:h}=l.data;if(c(this,pe).isDeletedAnnotationElement(h))continue;let f=t.get(h);if(f){f.resetAnnotationElement(l),f.show(!1),l.show();continue}f=e.get(h),f&&(c(this,pe).addChangedExistingAnnotation(f),f.renderAnnotationElement(l),f.show(!1)),l.show()}}b(this,qt,$f).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const o of c(fi,jr).values())i.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),S(this,Ql,!1)}getEditableAnnotation(e){var t;return((t=c(this,Zi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,pe).getActive()!==e&&c(this,pe).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,cn))!=null&&e.div&&!c(this,$s)&&(S(this,$s,b(this,qt,BS).bind(this)),c(this,cn).div.addEventListener("pointerdown",c(this,$s),{signal:c(this,pe)._signal}),c(this,cn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,cn))!=null&&e.div&&c(this,$s)&&(c(this,cn).div.removeEventListener("pointerdown",c(this,$s)),S(this,$s,null),c(this,cn).div.classList.remove("highlighting"))}enableClick(){if(c(this,Us))return;const e=c(this,pe)._signal;S(this,Us,this.pointerdown.bind(this)),S(this,ca,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,Us),{signal:e}),this.div.addEventListener("pointerup",c(this,ca),{signal:e})}disableClick(){c(this,Us)&&(this.div.removeEventListener("pointerdown",c(this,Us)),this.div.removeEventListener("pointerup",c(this,ca)),S(this,Us,null),S(this,ca,null))}attach(e){c(this,Un).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,pe).isDeletedAnnotationElement(t)&&c(this,pe).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,Un).delete(e.id),(t=c(this,ua))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,Ql)&&e.annotationElementId&&c(this,pe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,pe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,Yl)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,pe).addDeletedAnnotationElement(e.annotationElementId),Xe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,pe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,pe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,Vs)&&(e._focusEventsAllowed=!1,S(this,Vs,setTimeout(()=>{S(this,Vs,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,pe)._signal}),t.focus())},0))),e._structTreeParentId=(i=c(this,ua))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return c(this,pe).getId()}get _signal(){return c(this,pe)._signal}canCreateNewEmptyEditor(){var e;return(e=c(this,qt,ov))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,pe).updateToolbar(e),c(this,pe).updateMode(e);const{offsetX:i,offsetY:r}=b(this,qt,lv).call(this),o=this.getNextId(),l=b(this,qt,av).call(this,{parent:this,id:o,x:i,y:r,uiManager:c(this,pe),isCentered:!0,...t});l&&this.add(l)}deserialize(e){var t;return((t=c(fi,jr).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,pe)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),o=b(this,qt,av).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,pe),isCentered:t,...i});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(b(this,qt,lv).call(this),!0)}setSelected(e){c(this,pe).setSelected(e)}toggleSelected(e){c(this,pe).toggleSelected(e)}isSelected(e){return c(this,pe).isSelected(e)}unselect(e){c(this,pe).unselect(e)}pointerup(e){const{isMac:t}=bn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,Br)){if(S(this,Br,!1),!c(this,Kl)){S(this,Kl,!0);return}if(c(this,pe).getMode()===He.STAMP){c(this,pe).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,pe).getMode()===He.HIGHLIGHT&&this.enableTextSelection(),c(this,Br)){S(this,Br,!1);return}const{isMac:t}=bn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;S(this,Br,!0);const i=c(this,pe).getActive();S(this,Kl,!i||i.isEmpty())}findNewParent(e,t,i){const r=c(this,pe).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=c(this,pe).getActive())==null?void 0:e.parent)===this&&(c(this,pe).commitOrRemove(),c(this,pe).setActiveEditor(null)),c(this,Vs)&&(clearTimeout(c(this,Vs)),S(this,Vs,null));for(const i of c(this,Un).values())(t=c(this,ua))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,c(this,Un).clear(),c(this,pe).removeLayer(this)}render({viewport:e}){this.viewport=e,fa(this.div,e);for(const t of c(this,pe).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,pe).commitOrRemove(),b(this,qt,$f).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,fa(this.div,{rotation:i}),t!==i)for(const r of c(this,Un).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,pe).viewParameters.realScale}};ua=new WeakMap,Kl=new WeakMap,Zi=new WeakMap,ca=new WeakMap,Us=new WeakMap,$s=new WeakMap,Vs=new WeakMap,Un=new WeakMap,Br=new WeakMap,Yl=new WeakMap,Ql=new WeakMap,cn=new WeakMap,pe=new WeakMap,jr=new WeakMap,qt=new WeakSet,BS=function(e){if(c(this,pe).unselectAll(),e.target===c(this,cn).div){const{isMac:t}=bn.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,pe).showAllEditors("highlight",!0,!0),c(this,cn).div.classList.add("free"),Zf.startHighlighting(this,c(this,pe).direction==="ltr",e),c(this,cn).div.addEventListener("pointerup",()=>{c(this,cn).div.classList.remove("free")},{once:!0,signal:c(this,pe)._signal}),e.preventDefault()}},ov=function(){return c(fi,jr).get(c(this,pe).getMode())},av=function(e){const t=c(this,qt,ov);return t?new t.prototype.constructor(e):null},lv=function(){const{x:e,y:t,width:i,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),h=Math.min(window.innerWidth,e+i),f=Math.min(window.innerHeight,t+r),p=(o+h)/2-e,g=(l+f)/2-t,[v,w]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:v,offsetY:w}},$f=function(){S(this,Yl,!0);for(const e of c(this,Un).values())e.isEmpty()&&e.remove();S(this,Yl,!1)},Re(fi,"_initialized",!1),x(fi,jr,new Map([Hy,Ky,nv,Zf].map(e=>[e._editorType,e])));let rv=fi;var es,jh,Rt,Ur,Uh,cv,va,hv,jS;const Bt=class Bt{constructor({pageIndex:e}){x(this,va);x(this,es,null);x(this,jh,0);x(this,Rt,new Map);x(this,Ur,new Map);this.pageIndex=e}setParent(e){if(!c(this,es)){S(this,es,e);return}if(c(this,es)!==e){if(c(this,Rt).size>0)for(const t of c(this,Rt).values())t.remove(),e.append(t);S(this,es,e)}}static get _svgFactory(){return je(this,"_svgFactory",new _v)}highlight(e,t,i,r=!1){const o=Mn(this,jh)._++,l=b(this,va,hv).call(this,e.box);l.classList.add("highlight"),e.free&&l.classList.add("free");const h=Bt._svgFactory.createElement("defs");l.append(h);const f=Bt._svgFactory.createElement("path");h.append(f);const p=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",p),f.setAttribute("d",e.toSVGPath()),r&&c(this,Ur).set(o,f);const g=b(this,va,jS).call(this,h,p),v=Bt._svgFactory.createElement("use");return l.append(v),l.setAttribute("fill",t),l.setAttribute("fill-opacity",i),v.setAttribute("href",`#${p}`),c(this,Rt).set(o,l),{id:o,clipPathId:`url(#${g})`}}highlightOutline(e){const t=Mn(this,jh)._++,i=b(this,va,hv).call(this,e.box);i.classList.add("highlightOutline");const r=Bt._svgFactory.createElement("defs");i.append(r);const o=Bt._svgFactory.createElement("path");r.append(o);const l=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e.free){i.classList.add("free");const g=Bt._svgFactory.createElement("mask");r.append(g),h=`mask_p${this.pageIndex}_${t}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const v=Bt._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const w=Bt._svgFactory.createElement("use");g.append(w),w.setAttribute("href",`#${l}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const f=Bt._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${l}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return i.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),c(this,Rt).set(t,i),t}finalizeLine(e,t){const i=c(this,Ur).get(e);c(this,Ur).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,Rt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,Ur).delete(e)}updatePath(e,t){c(this,Ur).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;b(i=Bt,Uh,cv).call(i,c(this,Rt).get(e),t)}show(e,t){c(this,Rt).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,Rt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,Rt).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,Rt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,Rt).get(e).classList.add(t)}removeClass(e,t){c(this,Rt).get(e).classList.remove(t)}remove(e){c(this,es)!==null&&(c(this,Rt).get(e).remove(),c(this,Rt).delete(e))}destroy(){S(this,es,null);for(const e of c(this,Rt).values())e.remove();c(this,Rt).clear()}};es=new WeakMap,jh=new WeakMap,Rt=new WeakMap,Ur=new WeakMap,Uh=new WeakSet,cv=function(e,{x:t=0,y:i=0,width:r=1,height:o=1}={}){const{style:l}=e;l.top=`${100*i}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*o}%`},va=new WeakSet,hv=function(e){var i;const t=Bt._svgFactory.create(1,1,!0);return c(this,es).append(t),t.setAttribute("aria-hidden",!0),b(i=Bt,Uh,cv).call(i,t,e),t},jS=function(e,t){const i=Bt._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const o=Bt._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},x(Bt,Uh);let uv=Bt;var Uk=Se.AbortException,$k=Se.AnnotationEditorLayer,Vk=Se.AnnotationEditorParamsType,Wk=Se.AnnotationEditorType,Gk=Se.AnnotationEditorUIManager,US=Se.AnnotationLayer,$S=Se.AnnotationMode,qk=Se.CMapCompressionType,Xk=Se.ColorPicker,Kk=Se.DOMSVGFactory,Yk=Se.DrawLayer,Qk=Se.FeatureTest,Rv=Se.GlobalWorkerOptions,Jk=Se.ImageKind,Zk=Se.InvalidPDFException,eR=Se.MissingPDFException,tR=Se.OPS,nR=Se.Outliner,iR=Se.PDFDataRangeTransport,sR=Se.PDFDateString,rR=Se.PDFWorker,oR=Se.PasswordResponses,aR=Se.PermissionFlag,lR=Se.PixelsPerInch,uR=Se.RenderingCancelledException,VS=Se.TextLayer,cR=Se.UnexpectedResponseException,hR=Se.Util,dR=Se.VerbosityLevel,fR=Se.XfaLayer,pR=Se.build,gR=Se.createValidAbsoluteUrl,mR=Se.fetchData,WS=Se.getDocument,yR=Se.getFilenameFromUrl,vR=Se.getPdfFilenameFromUrl,wR=Se.getXfaPageViewport,AR=Se.isDataScheme,_R=Se.isPdfFile,ER=Se.noContextMenu,SR=Se.normalizeUnicode,bR=Se.renderTextLayer,xR=Se.setLayerDimensions,CR=Se.shadow,TR=Se.updateTextLayer,kR=Se.version;const RR=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Uk,AnnotationEditorLayer:$k,AnnotationEditorParamsType:Vk,AnnotationEditorType:Wk,AnnotationEditorUIManager:Gk,AnnotationLayer:US,AnnotationMode:$S,CMapCompressionType:qk,ColorPicker:Xk,DOMSVGFactory:Kk,DrawLayer:Yk,FeatureTest:Qk,GlobalWorkerOptions:Rv,ImageKind:Jk,InvalidPDFException:Zk,MissingPDFException:eR,OPS:tR,Outliner:nR,PDFDataRangeTransport:iR,PDFDateString:sR,PDFWorker:rR,PasswordResponses:oR,PermissionFlag:aR,PixelsPerInch:lR,RenderingCancelledException:uR,TextLayer:VS,UnexpectedResponseException:cR,Util:hR,VerbosityLevel:dR,XfaLayer:fR,build:pR,createValidAbsoluteUrl:gR,fetchData:mR,getDocument:WS,getFilenameFromUrl:yR,getPdfFilenameFromUrl:vR,getXfaPageViewport:wR,isDataScheme:AR,isPdfFile:_R,noContextMenu:ER,normalizeUnicode:SR,renderTextLayer:bR,setLayerDimensions:xR,shadow:CR,updateTextLayer:TR,version:kR},Symbol.toStringTag,{value:"Module"}));var Ft=function(u,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return u.concat(o||Array.prototype.slice.call(e))},PR=["onCopy","onCut","onPaste"],LR=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],MR=["onFocus","onBlur"],DR=["onInput","onInvalid","onReset","onSubmit"],IR=["onLoad","onError"],FR=["onKeyDown","onKeyPress","onKeyUp"],OR=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],NR=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],HR=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],zR=["onSelect"],BR=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],jR=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],UR=["onScroll"],$R=["onWheel"],VR=["onAnimationStart","onAnimationEnd","onAnimationIteration"],WR=["onTransitionEnd"],GR=["onToggle"],qR=["onChange"],XR=Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft(Ft([],PR,!0),LR,!0),MR,!0),DR,!0),IR,!0),FR,!0),OR,!0),NR,!0),HR,!0),zR,!0),BR,!0),jR,!0),UR,!0),$R,!0),VR,!0),WR,!0),qR,!0),GR,!0);function GS(u,e){var t={};return XR.forEach(function(i){var r=u[i];r&&(e?t[i]=function(o){return r(o,e(i))}:t[i]=r)}),t}function Kh(u){var e=!1,t=new Promise(function(i,r){u.then(function(o){return!e&&i(o)}).catch(function(o){return!e&&r(o)})});return{promise:t,cancel:function(){e=!0}}}function qS(u){var e,t,i="";if(typeof u=="string"||typeof u=="number")i+=u;else if(typeof u=="object")if(Array.isArray(u)){var r=u.length;for(e=0;e<r;e++)u[e]&&(t=qS(u[e]))&&(i&&(i+=" "),i+=t)}else for(t in u)u[t]&&(i&&(i+=" "),i+=t);return i}function Fp(){for(var u,e,t=0,i="",r=arguments.length;t<r;t++)(u=arguments[t])&&(e=qS(u))&&(i&&(i+=" "),i+=e);return i}var KR="Invariant failed";function Ze(u,e){if(!u)throw new Error(KR)}var $m,l_;function YR(){if(l_)return $m;l_=1;var u=function(){};return $m=u,$m}var QR=YR();const sn=__(QR);var u_=Object.prototype.hasOwnProperty;function c_(u,e,t){for(t of u.keys())if(tl(t,e))return t}function tl(u,e){var t,i,r;if(u===e)return!0;if(u&&e&&(t=u.constructor)===e.constructor){if(t===Date)return u.getTime()===e.getTime();if(t===RegExp)return u.toString()===e.toString();if(t===Array){if((i=u.length)===e.length)for(;i--&&tl(u[i],e[i]););return i===-1}if(t===Set){if(u.size!==e.size)return!1;for(i of u)if(r=i,r&&typeof r=="object"&&(r=c_(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(u.size!==e.size)return!1;for(i of u)if(r=i[0],r&&typeof r=="object"&&(r=c_(e,r),!r)||!tl(i[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)u=new Uint8Array(u),e=new Uint8Array(e);else if(t===DataView){if((i=u.byteLength)===e.byteLength)for(;i--&&u.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(u)){if((i=u.byteLength)===e.byteLength)for(;i--&&u[i]===e[i];);return i===-1}if(!t||typeof u=="object"){i=0;for(t in u)if(u_.call(u,t)&&++i&&!u_.call(e,t)||!(t in e)||!tl(u[t],e[t]))return!1;return Object.keys(e).length===i}}return u!==u&&e!==e}const XS=ce.createContext(null);function nl({children:u,type:e}){return ze.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:u})}const JR="noopener noreferrer nofollow";class ZR{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ze(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ze(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Ze(this.pdfDocument),Ze(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ze(Array.isArray(t));const i=t[0];new Promise(r=>{Ze(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(o=>{r(o)}).catch(()=>{Ze(!1)}):typeof i=="number"?r(i):Ze(!1)}).then(r=>{const o=r+1;Ze(this.pdfViewer),Ze(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ze(this.pdfViewer),Ze(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||JR,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const h_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Op=typeof window<"u",KS=Op&&window.location.protocol==="file:";function eP(u){return typeof u<"u"}function lo(u){return eP(u)&&u!==null}function tP(u){return typeof u=="string"}function nP(u){return u instanceof ArrayBuffer}function iP(u){return Ze(Op),u instanceof Blob}function dv(u){return tP(u)&&/^data:/.test(u)}function d_(u){Ze(dv(u));const[e="",t=""]=u.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function sP(){return Op&&window.devicePixelRatio||1}const YS="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function f_(){sn(!KS,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${YS}`)}function rP(){sn(!KS,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${YS}`)}function ma(u){u!=null&&u.cancel&&u.cancel()}function fv(u,e){return Object.defineProperty(u,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(u,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(u,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(u,"originalHeight",{get(){return this.view[3]},configurable:!0}),u}function oP(u){return u.name==="RenderingCancelledException"}function aP(u){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(u)})}function lP(u,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return u}}function Jl(){return ce.useReducer(lP,{value:void 0,error:void 0})}var uP=function(u,e,t,i){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function h(g){try{p(i.next(g))}catch(v){l(v)}}function f(g){try{p(i.throw(g))}catch(v){l(v)}}function p(g){g.done?o(g.value):r(g.value).then(h,f)}p((i=i.apply(u,e||[])).next())})},p_=function(u,e){var t={};for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&e.indexOf(i)<0&&(t[i]=u[i]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(u);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(u,i[r])&&(t[i[r]]=u[i[r]]);return t};const{PDFDataRangeTransport:cP}=RR,hP=(u,e)=>{switch(e){case h_.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");u(t);break}case h_.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");u(t);break}}};function g_(u){return typeof u=="object"&&u!==null&&("data"in u||"range"in u||"url"in u)}const dP=ce.forwardRef(function(e,t){var{children:i,className:r,error:o="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:h,file:f,inputRef:p,imageResourcesPath:g,loading:v="Loading PDF…",noData:w="No PDF file specified.",onItemClick:_,onLoadError:A,onLoadProgress:C,onLoadSuccess:T,onPassword:k=hP,onSourceError:L,onSourceSuccess:I,options:O,renderMode:z,rotate:B}=e,V=p_(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[q,Q]=Jl(),{value:se,error:Z}=q,[Te,ge]=Jl(),{value:fe,error:be}=Te,_e=ce.useRef(new ZR),Y=ce.useRef([]),$=ce.useRef(void 0),oe=ce.useRef(void 0);f&&f!==$.current&&g_(f)&&(sn(!tl(f,$.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),$.current=f),O&&O!==oe.current&&(sn(!tl(O,oe.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),oe.current=O);const J=ce.useRef({scrollPageIntoView:Ve=>{const{dest:rt,pageNumber:Et,pageIndex:ft=Et-1}=Ve;if(_){_({dest:rt,pageIndex:ft,pageNumber:Et});return}const Pi=Y.current[ft];if(Pi){Pi.scrollIntoView();return}sn(!1,`An internal link leading to page ${Et} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});ce.useImperativeHandle(t,()=>({linkService:_e,pages:Y,viewer:J}),[]);function D(){I&&I()}function U(){Z&&(sn(!1,Z.toString()),L&&L(Z))}function ae(){Q({type:"RESET"})}ce.useEffect(ae,[f,Q]);const we=ce.useCallback(()=>uP(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return dv(f)?{data:d_(f)}:(f_(),{url:f});if(f instanceof cP)return{range:f};if(nP(f))return{data:f};if(Op&&iP(f))return{data:yield aP(f)};if(Ze(typeof f=="object"),Ze(g_(f)),"url"in f&&typeof f.url=="string"){if(dv(f.url)){const{url:Ve}=f,rt=p_(f,["url"]),Et=d_(Ve);return Object.assign({data:Et},rt)}f_()}return f}),[f]);ce.useEffect(()=>{const Ve=Kh(we());return Ve.promise.then(rt=>{Q({type:"RESOLVE",value:rt})}).catch(rt=>{Q({type:"REJECT",error:rt})}),()=>{ma(Ve)}},[we,Q]),ce.useEffect(()=>{if(!(typeof se>"u")){if(se===!1){U();return}D()}},[se]);function xe(){fe&&(T&&T(fe),Y.current=new Array(fe.numPages),_e.current.setDocument(fe))}function Ae(){be&&(sn(!1,be.toString()),A&&A(be))}ce.useEffect(function(){ge({type:"RESET"})},[ge,se]),ce.useEffect(function(){if(!se)return;const rt=O?Object.assign(Object.assign({},se),O):se,Et=WS(rt);C&&(Et.onProgress=C),k&&(Et.onPassword=k);const ft=Et,Pi=ft.promise.then(Js=>{ge({type:"RESOLVE",value:Js})}).catch(Js=>{ft.destroyed||ge({type:"REJECT",error:Js})});return()=>{Pi.finally(()=>ft.destroy())}},[O,ge,se]),ce.useEffect(()=>{if(!(typeof fe>"u")){if(fe===!1){Ae();return}xe()}},[fe]),ce.useEffect(function(){_e.current.setViewer(J.current),_e.current.setExternalLinkRel(l),_e.current.setExternalLinkTarget(h)},[l,h]);const me=ce.useCallback((Ve,rt)=>{Y.current[Ve]=rt},[]),ke=ce.useCallback(Ve=>{delete Y.current[Ve]},[]),Oe=ce.useMemo(()=>({imageResourcesPath:g,linkService:_e.current,onItemClick:_,pdf:fe,registerPage:me,renderMode:z,rotate:B,unregisterPage:ke}),[g,_,fe,me,z,B,ke]),Fe=ce.useMemo(()=>GS(V,()=>fe),[V,fe]);function Ri(){return ze.jsx(XS.Provider,{value:Oe,children:i})}function Qs(){return f?fe==null?ze.jsx(nl,{type:"loading",children:typeof v=="function"?v():v}):fe===!1?ze.jsx(nl,{type:"error",children:typeof o=="function"?o():o}):Ri():ze.jsx(nl,{type:"no-data",children:typeof w=="function"?w():w})}return ze.jsx("div",Object.assign({className:Fp("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},Fe,{children:Qs()}))});function QS(){return ce.useContext(XS)}function JS(){for(var u=[],e=0;e<arguments.length;e++)u[e]=arguments[e];var t=u.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(o){t.forEach(function(l){typeof l=="function"?l(o):l&&(l.current=o)})}}const ZS=ce.createContext(null),e1={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},fP=/^H(\d+)$/;function pP(u){return u in e1}function Np(u){return"children"in u}function t1(u){return Np(u)?u.children.length===1&&0 in u.children&&"id"in u.children[0]:!1}function gP(u){const e={};if(Np(u)){const{role:t}=u,i=t.match(fP);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(pP(t)){const r=e1[t];r&&(e.role=r)}}return e}function n1(u){const e={};if(Np(u)){if(u.alt!==void 0&&(e["aria-label"]=u.alt),u.lang!==void 0&&(e.lang=u.lang),t1(u)){const[t]=u.children;if(t){const i=n1(t);return Object.assign(Object.assign({},e),i)}}}else"id"in u&&(e["aria-owns"]=u.id);return e}function mP(u){return u?Object.assign(Object.assign({},gP(u)),n1(u)):null}function i1({className:u,node:e}){const t=ce.useMemo(()=>mP(e),[e]),i=ce.useMemo(()=>!Np(e)||t1(e)?null:e.children.map((r,o)=>ze.jsx(i1,{node:r},o)),[e]);return ze.jsx("span",Object.assign({className:u},t,{children:i}))}function Hp(){return ce.useContext(ZS)}function yP(){const u=Hp();Ze(u);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=u,[i,r]=Jl(),{value:o,error:l}=i,{customTextRenderer:h,page:f}=u;function p(){o&&t&&t(o)}function g(){l&&(sn(!1,l.toString()),e&&e(l))}return ce.useEffect(function(){r({type:"RESET"})},[r,f]),ce.useEffect(function(){if(h||!f)return;const w=Kh(f.getStructTree()),_=w;return w.promise.then(A=>{r({type:"RESOLVE",value:A})}).catch(A=>{r({type:"REJECT",error:A})}),()=>ma(_)},[h,f,r]),ce.useEffect(()=>{if(o!==void 0){if(o===!1){g();return}p()}},[o]),o?ze.jsx(i1,{className:"react-pdf__Page__structTree structTree",node:o}):null}const m_=$S;function vP(u){const e=Hp();Ze(e);const t=Object.assign(Object.assign({},e),u),{_className:i,canvasBackground:r,devicePixelRatio:o=sP(),onRenderError:l,onRenderSuccess:h,page:f,renderForms:p,renderTextLayer:g,rotate:v,scale:w}=t,{canvasRef:_}=u;Ze(f);const A=ce.useRef(null);function C(){f&&h&&h(fv(f,w))}function T(O){oP(O)||(sn(!1,O.toString()),l&&l(O))}const k=ce.useMemo(()=>f.getViewport({scale:w*o,rotation:v}),[o,f,v,w]),L=ce.useMemo(()=>f.getViewport({scale:w,rotation:v}),[f,v,w]);ce.useEffect(function(){if(!f)return;f.cleanup();const{current:z}=A;if(!z)return;z.width=k.width,z.height=k.height,z.style.width=`${Math.floor(L.width)}px`,z.style.height=`${Math.floor(L.height)}px`,z.style.visibility="hidden";const B={annotationMode:p?m_.ENABLE_FORMS:m_.ENABLE,canvasContext:z.getContext("2d",{alpha:!1}),viewport:k};r&&(B.background=r);const V=f.render(B),q=V;return V.promise.then(()=>{z.style.visibility="",C()}).catch(T),()=>ma(q)},[r,f,p,k,L]);const I=ce.useCallback(()=>{const{current:O}=A;O&&(O.width=0,O.height=0)},[]);return ce.useEffect(()=>I,[I]),ze.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:JS(_,A),style:{display:"block",userSelect:"none"},children:g?ze.jsx(yP,{}):null})}function wP(u){return"str"in u}function AP(){const u=Hp();Ze(u);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:h,pageNumber:f,rotate:p,scale:g}=u;Ze(l);const[v,w]=Jl(),{value:_,error:A}=v,C=ce.useRef(null),T=ce.useRef(void 0);sn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function k(){_&&i&&i(_)}function L(){A&&(sn(!1,A.toString()),t&&t(A))}ce.useEffect(function(){w({type:"RESET"})},[l,w]),ce.useEffect(function(){if(!l)return;const Q=Kh(l.getTextContent()),se=Q;return Q.promise.then(Z=>{w({type:"RESOLVE",value:Z})}).catch(Z=>{w({type:"REJECT",error:Z})}),()=>ma(se)},[l,w]),ce.useEffect(()=>{if(_!==void 0){if(_===!1){L();return}k()}},[_]);const I=ce.useCallback(()=>{o&&o()},[o]),O=ce.useCallback(q=>{sn(!1,q.toString()),r&&r(q)},[r]);function z(){const q=T.current;q&&q.classList.add("active")}function B(){const q=T.current;q&&q.classList.remove("active")}const V=ce.useMemo(()=>l.getViewport({scale:g,rotation:p}),[l,p,g]);return ce.useLayoutEffect(function(){if(!l||!_)return;const{current:Q}=C;if(!Q)return;Q.innerHTML="";const se=l.streamTextContent({includeMarkedContent:!0}),Z={container:Q,textContentSource:se,viewport:V},Te=new VS(Z),ge=Te;return Te.render().then(()=>{const fe=document.createElement("div");fe.className="endOfContent",Q.append(fe),T.current=fe;const be=Q.querySelectorAll('[role="presentation"]');if(e){let _e=0;_.items.forEach((Y,$)=>{if(!wP(Y))return;const oe=be[_e];if(!oe)return;const J=e(Object.assign({pageIndex:h,pageNumber:f,itemIndex:$},Y));oe.innerHTML=J,_e+=Y.str&&Y.hasEOL?2:1})}I()}).catch(O),()=>ma(ge)},[e,O,I,l,h,f,_,V]),ze.jsx("div",{className:Fp("react-pdf__Page__textContent","textLayer"),onMouseUp:B,onMouseDown:z,ref:C})}function _P(){const u=QS(),e=Hp();Ze(e);const t=Object.assign(Object.assign({},u),e),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:p,pdf:g,renderForms:v,rotate:w,scale:_=1}=t;Ze(g),Ze(p),Ze(r);const[A,C]=Jl(),{value:T,error:k}=A,L=ce.useRef(null);sn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function I(){T&&l&&l(T)}function O(){k&&(sn(!1,k.toString()),o&&o(k))}ce.useEffect(function(){C({type:"RESET"})},[C,p]),ce.useEffect(function(){if(!p)return;const Q=Kh(p.getAnnotations()),se=Q;return Q.promise.then(Z=>{C({type:"RESOLVE",value:Z})}).catch(Z=>{C({type:"REJECT",error:Z})}),()=>{ma(se)}},[C,p]),ce.useEffect(()=>{if(T!==void 0){if(T===!1){O();return}I()}},[T]);function z(){f&&f()}function B(q){sn(!1,`${q}`),h&&h(q)}const V=ce.useMemo(()=>p.getViewport({scale:_,rotation:w}),[p,w,_]);return ce.useEffect(function(){if(!g||!p||!r||!T)return;const{current:Q}=L;if(!Q)return;const se=V.clone({dontFlip:!0}),Z={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Q,l10n:null,page:p,viewport:se},Te={annotations:T,annotationStorage:g.annotationStorage,div:Q,imageResourcesPath:i,linkService:r,page:p,renderForms:v,viewport:se};Q.innerHTML="";try{new US(Z).render(Te),z()}catch(ge){B(ge)}return()=>{}},[T,i,r,p,g,v,V]),ze.jsx("div",{className:Fp("react-pdf__Page__annotations","annotationLayer"),ref:L})}var EP=function(u,e){var t={};for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&e.indexOf(i)<0&&(t[i]=u[i]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(u);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(u,i[r])&&(t[i[r]]=u[i[r]]);return t};const y_=1;function SP(u){const e=QS(),t=Object.assign(Object.assign({},e),u),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:h,className:f,customRenderer:p,customTextRenderer:g,devicePixelRatio:v,error:w="Failed to load the page.",height:_,inputRef:A,loading:C="Loading page…",noData:T="No page specified.",onGetAnnotationsError:k,onGetAnnotationsSuccess:L,onGetStructTreeError:I,onGetStructTreeSuccess:O,onGetTextError:z,onGetTextSuccess:B,onLoadError:V,onLoadSuccess:q,onRenderAnnotationLayerError:Q,onRenderAnnotationLayerSuccess:se,onRenderError:Z,onRenderSuccess:Te,onRenderTextLayerError:ge,onRenderTextLayerSuccess:fe,pageIndex:be,pageNumber:_e,pdf:Y,registerPage:$,renderAnnotationLayer:oe=!0,renderForms:J=!1,renderMode:D="canvas",renderTextLayer:U=!0,rotate:ae,scale:we=y_,unregisterPage:xe,width:Ae}=t,me=EP(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ke,Oe]=Jl(),{value:Fe,error:Ri}=ke,Qs=ce.useRef(null);Ze(Y);const Ve=lo(_e)?_e-1:be??null,rt=_e??(lo(be)?be+1:null),Et=ae??(Fe?Fe.rotate:null),ft=ce.useMemo(()=>{if(!Fe)return null;let Li=1;const ss=we??y_;if(Ae||_){const Xr=Fe.getViewport({scale:1,rotation:Et});Ae?Li=Ae/Xr.width:_&&(Li=_/Xr.height)}return ss*Li},[_,Fe,Et,we,Ae]);ce.useEffect(function(){return()=>{lo(Ve)&&r&&xe&&xe(Ve)}},[r,Y,Ve,xe]);function Pi(){if(q){if(!Fe||!ft)return;q(fv(Fe,ft))}if(r&&$){if(!lo(Ve)||!Qs.current)return;$(Ve,Qs.current)}}function Js(){Ri&&(sn(!1,Ri.toString()),V&&V(Ri))}ce.useEffect(function(){Oe({type:"RESET"})},[Oe,Y,Ve]),ce.useEffect(function(){if(!Y||!rt)return;const ss=Kh(Y.getPage(rt)),Xr=ss;return ss.promise.then(rs=>{Oe({type:"RESOLVE",value:rs})}).catch(rs=>{Oe({type:"REJECT",error:rs})}),()=>ma(Xr)},[Oe,Y,rt]),ce.useEffect(()=>{if(Fe!==void 0){if(Fe===!1){Js();return}Pi()}},[Fe,ft]);const tu=ce.useMemo(()=>Fe&&lo(Ve)&&rt&&lo(Et)&&lo(ft)?{_className:i,canvasBackground:o,customTextRenderer:g,devicePixelRatio:v,onGetAnnotationsError:k,onGetAnnotationsSuccess:L,onGetStructTreeError:I,onGetStructTreeSuccess:O,onGetTextError:z,onGetTextSuccess:B,onRenderAnnotationLayerError:Q,onRenderAnnotationLayerSuccess:se,onRenderError:Z,onRenderSuccess:Te,onRenderTextLayerError:ge,onRenderTextLayerSuccess:fe,page:Fe,pageIndex:Ve,pageNumber:rt,renderForms:J,renderTextLayer:U,rotate:Et,scale:ft}:null,[i,o,g,v,k,L,I,O,z,B,Q,se,Z,Te,ge,fe,Fe,Ve,rt,J,U,Et,ft]),qr=ce.useMemo(()=>GS(me,()=>Fe&&(ft?fv(Fe,ft):void 0)),[me,Fe,ft]),ri=`${Ve}@${ft}/${Et}`;function nu(){switch(D){case"custom":return Ze(p),ze.jsx(p,{},`${ri}_custom`);case"none":return null;case"canvas":default:return ze.jsx(vP,{canvasRef:l},`${ri}_canvas`)}}function Yh(){return U?ze.jsx(AP,{},`${ri}_text`):null}function Qh(){return oe?ze.jsx(_P,{},`${ri}_annotations`):null}function Jh(){return ze.jsxs(ZS.Provider,{value:tu,children:[nu(),Yh(),Qh(),h]})}function Zh(){return rt?Y===null||Fe===void 0||Fe===null?ze.jsx(nl,{type:"loading",children:typeof C=="function"?C():C}):Y===!1||Fe===!1?ze.jsx(nl,{type:"error",children:typeof w=="function"?w():w}):Jh():ze.jsx(nl,{type:"no-data",children:typeof T=="function"?T():T})}return ze.jsx("div",Object.assign({className:Fp(i,f),"data-page-number":rt,ref:JS(A,Qs),style:{"--scale-factor":`${ft}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},qr,{children:Zh()}))}rP();Rv.workerSrc="pdf.worker.mjs";Rv.workerSrc=new URL("/assets/pdf.worker.min-DGf6LXVo.mjs",import.meta.url).toString();const v_=u=>{const[e,t]=ce.useState();function i({numPages:r}){t(r)}return ze.jsx("div",{children:ze.jsx(dP,{file:u.file,onLoadSuccess:i,children:[...Array(e)].map((r,o)=>ze.jsx(SP,{pageNumber:o+1,renderTextLayer:!1,renderAnnotationLayer:!1},o+1))})})},bP=()=>{const[u,e]=ce.useState(),[t,i]=ce.useState(),r=l=>{if(l.target.files[0].type==="application/vnd.openxmlformats-officedocument.presentationml.presentation"){const h=new FormData,f=l.target.files[0];h.append("file",f),yt.post("http:localhost:3000/api/files",h,{responseType:"blob",transformResponse:[function(p){let g=new window.Blob([p],{type:"application/pdf"});return window.URL.createObjectURL(g)}]}).then(p=>e(p.data))}e(l.target.files[0])},o=l=>{if(l.target.files[0].type==="application/vnd.openxmlformats-officedocument.presentationml.presentation"){const h=new FormData,f=l.target.files[0];h.append("file",f),yt.post("/api/files",h,{responseType:"blob",transformResponse:[function(p){let g=new window.Blob([p],{type:"application/pdf"});return window.URL.createObjectURL(g)}]}).then(p=>i(p.data))}i(l.target.files[0])};return ze.jsxs("div",{children:[ze.jsx("p",{children:"Submit pdf or powerpoint. Translate one of them using free online pdf or powerpoint translator"}),ze.jsxs("form",{encType:"multipart/form-data",children:[ze.jsx("input",{type:"file",onChange:r}),ze.jsx("input",{type:"file",onChange:o})]}),ze.jsxs("div",{className:"pdfs",children:[ze.jsx(v_,{file:u}),ze.jsx(v_,{file:t})]})]})};hx.createRoot(document.getElementById("root")).render(ze.jsx(bP,{}));
